import{r as K,j as $,L as Qi,R as eu}from"./index-eGP3Ghub.js";import{M as tu,i as ru,u as yn,b as nu,c as iu,d as uu,L as ou,r as su,m as je,S as au,P as ft,D as An}from"./ScrollDown-C8usCmbg.js";/* empty css                  */class cu extends K.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const i=r.offsetParent,n=ru(i)&&i.offsetWidth||0,u=this.props.sizeRef.current;u.height=r.offsetHeight||0,u.width=r.offsetWidth||0,u.top=r.offsetTop,u.left=r.offsetLeft,u.right=n-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function fu({children:e,isPresent:t,anchorX:r,root:i}){const n=K.useId(),u=K.useRef(null),o=K.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=K.useContext(tu);return K.useInsertionEffect(()=>{const{width:l,height:f,top:a,left:h,right:d}=o.current;if(t||!u.current||!l||!f)return;const D=r==="left"?`left: ${h}`:`right: ${d}`;u.current.dataset.motionPopId=n;const p=document.createElement("style");s&&(p.nonce=s);const c=i??document.head;return c.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${f}px !important;
            ${D}px !important;
            top: ${a}px !important;
          }
        `),()=>{c.contains(p)&&c.removeChild(p)}},[t]),$.jsx(cu,{isPresent:t,childRef:u,sizeRef:o,children:K.cloneElement(e,{ref:u})})}const lu=({children:e,initial:t,isPresent:r,onExitComplete:i,custom:n,presenceAffectsLayout:u,mode:o,anchorX:s,root:l})=>{const f=yn(hu),a=K.useId();let h=!0,d=K.useMemo(()=>(h=!1,{id:a,initial:t,isPresent:r,custom:n,onExitComplete:D=>{f.set(D,!0);for(const p of f.values())if(!p)return;i&&i()},register:D=>(f.set(D,!1),()=>f.delete(D))}),[r,f,i]);return u&&h&&(d={...d}),K.useMemo(()=>{f.forEach((D,p)=>f.set(p,!1))},[r]),K.useEffect(()=>{!r&&!f.size&&i&&i()},[r]),o==="popLayout"&&(e=$.jsx(fu,{isPresent:r,anchorX:s,root:l,children:e})),$.jsx(nu.Provider,{value:d,children:e})};function hu(){return new Map}const kt=e=>e.key||"";function jr(e){const t=[];return K.Children.forEach(e,r=>{K.isValidElement(r)&&t.push(r)}),t}const du=({children:e,custom:t,initial:r=!0,onExitComplete:i,presenceAffectsLayout:n=!0,mode:u="sync",propagate:o=!1,anchorX:s="left",root:l})=>{const[f,a]=iu(o),h=K.useMemo(()=>jr(e),[e]),d=o&&!f?[]:h.map(kt),D=K.useRef(!0),p=K.useRef(h),c=yn(()=>new Map),[m,F]=K.useState(h),[y,E]=K.useState(h);uu(()=>{D.current=!1,p.current=h;for(let g=0;g<y.length;g++){const C=kt(y[g]);d.includes(C)?c.delete(C):c.get(C)!==!0&&c.set(C,!1)}},[y,d.length,d.join("-")]);const b=[];if(h!==m){let g=[...h];for(let C=0;C<y.length;C++){const B=y[C],N=kt(B);d.includes(N)||(g.splice(C,0,B),b.push(B))}return u==="wait"&&b.length&&(g=b),E(jr(g)),F(h),null}const{forceRender:w}=K.useContext(ou);return $.jsx($.Fragment,{children:y.map(g=>{const C=kt(g),B=o&&!f?!1:h===y||d.includes(C),N=()=>{if(c.has(C))c.set(C,!0);else return;let M=!0;c.forEach(T=>{T||(M=!1)}),M&&(w?.(),E(p.current),o&&a?.(),i&&i())};return $.jsx(lu,{isPresent:B,initial:!D.current||r?void 0:!1,custom:t,presenceAffectsLayout:n,mode:u,root:l,onExitComplete:B?void 0:N,anchorX:s,children:g},C)})})},Du={some:0,all:1};function pu(e,t,{root:r,margin:i,amount:n="some"}={}){const u=su(e),o=new WeakMap,s=f=>{f.forEach(a=>{const h=o.get(a.target);if(a.isIntersecting!==!!h)if(a.isIntersecting){const d=t(a.target,a);typeof d=="function"?o.set(a.target,d):l.unobserve(a.target)}else typeof h=="function"&&(h(a),o.delete(a.target))})},l=new IntersectionObserver(s,{root:r,rootMargin:i,threshold:typeof n=="number"?n:Du[n]});return u.forEach(f=>l.observe(f)),()=>l.disconnect()}function mu(e,{root:t,margin:r,amount:i,once:n=!1,initial:u=!1}={}){const[o,s]=K.useState(u);return K.useEffect(()=>{if(!e.current||n&&o)return;const l=()=>(s(!0),n?void 0:()=>s(!1)),f={root:t&&t.current||void 0,margin:r,amount:i};return pu(e.current,l,f)},[t,e,r,n,i]),o}function gu({content:e}){const t={hidden:{opacity:0,scale:1.02},visible:{opacity:1,scale:1,transition:{duration:.7,ease:[.2,.9,.2,1]}}},r={hidden:{opacity:0,x:12},visible:(n=0)=>({opacity:1,x:0,transition:{duration:.6,delay:.08+n*.06,ease:[.2,.9,.2,1]}})},i={hidden:{opacity:0,y:8},visible:{opacity:1,y:0,transition:{duration:.6,delay:.18,ease:[.2,.9,.2,1]}}};return $.jsxs("div",{className:"hero-section",id:"work-hero-section",children:[$.jsx(je.img,{className:"hero-banner",id:e.title.replace(/\s+/g,"-")+"-hero-banner",src:e.banner,alt:e.title.replace(/\s+/g,"-")+"hero banner",variants:t,initial:"hidden",animate:"visible"}),$.jsxs(je.div,{className:"hero-side",id:"work-hero-side",variants:r,custom:0,initial:"hidden",animate:"visible",children:[$.jsx("div",{className:"icon-array-vertical",id:"work-hero-icons",children:e.software.map(n=>$.jsx("img",{className:"hero-side-decal",src:`/img/software/${n}.svg`,alt:`${n}-logo`},n))}),$.jsx("div",{className:"text-array",id:"work-hero-side-skills",children:e.skills.map(n=>$.jsx("p",{className:"tech-info tr90",id:`hero-side-skill-${n.toLowerCase().replace(/\s+/g,"-")}`,children:n.toLowerCase().replace(/\s+/g,"_")+"_/"},n))}),$.jsx("img",{className:"hero-side-decal",src:"/img/icon/CRS.svg",alt:"A Cross Divider"}),$.jsxs("div",{className:"hero-side-text",id:"work-project-code",children:[$.jsx("p",{className:"tech-small tr90",id:"work-hero-project-id",children:"PRJ_"+e.id.toString().padStart(3,"0")+":::"}),$.jsx("p",{className:"tech-small tr90",id:"work-hero-project-client",children:e.client})]}),$.jsx("p",{className:"tech-small tr90",id:"work-hero-side-deco-text",children:e.year}),$.jsx(au,{})]}),$.jsx(je.div,{className:"hero-content",id:"work-hero-content",variants:r,custom:1,initial:"hidden",animate:"visible",children:$.jsxs(je.div,{className:"hero-title-wrapper",id:"work-hero-title-wrapper",variants:i,initial:"hidden",animate:"visible",children:[$.jsx("img",{className:"hero-title-decal",id:"work-hero-decal",src:"/img/icon/PLS.svg",alt:"Plus Sign"}),$.jsx("h2",{id:"work-hero-title",children:e.title.replace(/\s+/g,"_")}),$.jsx("img",{className:"hero-title-decal",id:"work-hero-decal",src:"/img/icon/PLS.svg",alt:"Plus Sign"})]})})]})}gu.propTypes={content:ft.object.isRequired};const Mc=({position:e="right",colors:t=["var(--c-LGHT)","var(--c-BRND)"],items:r=[{label:"Work",ariaLabel:"See my work",link:"/work"},{label:"About",ariaLabel:"Learn about me",link:"/about"},{label:"Contact",ariaLabel:"Get in touch",link:"/contact"}],socialItems:i=[{label:"Artstation",link:"https://twitter.com"},{label:"GitHub",link:"https://github.com"},{label:"LinkedIn",link:"https://linkedin.com"}],className:n,menuButtonColor:u="var(--c-LGHT)",openMenuButtonColor:o="var(--c-BRND)",accentColor:s="var(--c-BRND)",changeMenuColorOnOpen:l=!0,isFixed:f=!0,onMenuOpen:a,onMenuClose:h})=>{const[d,D]=K.useState(!1),p=K.useRef(!1),c=K.useRef(null),m=K.useRef(null),F=K.useRef(null),y=K.useRef(null),E=K.useRef(null),b=K.useRef(null),w=K.useRef(null),[g,C]=K.useState(["Menu","Close"]),B=K.useRef(null),N=K.useRef(!1);K.useLayoutEffect(()=>{B.current&&(B.current.style.color=u)},[u]);const M=t&&t.length?t.slice(0,4):["#1e1e22","#35353c"],T=(()=>{const ee=[...M];if(ee.length>=3){const re=Math.floor(ee.length/2);ee.splice(re,1)}return ee})(),j=e==="left"?"-100%":"100%",Z=ee=>({closed:{x:j},open:{x:"0%",transition:{duration:.5,ease:[.22,1,.36,1],delay:ee*.07}}}),H=T.length+2,k=H?(H-1)*.07+.08:0,U={closed:{x:j,transition:{duration:.32,ease:[.55,.06,.68,.19]}},open:{x:"0%",transition:{duration:.65,ease:[.22,1,.36,1],delay:k}}},X={closed:{},open:ee=>({transition:{staggerChildren:.1,delayChildren:ee}})},J={closed:{y:"140%",rotate:5},open:{y:"0%",rotate:0,transition:{duration:.9,ease:[.22,1,.36,1]}}},Y={closed:{y:25,opacity:0},open:{y:0,opacity:1,transition:{duration:.55}}},ne=400,ce=K.useCallback(ee=>{},[]),se=K.useCallback(ee=>{const re=B.current;if(re)if(l){const ue=ee?o:u;setTimeout(()=>re.style.color=ue,180)}else re.style.color=u},[o,u,l]),[fe,Ae]=K.useState(0),ge=K.useCallback(ee=>{const re=ee?"Menu":"Close",ue=ee?"Close":"Menu",ze=3,Ce=[re];let ae=re;for(let Ge=0;Ge<ze;Ge++)ae=ae==="Menu"?"Close":"Menu",Ce.push(ae);ae!==ue&&Ce.push(ue),Ce.push(ue),C(Ce);const Be=Ce.length,Ve=(Be-1)/Be*100;Ae(Ve)},[]),ve=K.useCallback(()=>{if(N.current)return;N.current=!0;const ee=!p.current;p.current=ee,D(ee),ee?a?.():h?.(),ce(ee),se(ee),ge(ee),setTimeout(()=>N.current=!1,ne)},[ce,se,ge,a,h]),de=s?{"--sm-accent":s}:void 0;return $.jsxs("div",{className:(n?n+" ":"")+"staggered-menu-wrapper"+(f?" fixed-wrapper":""),style:de,"data-position":e,"data-open":d||void 0,children:[$.jsx("div",{ref:m,className:"sm-prelayers","aria-hidden":"true",children:(()=>{const ee=M[0]||"#1e1e22",re=M[M.length-1]||"#35353c";return[$.jsx(je.div,{className:"sm-prelayer",style:{background:ee},initial:"closed",animate:d?"open":"closed",variants:Z(0)},"pre-extra-start"),...T.map((ue,ze)=>$.jsx(je.div,{className:"sm-prelayer",style:{background:ue},initial:"closed",animate:d?"open":"closed",variants:Z(ze+1)},`pre-${ze}`)),$.jsx(je.div,{className:"sm-prelayer",style:{background:re},initial:"closed",animate:d?"open":"closed",variants:Z(T.length+1)},"pre-extra-end")]})()}),$.jsx("header",{className:"staggered-menu-header","aria-label":"Main navigation header",children:$.jsxs("button",{ref:B,className:"sm-toggle","aria-label":d?"Close menu":"Open menu","aria-expanded":d,"aria-controls":"staggered-menu-panel",onClick:ve,type:"button",children:[$.jsx("span",{ref:w,className:"sm-toggle-textWrap","aria-hidden":"true",children:$.jsx(je.span,{ref:b,className:"sm-toggle-textInner",animate:{y:`-${fe}%`},transition:{duration:.5+g.length*.07,ease:[.22,1,.36,1]},children:g.map((ee,re)=>$.jsx("span",{className:"sm-toggle-line",children:ee},re))})}),$.jsxs(je.span,{ref:E,className:"sm-icon","aria-hidden":"true",animate:{rotate:d?225:0},transition:{duration:d?.8:.35,ease:[.22,1,.36,1]},children:[$.jsx("span",{ref:F,className:"sm-icon-line"}),$.jsx("span",{ref:y,className:"sm-icon-line sm-icon-line-v"})]})]})}),$.jsx(du,{children:$.jsx(je.aside,{id:"staggered-menu-panel",ref:c,className:"staggered-menu-panel","aria-hidden":!d,initial:"closed",animate:d?"open":"closed",exit:"closed",variants:U,children:$.jsxs("div",{className:"sm-panel-inner",children:[$.jsx(je.ul,{className:"sm-panel-list",role:"list","data-numbering":!0,variants:X,custom:.15,initial:"closed",animate:d?"open":"closed",children:r&&r.length?r.map((ee,re)=>$.jsx(je.li,{className:"sm-panel-itemWrap",variants:J,children:$.jsx(Qi,{className:"sm-panel-item",to:ee.link,"aria-label":ee.ariaLabel,"data-index":re+1,children:$.jsx("span",{className:"sm-panel-itemLabel",children:ee.label})})},ee.label+re)):$.jsx("li",{className:"sm-panel-itemWrap","aria-hidden":"true",children:$.jsx("span",{className:"sm-panel-item",children:$.jsx("span",{className:"sm-panel-itemLabel",children:"No items"})})})}),$.jsxs("div",{className:"sm-socials","aria-label":"Social links",children:[$.jsx(je.h3,{className:"sm-socials-title",initial:{opacity:0},animate:{opacity:d?1:0},children:"Socials"}),$.jsx(je.ul,{className:"sm-socials-list",role:"list",children:i.map((ee,re)=>$.jsx(je.li,{className:"sm-socials-item",variants:Y,initial:"closed",animate:d?"open":"closed",children:$.jsx("a",{href:ee.link,target:"_blank",rel:"noopener noreferrer",className:"sm-socials-link",children:ee.label})},ee.label+re))})]})]})})})]})};function Xt(){return Xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Xt.apply(null,arguments)}var bn={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function vu(e,t){if(Kt(e,t))return e[t];throw typeof e[t]=="function"&&Fu(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function wu(e,t,r){if(Kt(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function Kt(e,t){return!Eu(e)&&!Array.isArray(e)?!1:er(Cu,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Fu(e,t){return e==null||typeof e[t]!="function"||er(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:er(yu,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Eu(e){return typeof e=="object"&&e&&e.constructor===Object}var Cu={length:!0,name:!0},yu={toString:!0,valueOf:!0,toLocaleString:!0};class Au{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return vu(this.wrappedObject,t)}set(t,r){return wu(this.wrappedObject,t,r),this}has(t){return Kt(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return bu(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){Kt(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function bu(e,t){return{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}function me(e){return typeof e=="number"}function Me(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Bu(e){return typeof e=="bigint"}function Bn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function Nn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function _n(e){return e&&e.constructor.prototype.isUnit===!0||!1}function rt(e){return typeof e=="string"}var Te=Array.isArray;function _e(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Qt(e){return Array.isArray(e)||_e(e)}function Nu(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function _u(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Mu(e){return e&&e.constructor.prototype.isRange===!0||!1}function Mr(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Su(e){return typeof e=="boolean"}function xu(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Tu(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Iu(e){return typeof e=="function"}function Ou(e){return e instanceof Date}function Pu(e){return e instanceof RegExp}function Sr(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!Bn(e)&&!Nn(e))}function zu(e){return e?e instanceof Map||e instanceof Au||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function Ru(e){return e===null}function $u(e){return e===void 0}function Uu(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Lu(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function ju(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function qu(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Vu(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function ku(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Zu(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Wu(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Hu(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Gu(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ju(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Yu(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Xu(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ku(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Qu(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function eo(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function to(e){return e&&e.constructor.prototype.isChain===!0||!1}function dt(e){var t=typeof e;return t==="object"?e===null?"null":Me(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Ne(e){var t=typeof e;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return Ne(r)});if(e instanceof Date)return new Date(e.valueOf());if(Me(e))return e;if(Sr(e))return ro(e,Ne);if(t==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function ro(e,t){var r={};for(var i in e)er(e,i)&&(r[i]=t(e[i]));return r}function St(e,t){var r,i,n;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(i=0,n=e.length;i<n;i++)if(!St(e[i],t[i]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!St(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function er(e,t){return e&&Object.hasOwnProperty.call(e,t)}function no(e,t){for(var r={},i=0;i<t.length;i++){var n=t[i],u=e[n];u!==void 0&&(r[n]=u)}return r}var io=["Matrix","Array"],uo=["number","BigNumber","bigint","Fraction"],pt=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(bn)};Xt(pt,bn,{MATRIX_OPTIONS:io,NUMBER_OPTIONS:uo});function qr(){return!0}function Je(){return!1}function yt(){}const Vr="Argument is not a typed-function.";function Mn(){function e(v){return typeof v=="object"&&v!==null&&v.constructor===Object}const t=[{name:"number",test:function(v){return typeof v=="number"}},{name:"string",test:function(v){return typeof v=="string"}},{name:"boolean",test:function(v){return typeof v=="boolean"}},{name:"Function",test:function(v){return typeof v=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(v){return v instanceof Date}},{name:"RegExp",test:function(v){return v instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(v){return v===null}},{name:"undefined",test:function(v){return v===void 0}}],r={name:"any",test:qr,isAny:!0};let i,n,u=0,o={createCount:0};function s(v){const A=i.get(v);if(A)return A;let _='Unknown type "'+v+'"';const x=v.toLowerCase();let P;for(P of n)if(P.toLowerCase()===x){_+='. Did you mean "'+P+'" ?';break}throw new TypeError(_)}function l(v){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const _=A?s(A).index:n.length,x=[];for(let I=0;I<v.length;++I){if(!v[I]||typeof v[I].name!="string"||typeof v[I].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const q=v[I].name;if(i.has(q))throw new TypeError('Duplicate type name "'+q+'"');x.push(q),i.set(q,{name:q,test:v[I].test,isAny:v[I].isAny,index:_+I,conversionsTo:[]})}const P=n.slice(_);n=n.slice(0,_).concat(x).concat(P);for(let I=_+x.length;I<n.length;++I)i.get(n[I]).index=I}function f(){i=new Map,n=[],u=0,l([r],!1)}f(),l(t);function a(){let v;for(v of n)i.get(v).conversionsTo=[];u=0}function h(v){const A=n.filter(_=>{const x=i.get(_);return!x.isAny&&x.test(v)});return A.length?A:["any"]}function d(v){return v&&typeof v=="function"&&"_typedFunctionData"in v}function D(v,A,_){if(!d(v))throw new TypeError(Vr);const x=_&&_.exact,P=Array.isArray(A)?A.join(","):A,I=b(P),q=m(I);if(!x||q in v.signatures){const he=v._typedFunctionData.signatureMap.get(q);if(he)return he}const R=I.length;let V;if(x){V=[];let he;for(he in v.signatures)V.push(v._typedFunctionData.signatureMap.get(he))}else V=v._typedFunctionData.signatures;for(let he=0;he<R;++he){const pe=I[he],Se=[];let ke;for(ke of V){const Le=B(ke.params,he);if(!(!Le||pe.restParam&&!Le.restParam)){if(!Le.hasAny){const Ke=E(Le);if(pe.types.some(Qe=>!Ke.has(Qe.name)))continue}Se.push(ke)}}if(V=Se,V.length===0)break}let z;for(z of V)if(z.params.length<=R)return z;throw new TypeError("Signature not found (signature: "+(v.name||"unnamed")+"("+m(I,", ")+"))")}function p(v,A,_){return D(v,A,_).implementation}function c(v,A){const _=s(A);if(_.test(v))return v;const x=_.conversionsTo;if(x.length===0)throw new Error("There are no conversions to "+A+" defined.");for(let P=0;P<x.length;P++)if(s(x[P].from).test(v))return x[P].convert(v);throw new Error("Cannot convert "+v+" to "+A)}function m(v){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return v.map(_=>_.name).join(A)}function F(v){const A=v.indexOf("...")===0,x=(A?v.length>3?v.slice(3):"any":v).split("|").map(R=>s(R.trim()));let P=!1,I=A?"...":"";return{types:x.map(function(R){return P=R.isAny||P,I+=R.name+"|",{name:R.name,typeIndex:R.index,test:R.test,isAny:R.isAny,conversion:null,conversionIndex:-1}}),name:I.slice(0,-1),hasAny:P,hasConversion:!1,restParam:A}}function y(v){const A=v.types.map(q=>q.name),_=X(A);let x=v.hasAny,P=v.name;const I=_.map(function(q){const R=s(q.from);return x=R.isAny||x,P+="|"+q.from,{name:q.from,typeIndex:R.index,test:R.test,isAny:R.isAny,conversion:q,conversionIndex:q.index}});return{types:v.types.concat(I),name:P,hasAny:x,hasConversion:I.length>0,restParam:v.restParam}}function E(v){return v.typeSet||(v.typeSet=new Set,v.types.forEach(A=>v.typeSet.add(A.name))),v.typeSet}function b(v){const A=[];if(typeof v!="string")throw new TypeError("Signatures must be strings");const _=v.trim();if(_==="")return A;const x=_.split(",");for(let P=0;P<x.length;++P){const I=F(x[P].trim());if(I.restParam&&P!==x.length-1)throw new SyntaxError('Unexpected rest parameter "'+x[P]+'": only allowed for the last parameter');if(I.types.length===0)return null;A.push(I)}return A}function w(v){const A=re(v);return A?A.restParam:!1}function g(v){if(!v||v.types.length===0)return qr;if(v.types.length===1)return s(v.types[0].name).test;if(v.types.length===2){const A=s(v.types[0].name).test,_=s(v.types[1].name).test;return function(P){return A(P)||_(P)}}else{const A=v.types.map(function(_){return s(_.name).test});return function(x){for(let P=0;P<A.length;P++)if(A[P](x))return!0;return!1}}}function C(v){let A,_,x;if(w(v)){A=ee(v).map(g);const P=A.length,I=g(re(v)),q=function(R){for(let V=P;V<R.length;V++)if(!I(R[V]))return!1;return!0};return function(V){for(let z=0;z<A.length;z++)if(!A[z](V[z]))return!1;return q(V)&&V.length>=P+1}}else return v.length===0?function(I){return I.length===0}:v.length===1?(_=g(v[0]),function(I){return _(I[0])&&I.length===1}):v.length===2?(_=g(v[0]),x=g(v[1]),function(I){return _(I[0])&&x(I[1])&&I.length===2}):(A=v.map(g),function(I){for(let q=0;q<A.length;q++)if(!A[q](I[q]))return!1;return I.length===A.length})}function B(v,A){return A<v.length?v[A]:w(v)?re(v):null}function N(v,A){const _=B(v,A);return _?E(_):new Set}function M(v){return v.conversion===null||v.conversion===void 0}function T(v,A){const _=new Set;return v.forEach(x=>{const P=N(x.params,A);let I;for(I of P)_.add(I)}),_.has("any")?["any"]:Array.from(_)}function j(v,A,_){let x,P;const I=v||"unnamed";let q=_,R;for(R=0;R<A.length;R++){const pe=[];if(q.forEach(Se=>{const ke=B(Se.params,R),Le=g(ke);(R<Se.params.length||w(Se.params))&&Le(A[R])&&pe.push(Se)}),pe.length===0){if(P=T(q,R),P.length>0){const Se=h(A[R]);return x=new TypeError("Unexpected type of argument in function "+I+" (expected: "+P.join(" or ")+", actual: "+Se.join(" | ")+", index: "+R+")"),x.data={category:"wrongType",fn:I,index:R,actual:Se,expected:P},x}}else q=pe}const V=q.map(function(pe){return w(pe.params)?1/0:pe.params.length});if(A.length<Math.min.apply(null,V))return P=T(q,R),x=new TypeError("Too few arguments in function "+I+" (expected: "+P.join(" or ")+", index: "+A.length+")"),x.data={category:"tooFewArgs",fn:I,index:A.length,expected:P},x;const z=Math.max.apply(null,V);if(A.length>z)return x=new TypeError("Too many arguments in function "+I+" (expected: "+z+", actual: "+A.length+")"),x.data={category:"tooManyArgs",fn:I,index:A.length,expectedLength:z},x;const he=[];for(let pe=0;pe<A.length;++pe)he.push(h(A[pe]).join("|"));return x=new TypeError('Arguments of type "'+he.join(", ")+'" do not match any of the defined signatures of function '+I+"."),x.data={category:"mismatch",actual:he},x}function Z(v){let A=n.length+1;for(let _=0;_<v.types.length;_++)M(v.types[_])&&(A=Math.min(A,v.types[_].typeIndex));return A}function H(v){let A=u+1;for(let _=0;_<v.types.length;_++)M(v.types[_])||(A=Math.min(A,v.types[_].conversionIndex));return A}function k(v,A){if(v.hasAny){if(!A.hasAny)return 1}else if(A.hasAny)return-1;if(v.restParam){if(!A.restParam)return 1}else if(A.restParam)return-1;if(v.hasConversion){if(!A.hasConversion)return 1}else if(A.hasConversion)return-1;const _=Z(v)-Z(A);if(_<0)return-1;if(_>0)return 1;const x=H(v)-H(A);return x<0?-1:x>0?1:0}function U(v,A){const _=v.params,x=A.params,P=re(_),I=re(x),q=w(_),R=w(x);if(q&&P.hasAny){if(!R||!I.hasAny)return 1}else if(R&&I.hasAny)return-1;let V=0,z=0,he;for(he of _)he.hasAny&&++V,he.hasConversion&&++z;let pe=0,Se=0;for(he of x)he.hasAny&&++pe,he.hasConversion&&++Se;if(V!==pe)return V-pe;if(q&&P.hasConversion){if(!R||!I.hasConversion)return 1}else if(R&&I.hasConversion)return-1;if(z!==Se)return z-Se;if(q){if(!R)return 1}else if(R)return-1;const ke=(_.length-x.length)*(q?-1:1);if(ke!==0)return ke;const Le=[];let Ke=0;for(let Ct=0;Ct<_.length;++Ct){const qt=k(_[Ct],x[Ct]);Le.push(qt),Ke+=qt}if(Ke!==0)return Ke;let Qe;for(Qe of Le)if(Qe!==0)return Qe;return 0}function X(v){if(v.length===0)return[];const A=v.map(s);v.length>1&&A.sort((P,I)=>P.index-I.index);let _=A[0].conversionsTo;if(v.length===1)return _;_=_.concat([]);const x=new Set(v);for(let P=1;P<A.length;++P){let I;for(I of A[P].conversionsTo)x.has(I.from)||(_.push(I),x.add(I.from))}return _}function J(v,A){let _=A;if(v.some(P=>P.hasConversion)){const P=w(v),I=v.map(Y);_=function(){const R=[],V=P?arguments.length-1:arguments.length;for(let z=0;z<V;z++)R[z]=I[z](arguments[z]);return P&&(R[V]=arguments[V].map(I[V])),A.apply(this,R)}}let x=_;if(w(v)){const P=v.length-1;x=function(){return _.apply(this,ue(arguments,0,P).concat([ue(arguments,P)]))}}return x}function Y(v){let A,_,x,P;const I=[],q=[];switch(v.types.forEach(function(R){R.conversion&&(I.push(s(R.conversion.from).test),q.push(R.conversion.convert))}),q.length){case 0:return function(V){return V};case 1:return A=I[0],x=q[0],function(V){return A(V)?x(V):V};case 2:return A=I[0],_=I[1],x=q[0],P=q[1],function(V){return A(V)?x(V):_(V)?P(V):V};default:return function(V){for(let z=0;z<q.length;z++)if(I[z](V))return q[z](V);return V}}}function ne(v){function A(_,x,P){if(x<_.length){const I=_[x];let q=[];if(I.restParam){const R=I.types.filter(M);R.length<I.types.length&&q.push({types:R,name:"..."+R.map(V=>V.name).join("|"),hasAny:R.some(V=>V.isAny),hasConversion:!1,restParam:!0}),q.push(I)}else q=I.types.map(function(R){return{types:[R],name:R.name,hasAny:R.isAny,hasConversion:R.conversion,restParam:!1}});return Ce(q,function(R){return A(_,x+1,P.concat([R]))})}else return[P]}return A(v,0,[])}function ce(v,A){const _=Math.max(v.length,A.length);for(let R=0;R<_;R++){const V=N(v,R),z=N(A,R);let he=!1,pe;for(pe of z)if(V.has(pe)){he=!0;break}if(!he)return!1}const x=v.length,P=A.length,I=w(v),q=w(A);return I?q?x===P:P>=x:q?x>=P:x===P}function se(v){return v.map(A=>ut(A)?Ve(A.referToSelf.callback):Ge(A)?Be(A.referTo.references,A.referTo.callback):A)}function fe(v,A,_){const x=[];let P;for(P of v){let I=_[P];if(typeof I!="number")throw new TypeError('No definition for referenced signature "'+P+'"');if(I=A[I],typeof I!="function")return!1;x.push(I)}return x}function Ae(v,A,_){const x=se(v),P=new Array(x.length).fill(!1);let I=!0;for(;I;){I=!1;let q=!0;for(let R=0;R<x.length;++R){if(P[R])continue;const V=x[R];if(ut(V))x[R]=V.referToSelf.callback(_),x[R].referToSelf=V.referToSelf,P[R]=!0,q=!1;else if(Ge(V)){const z=fe(V.referTo.references,x,A);z?(x[R]=V.referTo.callback.apply(this,z),x[R].referTo=V.referTo,P[R]=!0,q=!1):I=!0}}if(q&&I)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return x}function ge(v){const A=/\bthis(\(|\.signatures\b)/;Object.keys(v).forEach(_=>{const x=v[_];if(A.test(x.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ve(v,A){if(o.createCount++,Object.keys(A).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&ge(A);const _=[],x=[],P={},I=[];let q;for(q in A){if(!Object.prototype.hasOwnProperty.call(A,q))continue;const le=b(q);if(!le)continue;_.forEach(function(zt){if(ce(zt,le))throw new TypeError('Conflicting signatures "'+m(zt)+'" and "'+m(le)+'".')}),_.push(le);const Ze=x.length;x.push(A[q]);const Xi=le.map(y);let Vt;for(Vt of ne(Xi)){const zt=m(Vt);I.push({params:Vt,name:zt,fn:Ze}),Vt.every(Ki=>!Ki.hasConversion)&&(P[zt]=Ze)}}I.sort(U);const R=Ae(x,P,Pt);let V;for(V in P)Object.prototype.hasOwnProperty.call(P,V)&&(P[V]=R[P[V]]);const z=[],he=new Map;for(V of I)he.has(V.name)||(V.fn=R[V.fn],z.push(V),he.set(V.name,V));const pe=z[0]&&z[0].params.length<=2&&!w(z[0].params),Se=z[1]&&z[1].params.length<=2&&!w(z[1].params),ke=z[2]&&z[2].params.length<=2&&!w(z[2].params),Le=z[3]&&z[3].params.length<=2&&!w(z[3].params),Ke=z[4]&&z[4].params.length<=2&&!w(z[4].params),Qe=z[5]&&z[5].params.length<=2&&!w(z[5].params),Ct=pe&&Se&&ke&&Le&&Ke&&Qe;for(let le=0;le<z.length;++le)z[le].test=C(z[le].params);const qt=pe?g(z[0].params[0]):Je,yi=Se?g(z[1].params[0]):Je,Ai=ke?g(z[2].params[0]):Je,bi=Le?g(z[3].params[0]):Je,Bi=Ke?g(z[4].params[0]):Je,Ni=Qe?g(z[5].params[0]):Je,_i=pe?g(z[0].params[1]):Je,Mi=Se?g(z[1].params[1]):Je,Si=ke?g(z[2].params[1]):Je,xi=Le?g(z[3].params[1]):Je,Ti=Ke?g(z[4].params[1]):Je,Ii=Qe?g(z[5].params[1]):Je;for(let le=0;le<z.length;++le)z[le].implementation=J(z[le].params,z[le].fn);const Oi=pe?z[0].implementation:yt,Pi=Se?z[1].implementation:yt,zi=ke?z[2].implementation:yt,Ri=Le?z[3].implementation:yt,$i=Ke?z[4].implementation:yt,Ui=Qe?z[5].implementation:yt,Li=pe?z[0].params.length:-1,ji=Se?z[1].params.length:-1,qi=ke?z[2].params.length:-1,Vi=Le?z[3].params.length:-1,ki=Ke?z[4].params.length:-1,Zi=Qe?z[5].params.length:-1,Wi=Ct?6:0,Hi=z.length,Gi=z.map(le=>le.test),Ji=z.map(le=>le.implementation),Yi=function(){for(let Ze=Wi;Ze<Hi;Ze++)if(Gi[Ze](arguments))return Ji[Ze].apply(this,arguments);return o.onMismatch(v,arguments,z)};function Pt(le,Ze){return arguments.length===Li&&qt(le)&&_i(Ze)?Oi.apply(this,arguments):arguments.length===ji&&yi(le)&&Mi(Ze)?Pi.apply(this,arguments):arguments.length===qi&&Ai(le)&&Si(Ze)?zi.apply(this,arguments):arguments.length===Vi&&bi(le)&&xi(Ze)?Ri.apply(this,arguments):arguments.length===ki&&Bi(le)&&Ti(Ze)?$i.apply(this,arguments):arguments.length===Zi&&Ni(le)&&Ii(Ze)?Ui.apply(this,arguments):Yi.apply(this,arguments)}try{Object.defineProperty(Pt,"name",{value:v})}catch{}return Pt.signatures=P,Pt._typedFunctionData={signatures:z,signatureMap:he},Pt}function de(v,A,_){throw j(v,A,_)}function ee(v){return ue(v,0,v.length-1)}function re(v){return v[v.length-1]}function ue(v,A,_){return Array.prototype.slice.call(v,A,_)}function ze(v,A){for(let _=0;_<v.length;_++)if(A(v[_]))return v[_]}function Ce(v,A){return Array.prototype.concat.apply([],v.map(A))}function ae(){const v=ee(arguments).map(_=>m(b(_))),A=re(arguments);if(typeof A!="function")throw new TypeError("Callback function expected as last argument");return Be(v,A)}function Be(v,A){return{referTo:{references:v,callback:A}}}function Ve(v){if(typeof v!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:v}}}function Ge(v){return v&&typeof v.referTo=="object"&&Array.isArray(v.referTo.references)&&typeof v.referTo.callback=="function"}function ut(v){return v&&typeof v.referToSelf=="object"&&typeof v.referToSelf.callback=="function"}function Ft(v,A){if(!v)return A;if(A&&A!==v){const _=new Error("Function names do not match (expected: "+v+", actual: "+A+")");throw _.data={actual:A,expected:v},_}return v}function Et(v){let A;for(const _ in v)Object.prototype.hasOwnProperty.call(v,_)&&(d(v[_])||typeof v[_].signature=="string")&&(A=Ft(A,v[_].name));return A}function pr(v,A){let _;for(_ in A)if(Object.prototype.hasOwnProperty.call(A,_)){if(_ in v&&A[_]!==v[_]){const x=new Error('Signature "'+_+'" is defined twice');throw x.data={signature:_,sourceFunction:A[_],destFunction:v[_]},x}v[_]=A[_]}}const Ci=o;o=function(v){const A=typeof v=="string",_=A?1:0;let x=A?v:"";const P={};for(let I=_;I<arguments.length;++I){const q=arguments[I];let R={},V;if(typeof q=="function"?(V=q.name,typeof q.signature=="string"?R[q.signature]=q:d(q)&&(R=q.signatures)):e(q)&&(R=q,A||(V=Et(q))),Object.keys(R).length===0){const z=new TypeError("Argument to 'typed' at index "+I+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw z.data={index:I,argument:q},z}A||(x=Ft(x,V)),pr(P,R)}return ve(x||"",P)},o.create=Mn,o.createCount=Ci.createCount,o.onMismatch=de,o.throwMismatchError=de,o.createError=j,o.clear=f,o.clearConversions=a,o.addTypes=l,o._findType=s,o.referTo=ae,o.referToSelf=Ve,o.convert=c,o.findSignature=D,o.find=p,o.isTypedFunction=d,o.warnAgainstDeprecatedThis=!0,o.addType=function(v,A){let _="any";A!==!1&&i.has("Object")&&(_="Object"),o.addTypes([v],_)};function Lr(v){if(!v||typeof v.from!="string"||typeof v.to!="string"||typeof v.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(v.to===v.from)throw new SyntaxError('Illegal to define conversion from "'+v.from+'" to itself.')}return o.addConversion=function(v){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Lr(v);const _=s(v.to),x=_.conversionsTo.find(P=>P.from===v.from);if(x)if(A&&A.override)o.removeConversion({from:x.from,to:v.to,convert:x.convert});else throw new Error('There is already a conversion from "'+v.from+'" to "'+_.name+'"');_.conversionsTo.push({from:v.from,convert:v.convert,index:u++})},o.addConversions=function(v,A){v.forEach(_=>o.addConversion(_,A))},o.removeConversion=function(v){Lr(v);const A=s(v.to),_=ze(A.conversionsTo,P=>P.from===v.from);if(!_)throw new Error("Attempt to remove nonexistent conversion from "+v.from+" to "+v.to);if(_.convert!==v.convert)throw new Error("Conversion to remove does not match existing conversion");const x=A.conversionsTo.indexOf(_);A.conversionsTo.splice(x,1)},o.resolve=function(v,A){if(!d(v))throw new TypeError(Vr);const _=v._typedFunctionData.signatures;for(let x=0;x<_.length;++x)if(_[x].test(A))return _[x];return null},o}const tr=Mn();function oe(e,t,r,i){function n(u){var o=no(u,t.map(ao));return oo(e,t,u),r(o)}return n.isFactory=!0,n.fn=e,n.dependencies=t.slice().sort(),i&&(n.meta=i),n}function oo(e,t,r){var i=t.filter(u=>!so(u)).every(u=>r[u]!==void 0);if(!i){var n=t.filter(u=>r[u]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(n.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function so(e){return e&&e[0]==="?"}function ao(e){return e&&e[0]==="?"?e.slice(1):e}function Fe(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function mr(e,t,r){var i={2:"0b",8:"0o",16:"0x"},n=i[t],u="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Fe(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Fe(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),u="i".concat(r)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(n).concat(e.toString(t)).concat(u)}function Fr(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:i,wordSize:n}=Sn(t);switch(r){case"fixed":return xn(e,i);case"exponential":return Tn(e,i);case"engineering":return co(e,i);case"bin":return mr(e,2,n);case"oct":return mr(e,8,n);case"hex":return mr(e,16,n);case"auto":return fo(e,i,t).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],o=arguments[4];return u!=="."?u+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Sn(e){var t="auto",r,i;if(e!==void 0)if(me(e))r=e;else if(Me(e))r=e.toNumber();else if(Sr(e))e.precision!==void 0&&(r=kr(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(i=kr(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:r,wordSize:i}}function Lt(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],i=t[2],n=parseFloat(t[4]||"0"),u=i.indexOf(".");n+=u!==-1?u-1:i.length-1;var o=i.replace(".","").replace(/^0*/,function(s){return n-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return o.length===0&&(o.push(0),n++),{sign:r,coefficients:o,exponent:n}}function co(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Lt(e),i=ar(r,t),n=i.exponent,u=i.coefficients,o=n%3===0?n:n<0?n-3-n%3:n-n%3;if(me(t))for(;t>u.length||n-o+1>u.length;)u.push(0);else for(var s=Math.abs(n-o)-(u.length-1),l=0;l<s;l++)u.push(0);for(var f=Math.abs(n-o),a=1;f>0;)a++,f--;var h=u.slice(a).join(""),d=me(t)&&h.length||h.match(/[1-9]/)?"."+h:"",D=u.slice(0,a).join("")+d+"e"+(n>=0?"+":"")+o.toString();return i.sign+D}function xn(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Lt(e),i=typeof t=="number"?ar(r,r.exponent+1+t):r,n=i.coefficients,u=i.exponent+1,o=u+(t||0);return n.length<o&&(n=n.concat(Mt(o-n.length))),u<0&&(n=Mt(-u+1).concat(n),u=1),u<n.length&&n.splice(u,0,u===0?"0.":"."),i.sign+n.join("")}function Tn(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Lt(e),i=t?ar(r,t):r,n=i.coefficients,u=i.exponent;n.length<t&&(n=n.concat(Mt(t-n.length)));var o=n.shift();return i.sign+o+(n.length>0?"."+n.join(""):"")+"e"+(u>=0?"+":"")+u}function fo(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var i=Zr(r?.lowerExp,-3),n=Zr(r?.upperExp,5),u=Lt(e),o=t?ar(u,t):u;if(o.exponent<i||o.exponent>=n)return Tn(e,t);var s=o.coefficients,l=o.exponent;s.length<t&&(s=s.concat(Mt(t-s.length))),s=s.concat(Mt(l-s.length+1+(s.length<t?t-s.length:0))),s=Mt(-l).concat(s);var f=l>0?l:0;return f<s.length-1&&s.splice(f+1,0,"."),o.sign+s.join("")}function ar(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},i=r.coefficients;t<=0;)i.unshift(0),r.exponent++,t++;if(i.length>t){var n=i.splice(t,i.length-t);if(n[0]>=5){var u=t-1;for(i[u]++;i[u]===10;)i.pop(),u===0&&(i.unshift(0),r.exponent++,u++),u--,i[u]++}}return r}function Mt(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function lo(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function xt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(t)?!1:!isFinite(e)||!isFinite(t)?e===t:e===t?!0:Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),i)}function kr(e,t){if(me(e))return e;if(Me(e))return e.toNumber();t()}function Zr(e,t){return me(e)?e:Me(e)?e.toNumber():t}var In=function(){return In=tr.create,tr},ho=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Do=oe("typed",ho,function(t){var{BigNumber:r,Complex:i,DenseMatrix:n,Fraction:u}=t,o=In();return o.clear(),o.addTypes([{name:"number",test:me},{name:"Complex",test:Bn},{name:"BigNumber",test:Me},{name:"bigint",test:Bu},{name:"Fraction",test:Nn},{name:"Unit",test:_n},{name:"identifier",test:s=>rt&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:rt},{name:"Chain",test:to},{name:"Array",test:Te},{name:"Matrix",test:_e},{name:"DenseMatrix",test:Nu},{name:"SparseMatrix",test:_u},{name:"Range",test:Mu},{name:"Index",test:Mr},{name:"boolean",test:Su},{name:"ResultSet",test:xu},{name:"Help",test:Tu},{name:"function",test:Iu},{name:"Date",test:Ou},{name:"RegExp",test:Pu},{name:"null",test:Ru},{name:"undefined",test:$u},{name:"AccessorNode",test:Uu},{name:"ArrayNode",test:Lu},{name:"AssignmentNode",test:ju},{name:"BlockNode",test:qu},{name:"ConditionalNode",test:Vu},{name:"ConstantNode",test:ku},{name:"FunctionNode",test:Wu},{name:"FunctionAssignmentNode",test:Zu},{name:"IndexNode",test:Hu},{name:"Node",test:Gu},{name:"ObjectNode",test:Ju},{name:"OperatorNode",test:Yu},{name:"ParenthesisNode",test:Xu},{name:"RangeNode",test:Ku},{name:"RelationalNode",test:Qu},{name:"SymbolNode",test:eo},{name:"Map",test:zu},{name:"Object",test:Sr}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(r||Zt(l),lo(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new r(l)}},{from:"number",to:"Complex",convert:function(l){return i||Wt(l),new i(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return i||Wt(l),new i(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return r||Zt(l),new r(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return u||Ht(l),new u(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return i||Wt(l),new i(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){u||Ht(l);var f=new u(l);if(f.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return f}},{from:"string",to:"number",convert:function(l){var f=Number(l);if(isNaN(f))throw new Error('Cannot convert "'+l+'" to a number');return f}},{from:"string",to:"BigNumber",convert:function(l){r||Zt(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){u||Ht(l);try{return new u(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){i||Wt(l);try{return new i(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return r||Zt(l),new r(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return u||Ht(l),new u(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return n||po(),new n(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),o.onMismatch=(s,l,f)=>{var a=o.createError(s,l,f);if(["wrongType","mismatch"].includes(a.data.category)&&l.length===1&&Qt(l[0])&&f.some(d=>!d.params.includes(","))){var h=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw h.data=a.data,h}throw a},o.onMismatch=(s,l,f)=>{var a=o.createError(s,l,f);if(["wrongType","mismatch"].includes(a.data.category)&&l.length===1&&Qt(l[0])&&f.some(d=>!d.params.includes(","))){var h=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw h.data=a.data,h}throw a},o});function Zt(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Wt(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function po(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Ht(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Nt=9e15,mt=1e9,Er="0123456789abcdef",rr="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",nr="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Cr={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Nt,maxE:Nt,crypto:!1},On,st,te=!0,cr="[DecimalError] ",Dt=cr+"Invalid argument: ",Pn=cr+"Precision limit exceeded",zn=cr+"crypto unavailable",Rn="[object Decimal]",Ue=Math.floor,Ie=Math.pow,mo=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,go=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,vo=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,$n=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,tt=1e7,Q=7,wo=9007199254740991,Fo=rr.length-1,yr=nr.length-1,O={toStringTag:Rn};O.absoluteValue=O.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),G(e)};O.ceil=function(){return G(new this.constructor(this),this.e+1,2)};O.clampedTo=O.clamp=function(e,t){var r,i=this,n=i.constructor;if(e=new n(e),t=new n(t),!e.s||!t.s)return new n(NaN);if(e.gt(t))throw Error(Dt+t);return r=i.cmp(e),r<0?e:i.cmp(t)>0?t:new n(i)};O.comparedTo=O.cmp=function(e){var t,r,i,n,u=this,o=u.d,s=(e=new u.constructor(e)).d,l=u.s,f=e.s;if(!o||!s)return!l||!f?NaN:l!==f?l:o===s?0:!o^l<0?1:-1;if(!o[0]||!s[0])return o[0]?l:s[0]?-f:0;if(l!==f)return l;if(u.e!==e.e)return u.e>e.e^l<0?1:-1;for(i=o.length,n=s.length,t=0,r=i<n?i:n;t<r;++t)if(o[t]!==s[t])return o[t]>s[t]^l<0?1:-1;return i===n?0:i>n^l<0?1:-1};O.cosine=O.cos=function(){var e,t,r=this,i=r.constructor;return r.d?r.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+Q,i.rounding=1,r=Eo(i,Vn(i,r)),i.precision=e,i.rounding=t,G(st==2||st==3?r.neg():r,e,t,!0)):new i(1):new i(NaN)};O.cubeRoot=O.cbrt=function(){var e,t,r,i,n,u,o,s,l,f,a=this,h=a.constructor;if(!a.isFinite()||a.isZero())return new h(a);for(te=!1,u=a.s*Ie(a.s*a,1/3),!u||Math.abs(u)==1/0?(r=Re(a.d),e=a.e,(u=(e-r.length+1)%3)&&(r+=u==1||u==-2?"0":"00"),u=Ie(r,1/3),e=Ue((e+1)/3)-(e%3==(e<0?-1:2)),u==1/0?r="5e"+e:(r=u.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),i=new h(r),i.s=a.s):i=new h(u.toString()),o=(e=h.precision)+3;;)if(s=i,l=s.times(s).times(s),f=l.plus(a),i=De(f.plus(a).times(s),f.plus(l),o+2,1),Re(s.d).slice(0,o)===(r=Re(i.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!n&&r=="4999"){if(!n&&(G(s,e+1,0),s.times(s).times(s).eq(a))){i=s;break}o+=4,n=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(G(i,e+1,1),t=!i.times(i).times(i).eq(a));break}return te=!0,G(i,e,h.rounding,t)};O.decimalPlaces=O.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-Ue(this.e/Q))*Q,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};O.dividedBy=O.div=function(e){return De(this,new this.constructor(e))};O.dividedToIntegerBy=O.divToInt=function(e){var t=this,r=t.constructor;return G(De(t,new r(e),0,1,1),r.precision,r.rounding)};O.equals=O.eq=function(e){return this.cmp(e)===0};O.floor=function(){return G(new this.constructor(this),this.e+1,3)};O.greaterThan=O.gt=function(e){return this.cmp(e)>0};O.greaterThanOrEqualTo=O.gte=function(e){var t=this.cmp(e);return t==1||t===0};O.hyperbolicCosine=O.cosh=function(){var e,t,r,i,n,u=this,o=u.constructor,s=new o(1);if(!u.isFinite())return new o(u.s?1/0:NaN);if(u.isZero())return s;r=o.precision,i=o.rounding,o.precision=r+Math.max(u.e,u.sd())+4,o.rounding=1,n=u.d.length,n<32?(e=Math.ceil(n/3),t=(1/lr(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),u=Tt(o,1,u.times(t),new o(1),!0);for(var l,f=e,a=new o(8);f--;)l=u.times(u),u=s.minus(l.times(a.minus(l.times(a))));return G(u,o.precision=r,o.rounding=i,!0)};O.hyperbolicSine=O.sinh=function(){var e,t,r,i,n=this,u=n.constructor;if(!n.isFinite()||n.isZero())return new u(n);if(t=u.precision,r=u.rounding,u.precision=t+Math.max(n.e,n.sd())+4,u.rounding=1,i=n.d.length,i<3)n=Tt(u,2,n,n,!0);else{e=1.4*Math.sqrt(i),e=e>16?16:e|0,n=n.times(1/lr(5,e)),n=Tt(u,2,n,n,!0);for(var o,s=new u(5),l=new u(16),f=new u(20);e--;)o=n.times(n),n=n.times(s.plus(o.times(l.times(o).plus(f))))}return u.precision=t,u.rounding=r,G(n,t,r,!0)};O.hyperbolicTangent=O.tanh=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+7,i.rounding=1,De(r.sinh(),r.cosh(),i.precision=e,i.rounding=t)):new i(r.s)};O.inverseCosine=O.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),i=t.precision,n=t.rounding;return r!==-1?r===0?e.isNeg()?nt(t,i,n):new t(0):new t(NaN):e.isZero()?nt(t,i+4,n).times(.5):(t.precision=i+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=i,t.rounding=n,e.times(2))};O.inverseHyperbolicCosine=O.acosh=function(){var e,t,r=this,i=r.constructor;return r.lte(1)?new i(r.eq(1)?0:NaN):r.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(r.e),r.sd())+4,i.rounding=1,te=!1,r=r.times(r).minus(1).sqrt().plus(r),te=!0,i.precision=e,i.rounding=t,r.ln()):new i(r)};O.inverseHyperbolicSine=O.asinh=function(){var e,t,r=this,i=r.constructor;return!r.isFinite()||r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,i.rounding=1,te=!1,r=r.times(r).plus(1).sqrt().plus(r),te=!0,i.precision=e,i.rounding=t,r.ln())};O.inverseHyperbolicTangent=O.atanh=function(){var e,t,r,i,n=this,u=n.constructor;return n.isFinite()?n.e>=0?new u(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(e=u.precision,t=u.rounding,i=n.sd(),Math.max(i,e)<2*-n.e-1?G(new u(n),e,t,!0):(u.precision=r=i-n.e,n=De(n.plus(1),new u(1).minus(n),r+e,1),u.precision=e+4,u.rounding=1,n=n.ln(),u.precision=e,u.rounding=t,n.times(.5))):new u(NaN)};O.inverseSine=O.asin=function(){var e,t,r,i,n=this,u=n.constructor;return n.isZero()?new u(n):(t=n.abs().cmp(1),r=u.precision,i=u.rounding,t!==-1?t===0?(e=nt(u,r+4,i).times(.5),e.s=n.s,e):new u(NaN):(u.precision=r+6,u.rounding=1,n=n.div(new u(1).minus(n.times(n)).sqrt().plus(1)).atan(),u.precision=r,u.rounding=i,n.times(2)))};O.inverseTangent=O.atan=function(){var e,t,r,i,n,u,o,s,l,f=this,a=f.constructor,h=a.precision,d=a.rounding;if(f.isFinite()){if(f.isZero())return new a(f);if(f.abs().eq(1)&&h+4<=yr)return o=nt(a,h+4,d).times(.25),o.s=f.s,o}else{if(!f.s)return new a(NaN);if(h+4<=yr)return o=nt(a,h+4,d).times(.5),o.s=f.s,o}for(a.precision=s=h+10,a.rounding=1,r=Math.min(28,s/Q+2|0),e=r;e;--e)f=f.div(f.times(f).plus(1).sqrt().plus(1));for(te=!1,t=Math.ceil(s/Q),i=1,l=f.times(f),o=new a(f),n=f;e!==-1;)if(n=n.times(l),u=o.minus(n.div(i+=2)),n=n.times(l),o=u.plus(n.div(i+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===u.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),te=!0,G(o,a.precision=h,a.rounding=d,!0)};O.isFinite=function(){return!!this.d};O.isInteger=O.isInt=function(){return!!this.d&&Ue(this.e/Q)>this.d.length-2};O.isNaN=function(){return!this.s};O.isNegative=O.isNeg=function(){return this.s<0};O.isPositive=O.isPos=function(){return this.s>0};O.isZero=function(){return!!this.d&&this.d[0]===0};O.lessThan=O.lt=function(e){return this.cmp(e)<0};O.lessThanOrEqualTo=O.lte=function(e){return this.cmp(e)<1};O.logarithm=O.log=function(e){var t,r,i,n,u,o,s,l,f=this,a=f.constructor,h=a.precision,d=a.rounding,D=5;if(e==null)e=new a(10),t=!0;else{if(e=new a(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new a(NaN);t=e.eq(10)}if(r=f.d,f.s<0||!r||!r[0]||f.eq(1))return new a(r&&!r[0]?-1/0:f.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)u=!0;else{for(n=r[0];n%10===0;)n/=10;u=n!==1}if(te=!1,s=h+D,o=ht(f,s),i=t?ir(a,s+10):ht(e,s),l=De(o,i,s,1),Ut(l.d,n=h,d))do if(s+=10,o=ht(f,s),i=t?ir(a,s+10):ht(e,s),l=De(o,i,s,1),!u){+Re(l.d).slice(n+1,n+15)+1==1e14&&(l=G(l,h+1,0));break}while(Ut(l.d,n+=10,d));return te=!0,G(l,h,d)};O.minus=O.sub=function(e){var t,r,i,n,u,o,s,l,f,a,h,d,D=this,p=D.constructor;if(e=new p(e),!D.d||!e.d)return!D.s||!e.s?e=new p(NaN):D.d?e.s=-e.s:e=new p(e.d||D.s!==e.s?D:NaN),e;if(D.s!=e.s)return e.s=-e.s,D.plus(e);if(f=D.d,d=e.d,s=p.precision,l=p.rounding,!f[0]||!d[0]){if(d[0])e.s=-e.s;else if(f[0])e=new p(D);else return new p(l===3?-0:0);return te?G(e,s,l):e}if(r=Ue(e.e/Q),a=Ue(D.e/Q),f=f.slice(),u=a-r,u){for(h=u<0,h?(t=f,u=-u,o=d.length):(t=d,r=a,o=f.length),i=Math.max(Math.ceil(s/Q),o)+2,u>i&&(u=i,t.length=1),t.reverse(),i=u;i--;)t.push(0);t.reverse()}else{for(i=f.length,o=d.length,h=i<o,h&&(o=i),i=0;i<o;i++)if(f[i]!=d[i]){h=f[i]<d[i];break}u=0}for(h&&(t=f,f=d,d=t,e.s=-e.s),o=f.length,i=d.length-o;i>0;--i)f[o++]=0;for(i=d.length;i>u;){if(f[--i]<d[i]){for(n=i;n&&f[--n]===0;)f[n]=tt-1;--f[n],f[i]+=tt}f[i]-=d[i]}for(;f[--o]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=fr(f,r),te?G(e,s,l):e):new p(l===3?-0:0)};O.modulo=O.mod=function(e){var t,r=this,i=r.constructor;return e=new i(e),!r.d||!e.s||e.d&&!e.d[0]?new i(NaN):!e.d||r.d&&!r.d[0]?G(new i(r),i.precision,i.rounding):(te=!1,i.modulo==9?(t=De(r,e.abs(),0,3,1),t.s*=e.s):t=De(r,e,0,i.modulo,1),t=t.times(e),te=!0,r.minus(t))};O.naturalExponential=O.exp=function(){return Ar(this)};O.naturalLogarithm=O.ln=function(){return ht(this)};O.negated=O.neg=function(){var e=new this.constructor(this);return e.s=-e.s,G(e)};O.plus=O.add=function(e){var t,r,i,n,u,o,s,l,f,a,h=this,d=h.constructor;if(e=new d(e),!h.d||!e.d)return!h.s||!e.s?e=new d(NaN):h.d||(e=new d(e.d||h.s===e.s?h:NaN)),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(f=h.d,a=e.d,s=d.precision,l=d.rounding,!f[0]||!a[0])return a[0]||(e=new d(h)),te?G(e,s,l):e;if(u=Ue(h.e/Q),i=Ue(e.e/Q),f=f.slice(),n=u-i,n){for(n<0?(r=f,n=-n,o=a.length):(r=a,i=u,o=f.length),u=Math.ceil(s/Q),o=u>o?u+1:o+1,n>o&&(n=o,r.length=1),r.reverse();n--;)r.push(0);r.reverse()}for(o=f.length,n=a.length,o-n<0&&(n=o,r=a,a=f,f=r),t=0;n;)t=(f[--n]=f[n]+a[n]+t)/tt|0,f[n]%=tt;for(t&&(f.unshift(t),++i),o=f.length;f[--o]==0;)f.pop();return e.d=f,e.e=fr(f,i),te?G(e,s,l):e};O.precision=O.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Dt+e);return r.d?(t=Un(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};O.round=function(){var e=this,t=e.constructor;return G(new t(e),e.e+1,t.rounding)};O.sine=O.sin=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+Q,i.rounding=1,r=yo(i,Vn(i,r)),i.precision=e,i.rounding=t,G(st>2?r.neg():r,e,t,!0)):new i(NaN)};O.squareRoot=O.sqrt=function(){var e,t,r,i,n,u,o=this,s=o.d,l=o.e,f=o.s,a=o.constructor;if(f!==1||!s||!s[0])return new a(!f||f<0&&(!s||s[0])?NaN:s?o:1/0);for(te=!1,f=Math.sqrt(+o),f==0||f==1/0?(t=Re(s),(t.length+l)%2==0&&(t+="0"),f=Math.sqrt(t),l=Ue((l+1)/2)-(l<0||l%2),f==1/0?t="5e"+l:(t=f.toExponential(),t=t.slice(0,t.indexOf("e")+1)+l),i=new a(t)):i=new a(f.toString()),r=(l=a.precision)+3;;)if(u=i,i=u.plus(De(o,u,r+2,1)).times(.5),Re(u.d).slice(0,r)===(t=Re(i.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!n&&t=="4999"){if(!n&&(G(u,l+1,0),u.times(u).eq(o))){i=u;break}r+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(G(i,l+1,1),e=!i.times(i).eq(o));break}return te=!0,G(i,l,a.rounding,e)};O.tangent=O.tan=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,r=r.sin(),r.s=1,r=De(r,new i(1).minus(r.times(r)).sqrt(),e+10,0),i.precision=e,i.rounding=t,G(st==2||st==4?r.neg():r,e,t,!0)):new i(NaN)};O.times=O.mul=function(e){var t,r,i,n,u,o,s,l,f,a=this,h=a.constructor,d=a.d,D=(e=new h(e)).d;if(e.s*=a.s,!d||!d[0]||!D||!D[0])return new h(!e.s||d&&!d[0]&&!D||D&&!D[0]&&!d?NaN:!d||!D?e.s/0:e.s*0);for(r=Ue(a.e/Q)+Ue(e.e/Q),l=d.length,f=D.length,l<f&&(u=d,d=D,D=u,o=l,l=f,f=o),u=[],o=l+f,i=o;i--;)u.push(0);for(i=f;--i>=0;){for(t=0,n=l+i;n>i;)s=u[n]+D[i]*d[n-i-1]+t,u[n--]=s%tt|0,t=s/tt|0;u[n]=(u[n]+t)%tt|0}for(;!u[--o];)u.pop();return t?++r:u.shift(),e.d=u,e.e=fr(u,r),te?G(e,h.precision,h.rounding):e};O.toBinary=function(e,t){return xr(this,2,e,t)};O.toDecimalPlaces=O.toDP=function(e,t){var r=this,i=r.constructor;return r=new i(r),e===void 0?r:(He(e,0,mt),t===void 0?t=i.rounding:He(t,0,8),G(r,e+r.e+1,t))};O.toExponential=function(e,t){var r,i=this,n=i.constructor;return e===void 0?r=it(i,!0):(He(e,0,mt),t===void 0?t=n.rounding:He(t,0,8),i=G(new n(i),e+1,t),r=it(i,!0,e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};O.toFixed=function(e,t){var r,i,n=this,u=n.constructor;return e===void 0?r=it(n):(He(e,0,mt),t===void 0?t=u.rounding:He(t,0,8),i=G(new u(n),e+n.e+1,t),r=it(i,!1,e+i.e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};O.toFraction=function(e){var t,r,i,n,u,o,s,l,f,a,h,d,D=this,p=D.d,c=D.constructor;if(!p)return new c(D);if(f=r=new c(1),i=l=new c(0),t=new c(i),u=t.e=Un(p)-D.e-1,o=u%Q,t.d[0]=Ie(10,o<0?Q+o:o),e==null)e=u>0?t:f;else{if(s=new c(e),!s.isInt()||s.lt(f))throw Error(Dt+s);e=s.gt(t)?u>0?t:f:s}for(te=!1,s=new c(Re(p)),a=c.precision,c.precision=u=p.length*Q*2;h=De(s,t,0,1,1),n=r.plus(h.times(i)),n.cmp(e)!=1;)r=i,i=n,n=f,f=l.plus(h.times(n)),l=n,n=t,t=s.minus(h.times(n)),s=n;return n=De(e.minus(r),i,0,1,1),l=l.plus(n.times(f)),r=r.plus(n.times(i)),l.s=f.s=D.s,d=De(f,i,u,1).minus(D).abs().cmp(De(l,r,u,1).minus(D).abs())<1?[f,i]:[l,r],c.precision=a,te=!0,d};O.toHexadecimal=O.toHex=function(e,t){return xr(this,16,e,t)};O.toNearest=function(e,t){var r=this,i=r.constructor;if(r=new i(r),e==null){if(!r.d)return r;e=new i(1),t=i.rounding}else{if(e=new i(e),t===void 0?t=i.rounding:He(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(te=!1,r=De(r,e,0,t,1).times(e),te=!0,G(r)):(e.s=r.s,r=e),r};O.toNumber=function(){return+this};O.toOctal=function(e,t){return xr(this,8,e,t)};O.toPower=O.pow=function(e){var t,r,i,n,u,o,s=this,l=s.constructor,f=+(e=new l(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new l(Ie(+s,f));if(s=new l(s),s.eq(1))return s;if(i=l.precision,u=l.rounding,e.eq(1))return G(s,i,u);if(t=Ue(e.e/Q),t>=e.d.length-1&&(r=f<0?-f:f)<=wo)return n=Ln(l,s,r,i),e.s<0?new l(1).div(n):G(n,i,u);if(o=s.s,o<0){if(t<e.d.length-1)return new l(NaN);if((e.d[t]&1)==0&&(o=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=o,s}return r=Ie(+s,f),t=r==0||!isFinite(r)?Ue(f*(Math.log("0."+Re(s.d))/Math.LN10+s.e+1)):new l(r+"").e,t>l.maxE+1||t<l.minE-1?new l(t>0?o/0:0):(te=!1,l.rounding=s.s=1,r=Math.min(12,(t+"").length),n=Ar(e.times(ht(s,i+r)),i),n.d&&(n=G(n,i+5,1),Ut(n.d,i,u)&&(t=i+10,n=G(Ar(e.times(ht(s,t+r)),t),t+5,1),+Re(n.d).slice(i+1,i+15)+1==1e14&&(n=G(n,i+1,0)))),n.s=o,te=!0,l.rounding=u,G(n,i,u))};O.toPrecision=function(e,t){var r,i=this,n=i.constructor;return e===void 0?r=it(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(He(e,1,mt),t===void 0?t=n.rounding:He(t,0,8),i=G(new n(i),e,t),r=it(i,e<=i.e||i.e<=n.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+r:r};O.toSignificantDigits=O.toSD=function(e,t){var r=this,i=r.constructor;return e===void 0?(e=i.precision,t=i.rounding):(He(e,1,mt),t===void 0?t=i.rounding:He(t,0,8)),G(new i(r),e,t)};O.toString=function(){var e=this,t=e.constructor,r=it(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};O.truncated=O.trunc=function(){return G(new this.constructor(this),this.e+1,1)};O.valueOf=O.toJSON=function(){var e=this,t=e.constructor,r=it(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function Re(e){var t,r,i,n=e.length-1,u="",o=e[0];if(n>0){for(u+=o,t=1;t<n;t++)i=e[t]+"",r=Q-i.length,r&&(u+=lt(r)),u+=i;o=e[t],i=o+"",r=Q-i.length,r&&(u+=lt(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return u+o}function He(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Dt+e)}function Ut(e,t,r,i){var n,u,o,s;for(u=e[0];u>=10;u/=10)--t;return--t<0?(t+=Q,n=0):(n=Math.ceil((t+1)/Q),t%=Q),u=Ie(10,Q-t),s=e[n]%u|0,i==null?t<3?(t==0?s=s/100|0:t==1&&(s=s/10|0),o=r<4&&s==99999||r>3&&s==49999||s==5e4||s==0):o=(r<4&&s+1==u||r>3&&s+1==u/2)&&(e[n+1]/u/100|0)==Ie(10,t-2)-1||(s==u/2||s==0)&&(e[n+1]/u/100|0)==0:t<4?(t==0?s=s/1e3|0:t==1?s=s/100|0:t==2&&(s=s/10|0),o=(i||r<4)&&s==9999||!i&&r>3&&s==4999):o=((i||r<4)&&s+1==u||!i&&r>3&&s+1==u/2)&&(e[n+1]/u/1e3|0)==Ie(10,t-3)-1,o}function Jt(e,t,r){for(var i,n=[0],u,o=0,s=e.length;o<s;){for(u=n.length;u--;)n[u]*=t;for(n[0]+=Er.indexOf(e.charAt(o++)),i=0;i<n.length;i++)n[i]>r-1&&(n[i+1]===void 0&&(n[i+1]=0),n[i+1]+=n[i]/r|0,n[i]%=r)}return n.reverse()}function Eo(e,t){var r,i,n;if(t.isZero())return t;i=t.d.length,i<32?(r=Math.ceil(i/3),n=(1/lr(4,r)).toString()):(r=16,n="2.3283064365386962890625e-10"),e.precision+=r,t=Tt(e,1,t.times(n),new e(1));for(var u=r;u--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}var De=(function(){function e(i,n,u){var o,s=0,l=i.length;for(i=i.slice();l--;)o=i[l]*n+s,i[l]=o%u|0,s=o/u|0;return s&&i.unshift(s),i}function t(i,n,u,o){var s,l;if(u!=o)l=u>o?1:-1;else for(s=l=0;s<u;s++)if(i[s]!=n[s]){l=i[s]>n[s]?1:-1;break}return l}function r(i,n,u,o){for(var s=0;u--;)i[u]-=s,s=i[u]<n[u]?1:0,i[u]=s*o+i[u]-n[u];for(;!i[0]&&i.length>1;)i.shift()}return function(i,n,u,o,s,l){var f,a,h,d,D,p,c,m,F,y,E,b,w,g,C,B,N,M,T,j,Z=i.constructor,H=i.s==n.s?1:-1,k=i.d,U=n.d;if(!k||!k[0]||!U||!U[0])return new Z(!i.s||!n.s||(k?U&&k[0]==U[0]:!U)?NaN:k&&k[0]==0||!U?H*0:H/0);for(l?(D=1,a=i.e-n.e):(l=tt,D=Q,a=Ue(i.e/D)-Ue(n.e/D)),T=U.length,N=k.length,F=new Z(H),y=F.d=[],h=0;U[h]==(k[h]||0);h++);if(U[h]>(k[h]||0)&&a--,u==null?(g=u=Z.precision,o=Z.rounding):s?g=u+(i.e-n.e)+1:g=u,g<0)y.push(1),p=!0;else{if(g=g/D+2|0,h=0,T==1){for(d=0,U=U[0],g++;(h<N||d)&&g--;h++)C=d*l+(k[h]||0),y[h]=C/U|0,d=C%U|0;p=d||h<N}else{for(d=l/(U[0]+1)|0,d>1&&(U=e(U,d,l),k=e(k,d,l),T=U.length,N=k.length),B=T,E=k.slice(0,T),b=E.length;b<T;)E[b++]=0;j=U.slice(),j.unshift(0),M=U[0],U[1]>=l/2&&++M;do d=0,f=t(U,E,T,b),f<0?(w=E[0],T!=b&&(w=w*l+(E[1]||0)),d=w/M|0,d>1?(d>=l&&(d=l-1),c=e(U,d,l),m=c.length,b=E.length,f=t(c,E,m,b),f==1&&(d--,r(c,T<m?j:U,m,l))):(d==0&&(f=d=1),c=U.slice()),m=c.length,m<b&&c.unshift(0),r(E,c,b,l),f==-1&&(b=E.length,f=t(U,E,T,b),f<1&&(d++,r(E,T<b?j:U,b,l))),b=E.length):f===0&&(d++,E=[0]),y[h++]=d,f&&E[0]?E[b++]=k[B]||0:(E=[k[B]],b=1);while((B++<N||E[0]!==void 0)&&g--);p=E[0]!==void 0}y[0]||y.shift()}if(D==1)F.e=a,On=p;else{for(h=1,d=y[0];d>=10;d/=10)h++;F.e=h+a*D-1,G(F,s?u+F.e+1:u,o,p)}return F}})();function G(e,t,r,i){var n,u,o,s,l,f,a,h,d,D=e.constructor;e:if(t!=null){if(h=e.d,!h)return e;for(n=1,s=h[0];s>=10;s/=10)n++;if(u=t-n,u<0)u+=Q,o=t,a=h[d=0],l=a/Ie(10,n-o-1)%10|0;else if(d=Math.ceil((u+1)/Q),s=h.length,d>=s)if(i){for(;s++<=d;)h.push(0);a=l=0,n=1,u%=Q,o=u-Q+1}else break e;else{for(a=s=h[d],n=1;s>=10;s/=10)n++;u%=Q,o=u-Q+n,l=o<0?0:a/Ie(10,n-o-1)%10|0}if(i=i||t<0||h[d+1]!==void 0||(o<0?a:a%Ie(10,n-o-1)),f=r<4?(l||i)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||i||r==6&&(u>0?o>0?a/Ie(10,n-o):0:h[d-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,f?(t-=e.e+1,h[0]=Ie(10,(Q-t%Q)%Q),e.e=-t||0):h[0]=e.e=0,e;if(u==0?(h.length=d,s=1,d--):(h.length=d+1,s=Ie(10,Q-u),h[d]=o>0?(a/Ie(10,n-o)%Ie(10,o)|0)*s:0),f)for(;;)if(d==0){for(u=1,o=h[0];o>=10;o/=10)u++;for(o=h[0]+=s,s=1;o>=10;o/=10)s++;u!=s&&(e.e++,h[0]==tt&&(h[0]=1));break}else{if(h[d]+=s,h[d]!=tt)break;h[d--]=0,s=1}for(u=h.length;h[--u]===0;)h.pop()}return te&&(e.e>D.maxE?(e.d=null,e.e=NaN):e.e<D.minE&&(e.e=0,e.d=[0])),e}function it(e,t,r){if(!e.isFinite())return qn(e);var i,n=e.e,u=Re(e.d),o=u.length;return t?(r&&(i=r-o)>0?u=u.charAt(0)+"."+u.slice(1)+lt(i):o>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):n<0?(u="0."+lt(-n-1)+u,r&&(i=r-o)>0&&(u+=lt(i))):n>=o?(u+=lt(n+1-o),r&&(i=r-n-1)>0&&(u=u+"."+lt(i))):((i=n+1)<o&&(u=u.slice(0,i)+"."+u.slice(i)),r&&(i=r-o)>0&&(n+1===o&&(u+="."),u+=lt(i))),u}function fr(e,t){var r=e[0];for(t*=Q;r>=10;r/=10)t++;return t}function ir(e,t,r){if(t>Fo)throw te=!0,r&&(e.precision=r),Error(Pn);return G(new e(rr),t,1,!0)}function nt(e,t,r){if(t>yr)throw Error(Pn);return G(new e(nr),t,r,!0)}function Un(e){var t=e.length-1,r=t*Q+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function lt(e){for(var t="";e--;)t+="0";return t}function Ln(e,t,r,i){var n,u=new e(1),o=Math.ceil(i/Q+4);for(te=!1;;){if(r%2&&(u=u.times(t),Hr(u.d,o)&&(n=!0)),r=Ue(r/2),r===0){r=u.d.length-1,n&&u.d[r]===0&&++u.d[r];break}t=t.times(t),Hr(t.d,o)}return te=!0,u}function Wr(e){return e.d[e.d.length-1]&1}function jn(e,t,r){for(var i,n,u=new e(t[0]),o=0;++o<t.length;){if(n=new e(t[o]),!n.s){u=n;break}i=u.cmp(n),(i===r||i===0&&u.s===r)&&(u=n)}return u}function Ar(e,t){var r,i,n,u,o,s,l,f=0,a=0,h=0,d=e.constructor,D=d.rounding,p=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(te=!1,l=p):l=t,s=new d(.03125);e.e>-2;)e=e.times(s),h+=5;for(i=Math.log(Ie(2,h))/Math.LN10*2+5|0,l+=i,r=u=o=new d(1),d.precision=l;;){if(u=G(u.times(e),l,1),r=r.times(++a),s=o.plus(De(u,r,l,1)),Re(s.d).slice(0,l)===Re(o.d).slice(0,l)){for(n=h;n--;)o=G(o.times(o),l,1);if(t==null)if(f<3&&Ut(o.d,l-i,D,f))d.precision=l+=10,r=u=s=new d(1),a=0,f++;else return G(o,d.precision=p,D,te=!0);else return d.precision=p,o}o=s}}function ht(e,t){var r,i,n,u,o,s,l,f,a,h,d,D=1,p=10,c=e,m=c.d,F=c.constructor,y=F.rounding,E=F.precision;if(c.s<0||!m||!m[0]||!c.e&&m[0]==1&&m.length==1)return new F(m&&!m[0]?-1/0:c.s!=1?NaN:m?0:c);if(t==null?(te=!1,a=E):a=t,F.precision=a+=p,r=Re(m),i=r.charAt(0),Math.abs(u=c.e)<15e14){for(;i<7&&i!=1||i==1&&r.charAt(1)>3;)c=c.times(e),r=Re(c.d),i=r.charAt(0),D++;u=c.e,i>1?(c=new F("0."+r),u++):c=new F(i+"."+r.slice(1))}else return f=ir(F,a+2,E).times(u+""),c=ht(new F(i+"."+r.slice(1)),a-p).plus(f),F.precision=E,t==null?G(c,E,y,te=!0):c;for(h=c,l=o=c=De(c.minus(1),c.plus(1),a,1),d=G(c.times(c),a,1),n=3;;){if(o=G(o.times(d),a,1),f=l.plus(De(o,new F(n),a,1)),Re(f.d).slice(0,a)===Re(l.d).slice(0,a))if(l=l.times(2),u!==0&&(l=l.plus(ir(F,a+2,E).times(u+""))),l=De(l,new F(D),a,1),t==null)if(Ut(l.d,a-p,y,s))F.precision=a+=p,f=o=c=De(h.minus(1),h.plus(1),a,1),d=G(c.times(c),a,1),n=s=1;else return G(l,F.precision=E,y,te=!0);else return F.precision=E,l;l=f,n+=2}}function qn(e){return String(e.s*e.s/0)}function Yt(e,t){var r,i,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),i=0;t.charCodeAt(i)===48;i++);for(n=t.length;t.charCodeAt(n-1)===48;--n);if(t=t.slice(i,n),t){if(n-=i,e.e=r=r-i-1,e.d=[],i=(r+1)%Q,r<0&&(i+=Q),i<n){for(i&&e.d.push(+t.slice(0,i)),n-=Q;i<n;)e.d.push(+t.slice(i,i+=Q));t=t.slice(i),i=Q-t.length}else i-=n;for(;i--;)t+="0";e.d.push(+t),te&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Co(e,t){var r,i,n,u,o,s,l,f,a;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),$n.test(t))return Yt(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(go.test(t))r=16,t=t.toLowerCase();else if(mo.test(t))r=2;else if(vo.test(t))r=8;else throw Error(Dt+t);for(u=t.search(/p/i),u>0?(l=+t.slice(u+1),t=t.substring(2,u)):t=t.slice(2),u=t.indexOf("."),o=u>=0,i=e.constructor,o&&(t=t.replace(".",""),s=t.length,u=s-u,n=Ln(i,new i(r),u,u*2)),f=Jt(t,r,tt),a=f.length-1,u=a;f[u]===0;--u)f.pop();return u<0?new i(e.s*0):(e.e=fr(f,a),e.d=f,te=!1,o&&(e=De(e,n,s*4)),l&&(e=e.times(Math.abs(l)<54?Ie(2,l):It.pow(2,l))),te=!0,e)}function yo(e,t){var r,i=t.d.length;if(i<3)return t.isZero()?t:Tt(e,2,t,t);r=1.4*Math.sqrt(i),r=r>16?16:r|0,t=t.times(1/lr(5,r)),t=Tt(e,2,t,t);for(var n,u=new e(5),o=new e(16),s=new e(20);r--;)n=t.times(t),t=t.times(u.plus(n.times(o.times(n).minus(s))));return t}function Tt(e,t,r,i,n){var u,o,s,l,f=e.precision,a=Math.ceil(f/Q);for(te=!1,l=r.times(r),s=new e(i);;){if(o=De(s.times(l),new e(t++*t++),f,1),s=n?i.plus(o):i.minus(o),i=De(o.times(l),new e(t++*t++),f,1),o=s.plus(i),o.d[a]!==void 0){for(u=a;o.d[u]===s.d[u]&&u--;);if(u==-1)break}u=s,s=i,i=o,o=u}return te=!0,o.d.length=a+1,o}function lr(e,t){for(var r=e;--t;)r*=e;return r}function Vn(e,t){var r,i=t.s<0,n=nt(e,e.precision,1),u=n.times(.5);if(t=t.abs(),t.lte(u))return st=i?4:1,t;if(r=t.divToInt(n),r.isZero())st=i?3:2;else{if(t=t.minus(r.times(n)),t.lte(u))return st=Wr(r)?i?2:3:i?4:1,t;st=Wr(r)?i?1:4:i?3:2}return t.minus(n).abs()}function xr(e,t,r,i){var n,u,o,s,l,f,a,h,d,D=e.constructor,p=r!==void 0;if(p?(He(r,1,mt),i===void 0?i=D.rounding:He(i,0,8)):(r=D.precision,i=D.rounding),!e.isFinite())a=qn(e);else{for(a=it(e),o=a.indexOf("."),p?(n=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):n=t,o>=0&&(a=a.replace(".",""),d=new D(1),d.e=a.length-o,d.d=Jt(it(d),10,n),d.e=d.d.length),h=Jt(a,10,n),u=l=h.length;h[--l]==0;)h.pop();if(!h[0])a=p?"0p+0":"0";else{if(o<0?u--:(e=new D(e),e.d=h,e.e=u,e=De(e,d,r,i,0,n),h=e.d,u=e.e,f=On),o=h[r],s=n/2,f=f||h[r+1]!==void 0,f=i<4?(o!==void 0||f)&&(i===0||i===(e.s<0?3:2)):o>s||o===s&&(i===4||f||i===6&&h[r-1]&1||i===(e.s<0?8:7)),h.length=r,f)for(;++h[--r]>n-1;)h[r]=0,r||(++u,h.unshift(1));for(l=h.length;!h[l-1];--l);for(o=0,a="";o<l;o++)a+=Er.charAt(h[o]);if(p){if(l>1)if(t==16||t==8){for(o=t==16?4:3,--l;l%o;l++)a+="0";for(h=Jt(a,n,t),l=h.length;!h[l-1];--l);for(o=1,a="1.";o<l;o++)a+=Er.charAt(h[o])}else a=a.charAt(0)+"."+a.slice(1);a=a+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)a="0"+a;a="0."+a}else if(++u>l)for(u-=l;u--;)a+="0";else u<l&&(a=a.slice(0,u)+"."+a.slice(u))}a=(t==16?"0x":t==2?"0b":t==8?"0o":"")+a}return e.s<0?"-"+a:a}function Hr(e,t){if(e.length>t)return e.length=t,!0}function Ao(e){return new this(e).abs()}function bo(e){return new this(e).acos()}function Bo(e){return new this(e).acosh()}function No(e,t){return new this(e).plus(t)}function _o(e){return new this(e).asin()}function Mo(e){return new this(e).asinh()}function So(e){return new this(e).atan()}function xo(e){return new this(e).atanh()}function To(e,t){e=new this(e),t=new this(t);var r,i=this.precision,n=this.rounding,u=i+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=nt(this,u,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?nt(this,i,n):new this(0),r.s=e.s):!e.d||t.isZero()?(r=nt(this,u,1).times(.5),r.s=e.s):t.s<0?(this.precision=u,this.rounding=1,r=this.atan(De(e,t,u,1)),t=nt(this,u,1),this.precision=i,this.rounding=n,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(De(e,t,u,1)),r}function Io(e){return new this(e).cbrt()}function Oo(e){return G(e=new this(e),e.e+1,2)}function Po(e,t,r){return new this(e).clamp(t,r)}function zo(e){if(!e||typeof e!="object")throw Error(cr+"Object expected");var t,r,i,n=e.defaults===!0,u=["precision",1,mt,"rounding",0,8,"toExpNeg",-Nt,0,"toExpPos",0,Nt,"maxE",0,Nt,"minE",-Nt,0,"modulo",0,9];for(t=0;t<u.length;t+=3)if(r=u[t],n&&(this[r]=Cr[r]),(i=e[r])!==void 0)if(Ue(i)===i&&i>=u[t+1]&&i<=u[t+2])this[r]=i;else throw Error(Dt+r+": "+i);if(r="crypto",n&&(this[r]=Cr[r]),(i=e[r])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(zn);else this[r]=!1;else throw Error(Dt+r+": "+i);return this}function Ro(e){return new this(e).cos()}function $o(e){return new this(e).cosh()}function kn(e){var t,r,i;function n(u){var o,s,l,f=this;if(!(f instanceof n))return new n(u);if(f.constructor=n,Gr(u)){f.s=u.s,te?!u.d||u.e>n.maxE?(f.e=NaN,f.d=null):u.e<n.minE?(f.e=0,f.d=[0]):(f.e=u.e,f.d=u.d.slice()):(f.e=u.e,f.d=u.d?u.d.slice():u.d);return}if(l=typeof u,l==="number"){if(u===0){f.s=1/u<0?-1:1,f.e=0,f.d=[0];return}if(u<0?(u=-u,f.s=-1):f.s=1,u===~~u&&u<1e7){for(o=0,s=u;s>=10;s/=10)o++;te?o>n.maxE?(f.e=NaN,f.d=null):o<n.minE?(f.e=0,f.d=[0]):(f.e=o,f.d=[u]):(f.e=o,f.d=[u]);return}if(u*0!==0){u||(f.s=NaN),f.e=NaN,f.d=null;return}return Yt(f,u.toString())}if(l==="string")return(s=u.charCodeAt(0))===45?(u=u.slice(1),f.s=-1):(s===43&&(u=u.slice(1)),f.s=1),$n.test(u)?Yt(f,u):Co(f,u);if(l==="bigint")return u<0?(u=-u,f.s=-1):f.s=1,Yt(f,u.toString());throw Error(Dt+u)}if(n.prototype=O,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=zo,n.clone=kn,n.isDecimal=Gr,n.abs=Ao,n.acos=bo,n.acosh=Bo,n.add=No,n.asin=_o,n.asinh=Mo,n.atan=So,n.atanh=xo,n.atan2=To,n.cbrt=Io,n.ceil=Oo,n.clamp=Po,n.cos=Ro,n.cosh=$o,n.div=Uo,n.exp=Lo,n.floor=jo,n.hypot=qo,n.ln=Vo,n.log=ko,n.log10=Wo,n.log2=Zo,n.max=Ho,n.min=Go,n.mod=Jo,n.mul=Yo,n.pow=Xo,n.random=Ko,n.round=Qo,n.sign=es,n.sin=ts,n.sinh=rs,n.sqrt=ns,n.sub=is,n.sum=us,n.tan=os,n.tanh=ss,n.trunc=as,e===void 0&&(e={}),e&&e.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)e.hasOwnProperty(r=i[t++])||(e[r]=this[r]);return n.config(e),n}function Uo(e,t){return new this(e).div(t)}function Lo(e){return new this(e).exp()}function jo(e){return G(e=new this(e),e.e+1,3)}function qo(){var e,t,r=new this(0);for(te=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return te=!0,new this(1/0);r=t}return te=!0,r.sqrt()}function Gr(e){return e instanceof It||e&&e.toStringTag===Rn||!1}function Vo(e){return new this(e).ln()}function ko(e,t){return new this(e).log(t)}function Zo(e){return new this(e).log(2)}function Wo(e){return new this(e).log(10)}function Ho(){return jn(this,arguments,-1)}function Go(){return jn(this,arguments,1)}function Jo(e,t){return new this(e).mod(t)}function Yo(e,t){return new this(e).mul(t)}function Xo(e,t){return new this(e).pow(t)}function Ko(e){var t,r,i,n,u=0,o=new this(1),s=[];if(e===void 0?e=this.precision:He(e,1,mt),i=Math.ceil(e/Q),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));u<i;)n=t[u],n>=429e7?t[u]=crypto.getRandomValues(new Uint32Array(1))[0]:s[u++]=n%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);u<i;)n=t[u]+(t[u+1]<<8)+(t[u+2]<<16)+((t[u+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(t,u):(s.push(n%1e7),u+=4);u=i/4}else throw Error(zn);else for(;u<i;)s[u++]=Math.random()*1e7|0;for(i=s[--u],e%=Q,i&&e&&(n=Ie(10,Q-e),s[u]=(i/n|0)*n);s[u]===0;u--)s.pop();if(u<0)r=0,s=[0];else{for(r=-1;s[0]===0;r-=Q)s.shift();for(i=1,n=s[0];n>=10;n/=10)i++;i<Q&&(r-=Q-i)}return o.e=r,o.d=s,o}function Qo(e){return G(e=new this(e),e.e+1,this.rounding)}function es(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function ts(e){return new this(e).sin()}function rs(e){return new this(e).sinh()}function ns(e){return new this(e).sqrt()}function is(e,t){return new this(e).sub(t)}function us(){var e=0,t=arguments,r=new this(t[e]);for(te=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return te=!0,G(r,this.precision,this.rounding)}function os(e){return new this(e).tan()}function ss(e){return new this(e).tanh()}function as(e){return G(e=new this(e),e.e+1,1)}O[Symbol.for("nodejs.util.inspect.custom")]=O.toString;O[Symbol.toStringTag]="Decimal";var It=O.constructor=kn(Cr);rr=new It(rr);nr=new It(nr);var cs="BigNumber",fs=["?on","config"],ls=oe(cs,fs,e=>{var{on:t,config:r}=e,i=It.clone({precision:r.precision,modulo:It.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(n){return new i(n.value)},t&&t("config",function(n,u){n.precision!==u.precision&&i.config({precision:n.precision})}),i},{isClass:!0});const $e=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},Ye=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},hs=function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const r=e*e;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},gr=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},At=function(){throw SyntaxError("Invalid Param")};function vr(e,t){const r=Math.abs(e),i=Math.abs(t);return e===0?Math.log(i):t===0?Math.log(r):r<3e3&&i<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const ds={re:0,im:0},vt=function(e,t){const r=ds;if(e==null)r.re=r.im=0;else if(t!==void 0)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return S.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return S.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else e.length===2?(r.re=e[0],r.im=e[1]):At();break;case"string":r.im=r.re=0;const i=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let n=1,u=0;i===null&&At();for(let o=0;o<i.length;o++){const s=i[o];s===" "||s==="	"||s===`
`||(s==="+"?n++:s==="-"?u++:s==="i"||s==="I"?(n+u===0&&At(),i[o+1]!==" "&&!isNaN(i[o+1])?(r.im+=parseFloat((u%2?"-":"")+i[o+1]),o++):r.im+=parseFloat((u%2?"-":"")+"1"),n=u=0):((n+u===0||isNaN(s))&&At(),i[o+1]==="i"||i[o+1]==="I"?(r.im+=parseFloat((u%2?"-":"")+s),o++):r.re+=parseFloat((u%2?"-":"")+s),n=u=0))}n+u>0&&At();break;case"number":r.im=0,r.re=e;break;default:At()}return isNaN(r.re)||isNaN(r.im),r};function S(e,t){if(!(this instanceof S))return new S(e,t);const r=vt(e,t);this.re=r.re,this.im=r.im}S.prototype={re:0,im:0,sign:function(){const e=gr(this.re,this.im);return new S(this.re/e,this.im/e)},add:function(e,t){const r=vt(e,t),i=this.isInfinite(),n=!(isFinite(r.re)&&isFinite(r.im));return i||n?i&&n?S.NAN:S.INFINITY:new S(this.re+r.re,this.im+r.im)},sub:function(e,t){const r=vt(e,t),i=this.isInfinite(),n=!(isFinite(r.re)&&isFinite(r.im));return i||n?i&&n?S.NAN:S.INFINITY:new S(this.re-r.re,this.im-r.im)},mul:function(e,t){const r=vt(e,t),i=this.isInfinite(),n=!(isFinite(r.re)&&isFinite(r.im)),u=this.re===0&&this.im===0,o=r.re===0&&r.im===0;return i&&o||n&&u?S.NAN:i||n?S.INFINITY:r.im===0&&this.im===0?new S(this.re*r.re,0):new S(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){const r=vt(e,t),i=this.isInfinite(),n=!(isFinite(r.re)&&isFinite(r.im)),u=this.re===0&&this.im===0,o=r.re===0&&r.im===0;if(u&&o||i&&n)return S.NAN;if(o||i)return S.INFINITY;if(u||n)return S.ZERO;if(r.im===0)return new S(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const s=r.re/r.im,l=r.re*s+r.im;return new S((this.re*s+this.im)/l,(this.im*s-this.re)/l)}else{const s=r.im/r.re,l=r.im*s+r.re;return new S((this.re+this.im*s)/l,(this.im-this.re*s)/l)}},pow:function(e,t){const r=vt(e,t),i=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return S.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new S(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new S(Math.pow(this.im,r.re),0);case 1:return new S(0,Math.pow(this.im,r.re));case 2:return new S(-Math.pow(this.im,r.re),0);case 3:return new S(0,-Math.pow(this.im,r.re))}}if(i&&r.re>0)return S.ZERO;const u=Math.atan2(this.im,this.re),o=vr(this.re,this.im);let s=Math.exp(r.re*o-r.im*u),l=r.im*o+r.re*u;return new S(s*Math.cos(l),s*Math.sin(l))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new S(Math.sqrt(e),0):new S(0,Math.sqrt(-e));const r=gr(e,t);let i=Math.sqrt(.5*(r+Math.abs(e))),n=Math.abs(t)/(2*i);return e>=0?new S(i,t<0?-n:n):new S(n,t<0?-i:i)},exp:function(){const e=Math.exp(this.re);return this.im===0?new S(e,0):new S(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new S(Math.expm1(e)*Math.cos(t)+hs(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new S(Math.log(e),0):new S(vr(e,t),Math.atan2(t,e))},abs:function(){return gr(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new S(Math.sin(e)*$e(t),Math.cos(e)*Ye(t))},cos:function(){const e=this.re,t=this.im;return new S(Math.cos(e)*$e(t),-Math.sin(e)*Ye(t))},tan:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)+$e(t);return new S(Math.sin(e)/r,Ye(t)/r)},cot:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)-$e(t);return new S(-Math.sin(e)/r,Ye(t)/r)},sec:function(){const e=this.re,t=this.im,r=.5*$e(2*t)+.5*Math.cos(2*e);return new S(Math.cos(e)*$e(t)/r,Math.sin(e)*Ye(t)/r)},csc:function(){const e=this.re,t=this.im,r=.5*$e(2*t)-.5*Math.cos(2*e);return new S(Math.sin(e)*$e(t)/r,-Math.cos(e)*Ye(t)/r)},asin:function(){const e=this.re,t=this.im,r=new S(t*t-e*e+1,-2*e*t).sqrt(),i=new S(r.re-t,r.im+e).log();return new S(i.im,-i.re)},acos:function(){const e=this.re,t=this.im,r=new S(t*t-e*e+1,-2*e*t).sqrt(),i=new S(r.re-t,r.im+e).log();return new S(Math.PI/2-i.im,i.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new S(0,1/0);if(t===-1)return new S(0,-1/0)}const r=e*e+(1-t)*(1-t),i=new S((1-t*t-e*e)/r,-2*e/r).log();return new S(-.5*i.im,.5*i.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new S(Math.atan2(1,e),0);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).atan():new S(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new S(0,1/0);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).acos():new S(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new S(Math.PI/2,1/0);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).asin():new S(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new S(Ye(e)*Math.cos(t),$e(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new S($e(e)*Math.cos(t),Ye(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,r=$e(e)+Math.cos(t);return new S(Ye(e)/r,Math.sin(t)/r)},coth:function(){const e=2*this.re,t=2*this.im,r=$e(e)-Math.cos(t);return new S(Ye(e)/r,-Math.sin(t)/r)},csch:function(){const e=this.re,t=this.im,r=Math.cos(2*t)-$e(2*e);return new S(-2*Ye(e)*Math.cos(t)/r,2*$e(e)*Math.sin(t)/r)},sech:function(){const e=this.re,t=this.im,r=Math.cos(2*t)+$e(2*e);return new S(2*$e(e)*Math.cos(t)/r,-2*Ye(e)*Math.sin(t)/r)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,r=e>1&&t===0,i=1-e,n=1+e,u=i*i+t*t,o=u!==0?new S((n*i-t*t)/u,(t*i+n*t)/u):new S(e!==-1?e/0:0,t!==0?t/0:0),s=o.re;return o.re=vr(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,r&&(o.im=-o.im),o},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new S(0,Math.PI/2);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).atanh():new S(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0)return new S(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).asinh():new S(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return S.INFINITY;const r=e*e+t*t;return r!==0?new S(e/r,-t/r).acosh():new S(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return S.INFINITY;if(this.isInfinite())return S.ZERO;const e=this.re,t=this.im,r=e*e+t*t;return new S(e/r,-t/r)},conjugate:function(){return new S(this.re,-this.im)},neg:function(){return new S(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new S(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new S(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new S(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const r=vt(e,t);return Math.abs(r.re-this.re)<=S.EPSILON&&Math.abs(r.im-this.im)<=S.EPSILON},clone:function(){return new S(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<S.EPSILON&&(e=0),Math.abs(t)<S.EPSILON&&(t=0),t===0?r+e:(e!==0?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),t!==1&&(r+=t),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};S.ZERO=new S(0,0);S.ONE=new S(1,0);S.I=new S(0,1);S.PI=new S(Math.PI,0);S.E=new S(Math.E,0);S.INFINITY=new S(1/0,1/0);S.NAN=new S(NaN,NaN);S.EPSILON=1e-15;var Ds="Complex",ps=[],ms=oe(Ds,ps,()=>(Object.defineProperty(S,"name",{value:"Complex"}),S.prototype.constructor=S,S.prototype.type="Complex",S.prototype.isComplex=!0,S.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},S.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},S.prototype.format=function(e){var t="",r=this.im,i=this.re,n=Fr(this.re,e),u=Fr(this.im,e),o=me(e)?e:e?e.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(i/r)<s&&(i=0),Math.abs(r/i)<s&&(r=0)}return r===0?t=n:i===0?r===1?t="i":r===-1?t="-i":t=u+"i":r<0?r===-1?t=n+" - i":t=n+" - "+u.substring(1)+"i":r===1?t=n+" + i":t=n+" + "+u+"i",t},S.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return S(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],i=arguments[1];if(me(r)){if(_n(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),me(i))return new S({r,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},S.prototype.valueOf=S.prototype.toString,S.fromJSON=function(e){return new S(e)},S.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},S),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const W=BigInt(0),ie=BigInt(1),Pe=BigInt(2),$t=BigInt(3),_t=BigInt(5),We=BigInt(10);BigInt(Number.MAX_SAFE_INTEGER);const gs=2e3,L={s:ie,n:W,d:ie};function ot(e,t){try{e=BigInt(e)}catch{throw ct()}return e*t}function et(e){return typeof e=="bigint"?e:Math.floor(e)}function we(e,t){if(t===W)throw Tr();const r=Object.create(Xe.prototype);r.s=e<W?-ie:ie,e=e<W?-e:e;const i=wt(e,t);return r.n=e/i,r.d=t/i,r}const vs=[Pe*Pe,Pe,Pe*Pe,Pe,Pe*Pe,Pe*$t,Pe,Pe*$t];function bt(e){const t=Object.create(null);if(e<=ie)return t[e]=ie,t;const r=i=>{t[i]=(t[i]||W)+ie};for(;e%Pe===W;)r(Pe),e/=Pe;for(;e%$t===W;)r($t),e/=$t;for(;e%_t===W;)r(_t),e/=_t;for(let i=0,n=Pe+_t;n*n<=e;){for(;e%n===W;)r(n),e/=n;n+=vs[i],i=i+1&7}return e>ie&&r(e),t}const Oe=function(e,t){let r=W,i=ie,n=ie;if(e!=null)if(t!==void 0){if(typeof e=="bigint")r=e;else{if(isNaN(e))throw ct();if(e%1!==0)throw Jr();r=BigInt(e)}if(typeof t=="bigint")i=t;else{if(isNaN(t))throw ct();if(t%1!==0)throw Jr();i=BigInt(t)}n=r*i}else if(typeof e=="object"){if("d"in e&&"n"in e)r=BigInt(e.n),i=BigInt(e.d),"s"in e&&(r*=BigInt(e.s));else if(0 in e)r=BigInt(e[0]),1 in e&&(i=BigInt(e[1]));else if(typeof e=="bigint")r=e;else throw ct();n=r*i}else if(typeof e=="number"){if(isNaN(e))throw ct();if(e<0&&(n=-ie,e=-e),e%1===0)r=BigInt(e);else{let u=1,o=0,s=1,l=1,f=1,a=1e7;for(e>=1&&(u=10**Math.floor(1+Math.log10(e)),e/=u);s<=a&&f<=a;){let h=(o+l)/(s+f);if(e===h){s+f<=a?(r=o+l,i=s+f):f>s?(r=l,i=f):(r=o,i=s);break}else e>h?(o+=l,s+=f):(l+=o,f+=s),s>a?(r=l,i=f):(r=o,i=s)}r=BigInt(r)*BigInt(u),i=BigInt(i)}}else if(typeof e=="string"){let u=0,o=W,s=W,l=W,f=ie,a=ie,h=e.replace(/_/g,"").match(/\d+|./g);if(h===null)throw ct();if(h[u]==="-"?(n=-ie,u++):h[u]==="+"&&u++,h.length===u+1?s=ot(h[u++],n):h[u+1]==="."||h[u]==="."?(h[u]!=="."&&(o=ot(h[u++],n)),u++,(u+1===h.length||h[u+1]==="("&&h[u+3]===")"||h[u+1]==="'"&&h[u+3]==="'")&&(s=ot(h[u],n),f=We**BigInt(h[u].length),u++),(h[u]==="("&&h[u+2]===")"||h[u]==="'"&&h[u+2]==="'")&&(l=ot(h[u+1],n),a=We**BigInt(h[u+1].length)-ie,u+=3)):h[u+1]==="/"||h[u+1]===":"?(s=ot(h[u],n),f=ot(h[u+2],ie),u+=3):h[u+3]==="/"&&h[u+1]===" "&&(o=ot(h[u],n),s=ot(h[u+2],n),f=ot(h[u+4],ie),u+=5),h.length<=u)i=f*a,n=r=l+i*o+a*s;else throw ct()}else if(typeof e=="bigint")r=e,n=e,i=ie;else throw ct();if(i===W)throw Tr();L.s=n<W?-ie:ie,L.n=r<W?-r:r,L.d=i<W?-i:i};function ws(e,t,r){let i=ie;for(;t>W;e=e*e%r,t>>=ie)t&ie&&(i=i*e%r);return i}function Fs(e,t){for(;t%Pe===W;t/=Pe);for(;t%_t===W;t/=_t);if(t===ie)return W;let r=We%t,i=1;for(;r!==ie;i++)if(r=r*We%t,i>gs)return W;return BigInt(i)}function Es(e,t,r){let i=ie,n=ws(We,r,t);for(let u=0;u<300;u++){if(i===n)return BigInt(u);i=i*We%t,n=n*We%t}return 0}function wt(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function Xe(e,t){if(Oe(e,t),this instanceof Xe)e=wt(L.d,L.n),this.s=L.s,this.n=L.n/e,this.d=L.d/e;else return we(L.s*L.n,L.d)}const Tr=function(){return new Error("Division by Zero")},ct=function(){return new Error("Invalid argument")},Jr=function(){return new Error("Parameters must be integer")};Xe.prototype={s:ie,n:W,d:ie,abs:function(){return we(this.n,this.d)},neg:function(){return we(-this.s*this.n,this.d)},add:function(e,t){return Oe(e,t),we(this.s*this.n*L.d+L.s*this.d*L.n,this.d*L.d)},sub:function(e,t){return Oe(e,t),we(this.s*this.n*L.d-L.s*this.d*L.n,this.d*L.d)},mul:function(e,t){return Oe(e,t),we(this.s*L.s*this.n*L.n,this.d*L.d)},div:function(e,t){return Oe(e,t),we(this.s*L.s*this.n*L.d,this.d*L.n)},clone:function(){return we(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return we(this.s*this.n%this.d,ie);if(Oe(e,t),W===L.n*this.d)throw Tr();return we(this.s*(L.d*this.n)%(L.n*this.d),L.d*this.d)},gcd:function(e,t){return Oe(e,t),we(wt(L.n,this.n)*wt(L.d,this.d),L.d*this.d)},lcm:function(e,t){return Oe(e,t),L.n===W&&this.n===W?we(W,ie):we(L.n*this.n,wt(L.n,this.n)*wt(L.d,this.d))},inverse:function(){return we(this.s*this.d,this.n)},pow:function(e,t){if(Oe(e,t),L.d===ie)return L.s<W?we((this.s*this.d)**L.n,this.n**L.n):we((this.s*this.n)**L.n,this.d**L.n);if(this.s<W)return null;let r=bt(this.n),i=bt(this.d),n=ie,u=ie;for(let o in r)if(o!=="1"){if(o==="0"){n=W;break}if(r[o]*=L.n,r[o]%L.d===W)r[o]/=L.d;else return null;n*=BigInt(o)**r[o]}for(let o in i)if(o!=="1"){if(i[o]*=L.n,i[o]%L.d===W)i[o]/=L.d;else return null;u*=BigInt(o)**i[o]}return L.s<W?we(u,n):we(n,u)},log:function(e,t){if(Oe(e,t),this.s<=W||L.s<=W)return null;const r=Object.create(null),i=bt(L.n),n=bt(L.d),u=bt(this.n),o=bt(this.d);for(const f in n)i[f]=(i[f]||W)-n[f];for(const f in o)u[f]=(u[f]||W)-o[f];for(const f in i)f!=="1"&&(r[f]=!0);for(const f in u)f!=="1"&&(r[f]=!0);let s=null,l=null;for(const f in r){const a=i[f]||W,h=u[f]||W;if(a===W){if(h!==W)return null;continue}let d=h,D=a;const p=wt(d,D);if(d/=p,D/=p,s===null&&l===null)s=d,l=D;else if(d*l!==s*D)return null}return s!==null&&l!==null?we(s,l):null},equals:function(e,t){return Oe(e,t),this.s*this.n*L.d===L.s*L.n*this.d},lt:function(e,t){return Oe(e,t),this.s*this.n*L.d<L.s*L.n*this.d},lte:function(e,t){return Oe(e,t),this.s*this.n*L.d<=L.s*L.n*this.d},gt:function(e,t){return Oe(e,t),this.s*this.n*L.d>L.s*L.n*this.d},gte:function(e,t){return Oe(e,t),this.s*this.n*L.d>=L.s*L.n*this.d},compare:function(e,t){Oe(e,t);let r=this.s*this.n*L.d-L.s*L.n*this.d;return(W<r)-(r<W)},ceil:function(e){return e=We**BigInt(e||0),we(et(this.s*e*this.n/this.d)+(e*this.n%this.d>W&&this.s>=W?ie:W),e)},floor:function(e){return e=We**BigInt(e||0),we(et(this.s*e*this.n/this.d)-(e*this.n%this.d>W&&this.s<W?ie:W),e)},round:function(e){return e=We**BigInt(e||0),we(et(this.s*e*this.n/this.d)+this.s*((this.s>=W?ie:W)+Pe*(e*this.n%this.d)>this.d?ie:W),e)},roundTo:function(e,t){Oe(e,t);const r=this.n*L.d,i=this.d*L.n,n=r%i;let u=et(r/i);return n+n>=i&&u++,we(this.s*u*L.n,L.d)},divisible:function(e,t){return Oe(e,t),L.n===W?!1:this.n*L.d%(L.n*this.d)===W},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e=15){let t=this.n,r=this.d,i=Fs(t,r),n=Es(t,r,i),u=this.s<W?"-":"";if(u+=et(t/r),t%=r,t*=We,t&&(u+="."),i){for(let o=n;o--;)u+=et(t/r),t%=r,t*=We;u+="(";for(let o=i;o--;)u+=et(t/r),t%=r,t*=We;u+=")"}else for(let o=e;t&&o--;)u+=et(t/r),t%=r,t*=We;return u},toFraction:function(e=!1){let t=this.n,r=this.d,i=this.s<W?"-":"";if(r===ie)i+=t;else{const n=et(t/r);e&&n>W&&(i+=n,i+=" ",t%=r),i+=t,i+="/",i+=r}return i},toLatex:function(e=!1){let t=this.n,r=this.d,i=this.s<W?"-":"";if(r===ie)i+=t;else{const n=et(t/r);e&&n>W&&(i+=n,t%=r),i+="\\frac{",i+=t,i+="}{",i+=r,i+="}"}return i},toContinued:function(){let e=this.n,t=this.d;const r=[];for(;t;){r.push(et(e/t));const i=e%t;e=t,t=i}return r},simplify:function(e=.001){const t=BigInt(Math.ceil(1/e)),r=this.abs(),i=r.toContinued();for(let n=1;n<i.length;n++){let u=we(i[n-1],ie);for(let s=n-2;s>=0;s--)u=u.inverse().add(i[s]);let o=u.sub(r);if(o.n*t<o.d)return u.mul(this.s)}return this}};var Cs="Fraction",ys=[],As=oe(Cs,ys,()=>(Object.defineProperty(Xe,"name",{value:"Fraction"}),Xe.prototype.constructor=Xe,Xe.prototype.type="Fraction",Xe.prototype.isFraction=!0,Xe.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Xe.fromJSON=function(e){return new Xe(e)},Xe),{isClass:!0}),bs="Matrix",Bs=[],Ns=oe(bs,Bs,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,i){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,i){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function wr(e,t,r){var i=e.constructor,n=new i(2),u="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Fe(r))throw new Error("size must be an integer");if(e.greaterThan(n.pow(r-1).sub(1))||e.lessThan(n.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(n.pow(r))),u="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(u);case 8:return"".concat(e.toOctal()).concat(u);case 16:return"".concat(e.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(t," not supported "))}}function _s(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:i,wordSize:n}=Sn(t);switch(r){case"fixed":return Ss(e,i);case"exponential":return Yr(e,i);case"engineering":return Ms(e,i);case"bin":return wr(e,2,n);case"oct":return wr(e,8,n);case"hex":return wr(e,16,n);case"auto":{var u=Xr(t?.lowerExp,-3),o=Xr(t?.upperExp,5);if(e.isZero())return"0";var s,l=e.toSignificantDigits(i),f=l.e;return f>=u&&f<o?s=l.toFixed():s=Yr(e,i),s.replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],h=arguments[4];return a!=="."?a+h:h})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ms(e,t){var r=e.e,i=r%3===0?r:r<0?r-3-r%3:r-r%3,n=e.mul(Math.pow(10,-i)),u=n.toPrecision(t);if(u.includes("e")){var o=e.constructor;u=new o(u).toFixed()}return u+"e"+(r>=0?"+":"")+i.toString()}function Yr(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function Ss(e,t){return e.toFixed(t)}function Xr(e,t){return me(e)?e:Me(e)?e.toNumber():t}function xe(e,t){var r=xs(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function xs(e,t){if(typeof e=="number")return Fr(e,t);if(Me(e))return _s(e,t);if(Ts(e))return!t||t.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return Zn(e,t);if(rt(e))return Kr(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(i=>Kr(i)+": "+xe(e[i],t));return"{"+r.join(", ")+"}"}return String(e)}function Kr(e){for(var t=String(e),r="",i=0;i<t.length;){var n=t.charAt(i);r+=n in Qr?Qr[n]:n,i++}return'"'+r+'"'}var Qr={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Zn(e,t){if(Array.isArray(e)){for(var r="[",i=e.length,n=0;n<i;n++)n!==0&&(r+=", "),r+=Zn(e[n],t);return r+="]",r}else return xe(e,t)}function Ts(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function Ee(e,t,r){if(!(this instanceof Ee))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}Ee.prototype=new RangeError;Ee.prototype.constructor=RangeError;Ee.prototype.name="DimensionError";Ee.prototype.isDimensionError=!0;function Ot(e,t,r){if(!(this instanceof Ot))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Ot.prototype=new RangeError;Ot.prototype.constructor=RangeError;Ot.prototype.name="IndexError";Ot.prototype.isIndexError=!0;function qe(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Wn(e,t,r){var i,n=e.length;if(n!==t[r])throw new Ee(n,t[r]);if(r<t.length-1){var u=r+1;for(i=0;i<n;i++){var o=e[i];if(!Array.isArray(o))throw new Ee(t.length-1,t.length,"<");Wn(e[i],t,u)}}else for(i=0;i<n;i++)if(Array.isArray(e[i]))throw new Ee(t.length+1,t.length,">")}function en(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new Ee(e.length,0)}else Wn(e,t,0)}function be(e,t){if(e!==void 0){if(!me(e)||!Fe(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new Ot(e,t)}}function ur(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(n){if(!me(n)||!Fe(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xe(t)+")")}),(me(e)||Me(e))&&(e=[e]);var i=r!==void 0?r:0;return br(e,t,0,i),e}function br(e,t,r,i){var n,u,o=e.length,s=t[r],l=Math.min(o,s);if(e.length=s,r<t.length-1){var f=r+1;for(n=0;n<l;n++)u=e[n],Array.isArray(u)||(u=[u],e[n]=u),br(u,t,f,i);for(n=l;n<s;n++)u=[],e[n]=u,br(u,t,f,i)}else{for(n=0;n<l;n++)for(;Array.isArray(e[n]);)e[n]=e[n][0];for(n=l;n<s;n++)e[n]=i}}function Hn(e,t){var r=Os(e,!0),i=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Ee(0,i,"!=");t=Ir(t,i);var n=Gn(t);if(i!==n)throw new Ee(n,i,"!=");try{return Is(r,t)}catch(u){throw u instanceof Ee?new Ee(n,i,"!="):u}}function Ir(e,t){var r=Gn(e),i=e.slice(),n=-1,u=e.indexOf(n),o=e.indexOf(n,u+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var s=u>=0,l=t%r===0;if(s)if(l)i[u]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return i}function Gn(e){return e.reduce((t,r)=>t*r,1)}function Is(e,t){for(var r=e,i,n=t.length-1;n>0;n--){var u=t[n];i=[];for(var o=r.length/u,s=0;s<o;s++)i.push(r.slice(s*u,(s+1)*u));r=i}return r}function Jn(e,t,r,i){var n=i||qe(e);if(r)for(var u=0;u<r;u++)e=[e],n.unshift(1);for(e=Yn(e,t,0);n.length<t;)n.push(1);return e}function Yn(e,t,r){var i,n;if(Array.isArray(e)){var u=r+1;for(i=0,n=e.length;i<n;i++)e[i]=Yn(e[i],t,u)}else for(var o=r;o<t;o++)e=[e];return e}function Os(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(e))return e;if(typeof t!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var r=[];return t?n(e):i(e),r;function i(u){for(var o=0;o<u.length;o++){var s=u[o];Array.isArray(s)?i(s):r.push(s)}}function n(u){if(Array.isArray(u[0]))for(var o=0;o<u.length;o++)n(u[o]);else for(var s=0;s<u.length;s++)r.push(u[s])}}function Or(e,t){for(var r,i=0,n=0;n<e.length;n++){var u=e[n],o=Array.isArray(u);if(n===0&&o&&(i=u.length),o&&u.length!==i)return;var s=o?Or(u,t):t(u);if(r===void 0)r=s;else if(r!==s)return"mixed"}return r}function Xn(e,t,r,i){if(i<r){if(e.length!==t.length)throw new Ee(e.length,t.length);for(var n=[],u=0;u<e.length;u++)n[u]=Xn(e[u],t[u],r,i+1);return n}else return e.concat(t)}function Ps(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,i){return Xn(r,i,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function zs(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var i=t.map(d=>d.length),n=Math.max(...i),u=new Array(n).fill(null),o=0;o<t.length;o++)for(var s=t[o],l=i[o],f=0;f<l;f++){var a=n-l+f;s[f]>u[a]&&(u[a]=s[f])}for(var h=0;h<t.length;h++)Kn(t[h],u);return u}function Kn(e,t){for(var r=t.length,i=e.length,n=0;n<i;n++){var u=r-i+n;if(e[n]<t[u]&&e[n]>1||e[n]>t[u])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(i," with size ").concat(e[n]," to size ").concat(t[u]))}}function tn(e,t){var r=qe(e);if(St(r,t))return e;Kn(r,t);var i=zs(r,t),n=i.length,u=[...Array(n-r.length).fill(1),...r],o=$s(e);r.length<n&&(o=Hn(o,u),r=qe(o));for(var s=0;s<n;s++)r[s]<i[s]&&(o=Rs(o,i[s],s),r=qe(o));return o}function Rs(e,t,r){return Ps(...Array(t).fill(e),r)}function Qn(e,t){if(!Array.isArray(e))throw new Error("Array expected");var r=qe(e);if(t.length!==r.length)throw new Ee(t.length,r.length);for(var i=0;i<t.length;i++)be(t[i],r[i]);return t.reduce((n,u)=>n[u],e)}function rn(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.length===0)return[];if(r)return u(e);var i=[];return n(e,0);function n(o,s){if(Array.isArray(o)){for(var l=o.length,f=Array(l),a=0;a<l;a++)i[s]=a,f[a]=n(o[a],s+1);return f}else return t(o,i.slice(0,s),e)}function u(o){if(Array.isArray(o)){for(var s=o.length,l=Array(s),f=0;f<s;f++)l[f]=u(o[f]);return l}else return t(o)}}function $s(e){return Xt([],e)}function or(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(tr.isTypedFunction(e)){var n;if(i)n=1;else{var u=(t.isMatrix?t.size():qe(t)).map(()=>0),o=t.isMatrix?t.get(u):Qn(t,u);n=js(e,o,u,t)}var s;if(t.isMatrix&&t.dataType!=="mixed"&&t.dataType!==void 0){var l=Us(e,n);s=l!==void 0?l:e}else s=e;return n>=1&&n<=3?{isUnary:n===1,fn:function(){for(var a=arguments.length,h=new Array(a),d=0;d<a;d++)h[d]=arguments[d];return nn(s,h.slice(0,n),r,e.name)}}:{isUnary:!1,fn:function(){for(var a=arguments.length,h=new Array(a),d=0;d<a;d++)h[d]=arguments[d];return nn(s,h,r,e.name)}}}return i===void 0?{isUnary:Ls(e),fn:e}:{isUnary:i,fn:e}}function Us(e,t){var r=[];if(Object.entries(e.signatures).forEach(i=>{var[n,u]=i;n.split(",").length===t&&r.push(u)}),r.length===1)return r[0]}function Ls(e){if(e.length!==1)return!1;var t=e.toString();if(/arguments/.test(t))return!1;var r=t.match(/\(.*?\)/);return!/\.\.\./.test(r)}function js(e,t,r,i){for(var n=[t,r,i],u=3;u>0;u--){var o=n.slice(0,u);if(tr.resolve(e,o)!==null)return u}}function nn(e,t,r,i){try{return e(...t)}catch(n){qs(n,t,r,i)}}function qs(e,t,r,i){var n;if(e instanceof TypeError&&((n=e.data)===null||n===void 0?void 0:n.category)==="wrongType"){var u=[];throw u.push("value: ".concat(dt(t[0]))),t.length>=2&&u.push("index: ".concat(dt(t[1]))),t.length>=3&&u.push("array: ".concat(dt(t[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(i,"(").concat(u.join(", "),") at index ").concat(JSON.stringify(t[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(i,": ").concat(e.message))}var Vs="DenseMatrix",ks=["Matrix"],Zs=oe(Vs,ks,e=>{var{Matrix:t}=e;function r(a,h){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(h&&!rt(h))throw new Error("Invalid datatype: "+h);if(_e(a))a.type==="DenseMatrix"?(this._data=Ne(a._data),this._size=Ne(a._size),this._datatype=h||a._datatype):(this._data=a.toArray(),this._size=a.size(),this._datatype=h||a._datatype);else if(a&&Te(a.data)&&Te(a.size))this._data=a.data,this._size=a.size,en(this._data,this._size),this._datatype=h||a.datatype;else if(Te(a))this._data=f(a),this._size=qe(this._data),en(this._data,this._size),this._datatype=h;else{if(a)throw new TypeError("Unsupported type of data ("+dt(a)+")");this._data=[],this._size=[0],this._datatype=h}}r.prototype=new t,r.prototype.createDenseMatrix=function(a,h){return new r(a,h)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Or(this._data,dt)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(a,h){return new r(a,h)},r.prototype.subset=function(a,h,d){switch(arguments.length){case 1:return i(this,a);case 2:case 3:return u(this,a,h,d);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(a){return Qn(this._data,a)},r.prototype.set=function(a,h,d){if(!Te(a))throw new TypeError("Array expected");if(a.length<this._size.length)throw new Ee(a.length,this._size.length,"<");var D,p,c,m=a.map(function(y){return y+1});l(this,m,d);var F=this._data;for(D=0,p=a.length-1;D<p;D++)c=a[D],be(c,F.length),F=F[c];return c=a[a.length-1],be(c,F.length),F[c]=h,this};function i(a,h){if(!Mr(h))throw new TypeError("Invalid index");var d=h.isScalar();if(d)return a.get(h.min());var D=h.size();if(D.length!==a._size.length)throw new Ee(D.length,a._size.length);for(var p=h.min(),c=h.max(),m=0,F=a._size.length;m<F;m++)be(p[m],a._size[m]),be(c[m],a._size[m]);var y=new r([]),E=n(a._data,h);return y._size=E.size,y._datatype=a._datatype,y._data=E.data,y}function n(a,h){var d=h.size().length-1,D=Array(d);return{data:p(a),size:D};function p(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=h.dimension(m);return D[m]=F.size()[0],m<d?F.map(y=>(be(y,c.length),p(c[y],m+1))).valueOf():F.map(y=>(be(y,c.length),c[y])).valueOf()}}function u(a,h,d,D){if(!h||h.isIndex!==!0)throw new TypeError("Invalid index");var p=h.size(),c=h.isScalar(),m;if(_e(d)?(m=d.size(),d=d.valueOf()):m=qe(d),c){if(m.length!==0)throw new TypeError("Scalar expected");a.set(h.min(),d,D)}else{if(!St(m,p))try{m.length===0?d=tn([d],p):d=tn(d,p),m=qe(d)}catch{}if(p.length<a._size.length)throw new Ee(p.length,a._size.length,"<");if(m.length<p.length){for(var F=0,y=0;p[F]===1&&m[F]===1;)F++;for(;p[F]===1;)y++,F++;d=Jn(d,p.length,y,m)}if(!St(p,m))throw new Ee(p,m,">");var E=h.max().map(function(b){return b+1});l(a,E,D),o(a._data,h,d)}return a}function o(a,h,d){var D=h.size().length-1;p(a,d);function p(c,m){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=h.dimension(F);F<D?y.forEach((E,b)=>{be(E,c.length),p(c[E],m[b[0]],F+1)}):y.forEach((E,b)=>{be(E,c.length),c[E]=m[b[0]]})}}r.prototype.resize=function(a,h,d){if(!Qt(a))throw new TypeError("Array or Matrix expected");var D=a.valueOf().map(c=>Array.isArray(c)&&c.length===1?c[0]:c),p=d?this.clone():this;return s(p,D,h)};function s(a,h,d){if(h.length===0){for(var D=a._data;Te(D);)D=D[0];return D}return a._size=h.slice(0),a._data=ur(a._data,a._size,d),a}r.prototype.reshape=function(a,h){var d=h?this.clone():this;d._data=Hn(d._data,a);var D=d._size.reduce((p,c)=>p*c);return d._size=Ir(a,D),d};function l(a,h,d){for(var D=a._size.slice(0),p=!1;D.length<h.length;)D.push(0),p=!0;for(var c=0,m=h.length;c<m;c++)h[c]>D[c]&&(D[c]=h[c],p=!0);p&&s(a,D,d)}r.prototype.clone=function(){var a=new r({data:Ne(this._data),size:Ne(this._size),datatype:this._datatype});return a},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(a){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=this,D=d._size.length-1;if(D<0)return d.clone();var p=or(a,d,"map",h),c=p.fn,m=d.create(void 0,d._datatype);if(m._size=d._size,h||p.isUnary)return m._data=g(d._data),m;if(D===0){for(var F=d.valueOf(),y=Array(F.length),E=0;E<F.length;E++)y[E]=c(F[E],[E],d);return m._data=y,m}var b=[];return m._data=w(d._data),m;function w(C){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=Array(C.length);if(B<D)for(var M=0;M<C.length;M++)b[B]=M,N[M]=w(C[M],B+1);else for(var T=0;T<C.length;T++)b[B]=T,N[T]=c(C[T],b.slice(),d);return N}function g(C){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=Array(C.length);if(B<D)for(var M=0;M<C.length;M++)N[M]=g(C[M],B+1);else for(var T=0;T<C.length;T++)N[T]=c(C[T]);return N}},r.prototype.forEach=function(a){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=this,D=d._size.length-1;if(D<0)return;var p=or(a,d,"map",h),c=p.fn;if(h||p.isUnary){E(d._data);return}if(D===0){for(var m=0;m<d._data.length;m++)c(d._data[m],[m],d);return}var F=[];y(d._data);function y(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(w<D)for(var g=0;g<b.length;g++)F[w]=g,y(b[g],w+1);else for(var C=0;C<b.length;C++)F[w]=C,c(b[C],F.slice(),d)}function E(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(w<D)for(var g=0;g<b.length;g++)E(b[g],w+1);else for(var C=0;C<b.length;C++)c(b[C])}},r.prototype[Symbol.iterator]=function*(){var a=this._size.length-1;if(!(a<0)){if(a===0){for(var h=0;h<this._data.length;h++)yield{value:this._data[h],index:[h]};return}for(var d=Array(a+1).fill(0),D=this._size.reduce((y,E)=>y*E,1),p=0;p<D;p++){for(var c=this._data,m=0;m<a;m++)c=c[d[m]];yield{value:c[d[a]],index:d.slice()};for(var F=a;F>=0&&(d[F]++,!(d[F]<this._size[F]));F--)d[F]=0}}},r.prototype.rows=function(){var a=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var d=this._data;for(var D of d)a.push(new r([D],this._datatype));return a},r.prototype.columns=function(){var a=this,h=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var D=this._data,p=function(F){var y=D.map(E=>[E[F]]);h.push(new r(y,a._datatype))},c=0;c<d[1];c++)p(c);return h},r.prototype.toArray=function(){return Ne(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(a){return xe(this._data,a)},r.prototype.toString=function(){return xe(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(a){if(a){if(Me(a)&&(a=a.toNumber()),!me(a)||!Fe(a))throw new TypeError("The parameter k must be an integer number")}else a=0;for(var h=a>0?a:0,d=a<0?-a:0,D=this._size[0],p=this._size[1],c=Math.min(D-d,p-h),m=[],F=0;F<c;F++)m[F]=this._data[F+d][F+h];return new r({data:m,size:[c],datatype:this._datatype})},r.diagonal=function(a,h,d,D){if(!Te(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(C){if(Me(C)&&(C=C.toNumber()),!me(C)||!Fe(C)||C<1)throw new Error("Size values must be positive integers");return C}),d){if(Me(d)&&(d=d.toNumber()),!me(d)||!Fe(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var p=d>0?d:0,c=d<0?-d:0,m=a[0],F=a[1],y=Math.min(m-c,F-p),E;if(Te(h)){if(h.length!==y)throw new Error("Invalid value array length");E=function(B){return h[B]}}else if(_e(h)){var b=h.size();if(b.length!==1||b[0]!==y)throw new Error("Invalid matrix length");E=function(B){return h.get([B])}}else E=function(){return h};D||(D=Me(E(0))?E(0).mul(0):0);var w=[];if(a.length>0){w=ur(w,a,D);for(var g=0;g<y;g++)w[g+c][g+p]=E(g)}return new r({data:w,size:[m,F]})},r.fromJSON=function(a){return new r(a)},r.prototype.swapRows=function(a,h){if(!me(a)||!Fe(a)||!me(h)||!Fe(h))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return be(a,this._size[0]),be(h,this._size[0]),r._swapRows(a,h,this._data),this},r._swapRows=function(a,h,d){var D=d[a];d[a]=d[h],d[h]=D};function f(a){return _e(a)?f(a.valueOf()):Te(a)?a.map(f):a}return r},{isClass:!0});function at(e,t,r){if(!r)return _e(e)?e.map(n=>t(n),!1,!0):rn(e,t,!0);var i=n=>n===0?n:t(n);return _e(e)?e.map(n=>i(n),!1,!0):rn(e,i,!0)}var ei="number",hr="number, number";function ti(e){return Math.abs(e)}ti.signature=ei;function ri(e,t){return e+t}ri.signature=hr;function ni(e,t){return e-t}ni.signature=hr;function ii(e,t){return e*t}ii.signature=hr;function ui(e){return-e}ui.signature=ei;function oi(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}oi.signature=hr;function Rt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Fe(t)||t<0||t>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(xn(e,t))}function Br(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||t.isNaN()?!1:!e.isFinite()||!t.isFinite()?e.eq(t):e.eq(t)?!0:e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),i))}var un="isZero",Ws=["typed","equalScalar"],Hs=oe(un,Ws,e=>{var{typed:t,equalScalar:r}=e;return t(un,{"number | BigNumber | Complex | Fraction":i=>r(i,0),bigint:i=>i===0n,Unit:t.referToSelf(i=>n=>t.find(i,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(i=>n=>at(n,i))})});function Gs(e,t,r,i){return xt(e.re,t.re,r,i)&&xt(e.im,t.im,r,i)}var Js=oe("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(i,n)=>{if(!i.equalBase(n))throw new Error("Cannot compare units with different base");return t.find(r,[i.valueType(),n.valueType()])(i.value,n.value)})}}),sr="equalScalar",Ys=["typed","config"],Xs=oe(sr,Ys,e=>{var{typed:t,config:r}=e,i=Js({typed:t});return t(sr,{"boolean, boolean":function(u,o){return u===o},"number, number":function(u,o){return xt(u,o,r.relTol,r.absTol)},"BigNumber, BigNumber":function(u,o){return u.eq(o)||Br(u,o,r.relTol,r.absTol)},"bigint, bigint":function(u,o){return u===o},"Fraction, Fraction":function(u,o){return u.equals(o)},"Complex, Complex":function(u,o){return Gs(u,o,r.relTol,r.absTol)}},i)});oe(sr,["typed","config"],e=>{var{typed:t,config:r}=e;return t(sr,{"number, number":function(n,u){return xt(n,u,r.relTol,r.absTol)}})});var Ks="SparseMatrix",Qs=["typed","equalScalar","Matrix"],ea=oe(Ks,Qs,e=>{var{typed:t,equalScalar:r,Matrix:i}=e;function n(c,m){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!rt(m))throw new Error("Invalid datatype: "+m);if(_e(c))u(this,c,m);else if(c&&Te(c.index)&&Te(c.ptr)&&Te(c.size))this._values=c.values,this._index=c.index,this._ptr=c.ptr,this._size=c.size,this._datatype=m||c.datatype;else if(Te(c))o(this,c,m);else{if(c)throw new TypeError("Unsupported type of data ("+dt(c)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function u(c,m,F){m.type==="SparseMatrix"?(c._values=m._values?Ne(m._values):void 0,c._index=Ne(m._index),c._ptr=Ne(m._ptr),c._size=Ne(m._size),c._datatype=F||m._datatype):o(c,m.valueOf(),F||m._datatype)}function o(c,m,F){c._values=[],c._index=[],c._ptr=[],c._datatype=F;var y=m.length,E=0,b=r,w=0;if(rt(F)&&(b=t.find(r,[F,F])||r,w=t.convert(0,F)),y>0){var g=0;do{c._ptr.push(c._index.length);for(var C=0;C<y;C++){var B=m[C];if(Te(B)){if(g===0&&E<B.length&&(E=B.length),g<B.length){var N=B[g];b(N,w)||(c._values.push(N),c._index.push(C))}}else g===0&&E<1&&(E=1),b(B,w)||(c._values.push(B),c._index.push(C))}g++}while(g<E)}c._ptr.push(c._index.length),c._size=[y,E]}n.prototype=new i,n.prototype.createSparseMatrix=function(c,m){return new n(c,m)},Object.defineProperty(n,"name",{value:"SparseMatrix"}),n.prototype.constructor=n,n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return Or(this._values,dt)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(c,m){return new n(c,m)},n.prototype.density=function(){var c=this._size[0],m=this._size[1];return c!==0&&m!==0?this._index.length/(c*m):0},n.prototype.subset=function(c,m,F){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,c);case 2:case 3:return l(this,c,m,F);default:throw new SyntaxError("Wrong number of arguments")}};function s(c,m){if(!Mr(m))throw new TypeError("Invalid index");var F=m.isScalar();if(F)return c.get(m.min());var y=m.size();if(y.length!==c._size.length)throw new Ee(y.length,c._size.length);var E,b,w,g,C=m.min(),B=m.max();for(E=0,b=c._size.length;E<b;E++)be(C[E],c._size[E]),be(B[E],c._size[E]);var N=c._values,M=c._index,T=c._ptr,j=m.dimension(0),Z=m.dimension(1),H=[],k=[];j.forEach(function(Y,ne){k[Y]=ne[0],H[Y]=!0});var U=N?[]:void 0,X=[],J=[];return Z.forEach(function(Y){for(J.push(X.length),w=T[Y],g=T[Y+1];w<g;w++)E=M[w],H[E]===!0&&(X.push(k[E]),U&&U.push(N[w]))}),J.push(X.length),new n({values:U,index:X,ptr:J,size:y,datatype:c._datatype})}function l(c,m,F,y){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var E=m.size(),b=m.isScalar(),w;if(_e(F)?(w=F.size(),F=F.toArray()):w=qe(F),b){if(w.length!==0)throw new TypeError("Scalar expected");c.set(m.min(),F,y)}else{if(E.length!==1&&E.length!==2)throw new Ee(E.length,c._size.length,"<");if(w.length<E.length){for(var g=0,C=0;E[g]===1&&w[g]===1;)g++;for(;E[g]===1;)C++,g++;F=Jn(F,E.length,C,w)}if(!St(E,w))throw new Ee(E,w,">");if(E.length===1){var B=m.dimension(0);B.forEach(function(T,j){be(T),c.set([T,0],F[j[0]],y)})}else{var N=m.dimension(0),M=m.dimension(1);N.forEach(function(T,j){be(T),M.forEach(function(Z,H){be(Z),c.set([T,Z],F[j[0]][H[0]],y)})})}}return c}n.prototype.get=function(c){if(!Te(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new Ee(c.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=c[0],F=c[1];be(m,this._size[0]),be(F,this._size[1]);var y=f(m,this._ptr[F],this._ptr[F+1],this._index);return y<this._ptr[F+1]&&this._index[y]===m?this._values[y]:0},n.prototype.set=function(c,m,F){if(!Te(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new Ee(c.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=c[0],E=c[1],b=this._size[0],w=this._size[1],g=r,C=0;rt(this._datatype)&&(g=t.find(r,[this._datatype,this._datatype])||r,C=t.convert(0,this._datatype)),(y>b-1||E>w-1)&&(d(this,Math.max(y+1,b),Math.max(E+1,w),F),b=this._size[0],w=this._size[1]),be(y,b),be(E,w);var B=f(y,this._ptr[E],this._ptr[E+1],this._index);return B<this._ptr[E+1]&&this._index[B]===y?g(m,C)?a(B,E,this._values,this._index,this._ptr):this._values[B]=m:g(m,C)||h(B,y,E,m,this._values,this._index,this._ptr),this};function f(c,m,F,y){if(F-m===0)return F;for(var E=m;E<F;E++)if(y[E]===c)return E;return m}function a(c,m,F,y,E){F.splice(c,1),y.splice(c,1);for(var b=m+1;b<E.length;b++)E[b]--}function h(c,m,F,y,E,b,w){E.splice(c,0,y),b.splice(c,0,m);for(var g=F+1;g<w.length;g++)w[g]++}n.prototype.resize=function(c,m,F){if(!Qt(c))throw new TypeError("Array or Matrix expected");var y=c.valueOf().map(b=>Array.isArray(b)&&b.length===1?b[0]:b);if(y.length!==2)throw new Error("Only two dimensions matrix are supported");y.forEach(function(b){if(!me(b)||!Fe(b)||b<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xe(y)+")")});var E=F?this.clone():this;return d(E,y[0],y[1],m)};function d(c,m,F,y){var E=y||0,b=r,w=0;rt(c._datatype)&&(b=t.find(r,[c._datatype,c._datatype])||r,w=t.convert(0,c._datatype),E=t.convert(E,c._datatype));var g=!b(E,w),C=c._size[0],B=c._size[1],N,M,T;if(F>B){for(M=B;M<F;M++)if(c._ptr[M]=c._values.length,g)for(N=0;N<C;N++)c._values.push(E),c._index.push(N);c._ptr[F]=c._values.length}else F<B&&(c._ptr.splice(F+1,B-F),c._values.splice(c._ptr[F],c._values.length),c._index.splice(c._ptr[F],c._index.length));if(B=F,m>C){if(g){var j=0;for(M=0;M<B;M++){c._ptr[M]=c._ptr[M]+j,T=c._ptr[M+1]+j;var Z=0;for(N=C;N<m;N++,Z++)c._values.splice(T+Z,0,E),c._index.splice(T+Z,0,N),j++}c._ptr[B]=c._values.length}}else if(m<C){var H=0;for(M=0;M<B;M++){c._ptr[M]=c._ptr[M]-H;var k=c._ptr[M],U=c._ptr[M+1]-H;for(T=k;T<U;T++)N=c._index[T],N>m-1&&(c._values.splice(T,1),c._index.splice(T,1),H++)}c._ptr[M]=c._values.length}return c._size[0]=m,c._size[1]=F,c}n.prototype.reshape=function(c,m){if(!Te(c))throw new TypeError("Array expected");if(c.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");c.forEach(function(Y){if(!me(Y)||!Fe(Y)||Y<=-2||Y===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+xe(c)+")")});var F=this._size[0]*this._size[1];c=Ir(c,F);var y=c[0]*c[1];if(F!==y)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var E=m?this.clone():this;if(this._size[0]===c[0]&&this._size[1]===c[1])return E;for(var b=[],w=0;w<E._ptr.length;w++)for(var g=0;g<E._ptr[w+1]-E._ptr[w];g++)b.push(w);for(var C=E._values.slice(),B=E._index.slice(),N=0;N<E._index.length;N++){var M=B[N],T=b[N],j=M*E._size[1]+T;b[N]=j%c[1],B[N]=Math.floor(j/c[1])}E._values.length=0,E._index.length=0,E._ptr.length=c[1]+1,E._size=c.slice();for(var Z=0;Z<E._ptr.length;Z++)E._ptr[Z]=0;for(var H=0;H<C.length;H++){var k=B[H],U=b[H],X=C[H],J=f(k,E._ptr[U],E._ptr[U+1],E._index);h(J,k,U,X,E._values,E._index,E._ptr)}return E},n.prototype.clone=function(){var c=new n({values:this._values?Ne(this._values):void 0,index:Ne(this._index),ptr:Ne(this._ptr),size:Ne(this._size),datatype:this._datatype});return c},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(c,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var F=this,y=this._size[0],E=this._size[1],b=or(c,F,"map"),w=function(C,B,N){return b.fn(C,[B,N],F)};return D(this,0,y-1,0,E-1,w,m)};function D(c,m,F,y,E,b,w){var g=[],C=[],B=[],N=r,M=0;rt(c._datatype)&&(N=t.find(r,[c._datatype,c._datatype])||r,M=t.convert(0,c._datatype));for(var T=function(fe,Ae,ge){var ve=b(fe,Ae,ge);N(ve,M)||(g.push(ve),C.push(Ae))},j=y;j<=E;j++){B.push(g.length);var Z=c._ptr[j],H=c._ptr[j+1];if(w)for(var k=Z;k<H;k++){var U=c._index[k];U>=m&&U<=F&&T(c._values[k],U-m,j-y)}else{for(var X={},J=Z;J<H;J++){var Y=c._index[J];X[Y]=c._values[J]}for(var ne=m;ne<=F;ne++){var ce=ne in X?X[ne]:0;T(ce,ne-m,j-y)}}}return B.push(g.length),new n({values:g,index:C,ptr:B,size:[F-m+1,E-y+1]})}n.prototype.forEach=function(c,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var F=this,y=this._size[0],E=this._size[1],b=or(c,F,"forEach"),w=0;w<E;w++){var g=this._ptr[w],C=this._ptr[w+1];if(m)for(var B=g;B<C;B++){var N=this._index[B];b.fn(this._values[B],[N,w],F)}else{for(var M={},T=g;T<C;T++){var j=this._index[T];M[j]=this._values[T]}for(var Z=0;Z<y;Z++){var H=Z in M?M[Z]:0;b.fn(H,[Z,w],F)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var c=this._size[1],m=0;m<c;m++)for(var F=this._ptr[m],y=this._ptr[m+1],E=F;E<y;E++){var b=this._index[E];yield{value:this._values[E],index:[b,m]}}},n.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)};function p(c,m,F,y,E){var b=y[0],w=y[1],g=[],C,B;for(C=0;C<b;C++)for(g[C]=[],B=0;B<w;B++)g[C][B]=0;for(B=0;B<w;B++)for(var N=F[B],M=F[B+1],T=N;T<M;T++)C=m[T],g[C][B]=c?E?Ne(c[T]):c[T]:1;return g}return n.prototype.format=function(c){for(var m=this._size[0],F=this._size[1],y=this.density(),E="Sparse Matrix ["+xe(m,c)+" x "+xe(F,c)+"] density: "+xe(y,c)+`
`,b=0;b<F;b++)for(var w=this._ptr[b],g=this._ptr[b+1],C=w;C<g;C++){var B=this._index[C];E+=`
    (`+xe(B,c)+", "+xe(b,c)+") ==> "+(this._values?xe(this._values[C],c):"X")}return E},n.prototype.toString=function(){return xe(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(c){if(c){if(Me(c)&&(c=c.toNumber()),!me(c)||!Fe(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var m=c>0?c:0,F=c<0?-c:0,y=this._size[0],E=this._size[1],b=Math.min(y-F,E-m),w=[],g=[],C=[];C[0]=0;for(var B=m;B<E&&w.length<b;B++)for(var N=this._ptr[B],M=this._ptr[B+1],T=N;T<M;T++){var j=this._index[T];if(j===B-m+F){w.push(this._values[T]),g[w.length-1]=j-F;break}}return C.push(w.length),new n({values:w,index:g,ptr:C,size:[b,1]})},n.fromJSON=function(c){return new n(c)},n.diagonal=function(c,m,F,y,E){if(!Te(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(Y){if(Me(Y)&&(Y=Y.toNumber()),!me(Y)||!Fe(Y)||Y<1)throw new Error("Size values must be positive integers");return Y}),F){if(Me(F)&&(F=F.toNumber()),!me(F)||!Fe(F))throw new TypeError("The parameter k must be an integer number")}else F=0;var b=r,w=0;rt(E)&&(b=t.find(r,[E,E])||r,w=t.convert(0,E));var g=F>0?F:0,C=F<0?-F:0,B=c[0],N=c[1],M=Math.min(B-C,N-g),T;if(Te(m)){if(m.length!==M)throw new Error("Invalid value array length");T=function(ne){return m[ne]}}else if(_e(m)){var j=m.size();if(j.length!==1||j[0]!==M)throw new Error("Invalid matrix length");T=function(ne){return m.get([ne])}}else T=function(){return m};for(var Z=[],H=[],k=[],U=0;U<N;U++){k.push(Z.length);var X=U-g;if(X>=0&&X<M){var J=T(X);b(J,w)||(H.push(X+C),Z.push(J))}}return k.push(Z.length),new n({values:Z,index:H,ptr:k,size:[B,N]})},n.prototype.swapRows=function(c,m){if(!me(c)||!Fe(c)||!me(m)||!Fe(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return be(c,this._size[0]),be(m,this._size[0]),n._swapRows(c,m,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(c,m,F,y,E){for(var b=y[c],w=y[c+1],g=b;g<w;g++)E(F[g],m[g])},n._swapRows=function(c,m,F,y,E,b){for(var w=0;w<F;w++){var g=b[w],C=b[w+1],B=f(c,g,C,E),N=f(m,g,C,E);if(B<C&&N<C&&E[B]===c&&E[N]===m){if(y){var M=y[B];y[B]=y[N],y[N]=M}continue}if(B<C&&E[B]===c&&(N>=C||E[N]!==m)){var T=y?y[B]:void 0;E.splice(N,0,m),y&&y.splice(N,0,T),E.splice(N<=B?B+1:B,1),y&&y.splice(N<=B?B+1:B,1);continue}if(N<C&&E[N]===m&&(B>=C||E[B]!==c)){var j=y?y[N]:void 0;E.splice(B,0,c),y&&y.splice(B,0,j),E.splice(B<=N?N+1:N,1),y&&y.splice(B<=N?N+1:N,1)}}},n},{isClass:!0}),ta="number",ra=["typed"];function na(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],i=t[2],n=t[3];return{input:e,radix:r,integerPart:i,fractionalPart:n}}else return null}function ia(e){for(var t=parseInt(e.integerPart,e.radix),r=0,i=0;i<e.fractionalPart.length;i++){var n=parseInt(e.fractionalPart[i],e.radix);r+=n/Math.pow(e.radix,i+1)}var u=t+r;if(isNaN(u))throw new SyntaxError('String "'+e.input+'" is not a valid number');return u}var ua=oe(ta,ra,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var u=na(n);if(u)return ia(u);var o=0,s=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(o=Number(s[2]),n=s[1]);var l=Number(n);if(isNaN(l))throw new SyntaxError('String "'+n+'" is not a valid number');if(s){if(l>2**o-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));l>=2**(o-1)&&(l=l-2**o)}return l},BigNumber:function(n){return n.toNumber()},bigint:function(n){return Number(n)},Fraction:function(n){return n.valueOf()},Unit:t.referToSelf(i=>n=>{var u=n.clone();return u.value=i(n.value),u}),null:function(n){return 0},"Unit, string | Unit":function(n,u){return n.toNumber(u)},"Array | Matrix":t.referToSelf(i=>n=>at(n,i))});return r.fromJSON=function(i){return parseFloat(i.value)},r}),oa="bignumber",sa=["typed","BigNumber"],aa=oe(oa,sa,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(n){return new r(n+"")},string:function(n){var u=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var o=u[2],s=r(u[1]),l=new r(2).pow(Number(o));if(s.gt(l.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var f=new r(2).pow(Number(o)-1);return s.gte(f)?s.sub(l):s}return new r(n)},BigNumber:function(n){return n},bigint:function(n){return new r(n.toString())},Unit:t.referToSelf(i=>n=>{var u=n.clone();return u.value=i(n.value),u}),Fraction:function(n){return new r(String(n.n)).div(String(n.d)).times(String(n.s))},null:function(n){return new r(0)},"Array | Matrix":t.referToSelf(i=>n=>at(n,i))})}),ca="fraction",fa=["typed","Fraction"],la=oe(ca,fa,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new r(n)},string:function(n){return new r(n)},"number, number":function(n,u){return new r(n,u)},"bigint, bigint":function(n,u){return new r(n,u)},null:function(n){return new r(0)},BigNumber:function(n){return new r(n.toString())},bigint:function(n){return new r(n.toString())},Fraction:function(n){return n},Unit:t.referToSelf(i=>n=>{var u=n.clone();return u.value=i(n.value),u}),Object:function(n){return new r(n)},"Array | Matrix":t.referToSelf(i=>n=>at(n,i))})}),on="matrix",ha=["typed","Matrix","DenseMatrix","SparseMatrix"],da=oe(on,ha,e=>{var{typed:t,Matrix:r,DenseMatrix:i,SparseMatrix:n}=e;return t(on,{"":function(){return u([])},string:function(s){return u([],s)},"string, string":function(s,l){return u([],s,l)},Array:function(s){return u(s)},Matrix:function(s){return u(s,s.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(o,s,l){if(s==="dense"||s==="default"||s===void 0)return new i(o,l);if(s==="sparse")return new n(o,l);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),sn="unaryMinus",Da=["typed"],pa=oe(sn,Da,e=>{var{typed:t}=e;return t(sn,{number:ui,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:t.referToSelf(r=>i=>{var n=i.clone();return n.value=t.find(r,n.valueType())(i.value),n}),"Array | Matrix":t.referToSelf(r=>i=>at(i,r,!0))})}),an="abs",ma=["typed"],ga=oe(an,ma,e=>{var{typed:t}=e;return t(an,{number:ti,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":t.referToSelf(r=>i=>at(i,r,!0))})}),cn="addScalar",va=["typed"],wa=oe(cn,va,e=>{var{typed:t}=e;return t(cn,{"number, number":ri,"Complex, Complex":function(i,n){return i.add(n)},"BigNumber, BigNumber":function(i,n){return i.plus(n)},"bigint, bigint":function(i,n){return i+n},"Fraction, Fraction":function(i,n){return i.add(n)},"Unit, Unit":t.referToSelf(r=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var u=i.clone();return u.value=t.find(r,[u.valueType(),n.valueType()])(u.value,n.value),u.fixPrefix=!1,u})})}),fn="subtractScalar",Fa=["typed"],Ea=oe(fn,Fa,e=>{var{typed:t}=e;return t(fn,{"number, number":ni,"Complex, Complex":function(i,n){return i.sub(n)},"BigNumber, BigNumber":function(i,n){return i.minus(n)},"bigint, bigint":function(i,n){return i-n},"Fraction, Fraction":function(i,n){return i.sub(n)},"Unit, Unit":t.referToSelf(r=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var u=i.clone();return u.value=t.find(r,[u.valueType(),n.valueType()])(u.value,n.value),u.fixPrefix=!1,u})})}),Ca="matAlgo11xS0s",ya=["typed","equalScalar"],si=oe(Ca,ya,e=>{var{typed:t,equalScalar:r}=e;return function(n,u,o,s){var l=n._values,f=n._index,a=n._ptr,h=n._size,d=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=h[0],p=h[1],c,m=r,F=0,y=o;typeof d=="string"&&(c=d,m=t.find(r,[c,c]),F=t.convert(0,c),u=t.convert(u,c),y=t.find(o,[c,c]));for(var E=[],b=[],w=[],g=0;g<p;g++){w[g]=b.length;for(var C=a[g],B=a[g+1],N=C;N<B;N++){var M=f[N],T=s?y(u,l[N]):y(l[N],u);m(T,F)||(b.push(M),E.push(T))}}return w[p]=b.length,n.createSparseMatrix({values:E,index:b,ptr:w,size:[D,p],datatype:c})}}),Aa="matAlgo12xSfs",ba=["typed","DenseMatrix"],Ba=oe(Aa,ba,e=>{var{typed:t,DenseMatrix:r}=e;return function(n,u,o,s){var l=n._values,f=n._index,a=n._ptr,h=n._size,d=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=h[0],p=h[1],c,m=o;typeof d=="string"&&(c=d,u=t.convert(u,c),m=t.find(o,[c,c]));for(var F=[],y=[],E=[],b=0;b<p;b++){for(var w=b+1,g=a[b],C=a[b+1],B=g;B<C;B++){var N=f[B];y[N]=l[B],E[N]=w}for(var M=0;M<D;M++)b===0&&(F[M]=[]),E[M]===w?F[M][b]=s?m(u,y[M]):m(y[M],u):F[M][b]=s?m(u,0):m(0,u)}return new r({data:F,size:[D,p],datatype:c})}}),Na="matAlgo14xDs",_a=["typed"],ai=oe(Na,_a,e=>{var{typed:t}=e;return function(n,u,o,s){var l=n._data,f=n._size,a=n._datatype,h,d=o;typeof a=="string"&&(h=a,u=t.convert(u,h),d=t.find(o,[h,h]));var D=f.length>0?r(d,0,f,f[0],l,u,s):[];return n.createDenseMatrix({data:D,size:Ne(f),datatype:h})};function r(i,n,u,o,s,l,f){var a=[];if(n===u.length-1)for(var h=0;h<o;h++)a[h]=f?i(l,s[h]):i(s[h],l);else for(var d=0;d<o;d++)a[d]=r(i,n+1,u,u[n+1],s[d],l,f);return a}}),Ma="multiplyScalar",Sa=["typed"],xa=oe(Ma,Sa,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":ii,"Complex, Complex":function(i,n){return i.mul(n)},"BigNumber, BigNumber":function(i,n){return i.times(n)},"bigint, bigint":function(i,n){return i*n},"Fraction, Fraction":function(i,n){return i.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(r,i)=>i.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,i)=>r.multiply(i)})}),ln="multiply",Ta=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Ia=oe(ln,Ta,e=>{var{typed:t,matrix:r,addScalar:i,multiplyScalar:n,equalScalar:u,dot:o}=e,s=si({typed:t,equalScalar:u}),l=ai({typed:t});function f(w,g){switch(w.length){case 1:switch(g.length){case 1:if(w[0]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(w[0]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+w[0]+") must match Matrix rows ("+g[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+g.length+" dimensions)")}break;case 2:switch(g.length){case 1:if(w[1]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+w[1]+") must match Vector length ("+g[0]+")");break;case 2:if(w[1]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+w[1]+") must match Matrix B rows ("+g[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+g.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+w.length+" dimensions)")}}function a(w,g,C){if(C===0)throw new Error("Cannot multiply two empty vectors");return o(w,g)}function h(w,g){if(g.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return d(w,g)}function d(w,g){var C=w._data,B=w._size,N=w._datatype||w.getDataType(),M=g._data,T=g._size,j=g._datatype||g.getDataType(),Z=B[0],H=T[1],k,U=i,X=n;N&&j&&N===j&&typeof N=="string"&&N!=="mixed"&&(k=N,U=t.find(i,[k,k]),X=t.find(n,[k,k]));for(var J=[],Y=0;Y<H;Y++){for(var ne=X(C[0],M[0][Y]),ce=1;ce<Z;ce++)ne=U(ne,X(C[ce],M[ce][Y]));J[Y]=ne}return w.createDenseMatrix({data:J,size:[H],datatype:N===w._datatype&&j===g._datatype?k:void 0})}var D=t("_multiplyMatrixVector",{"DenseMatrix, any":c,"SparseMatrix, any":y}),p=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":F,"SparseMatrix, DenseMatrix":E,"SparseMatrix, SparseMatrix":b});function c(w,g){var C=w._data,B=w._size,N=w._datatype||w.getDataType(),M=g._data,T=g._datatype||g.getDataType(),j=B[0],Z=B[1],H,k=i,U=n;N&&T&&N===T&&typeof N=="string"&&N!=="mixed"&&(H=N,k=t.find(i,[H,H]),U=t.find(n,[H,H]));for(var X=[],J=0;J<j;J++){for(var Y=C[J],ne=U(Y[0],M[0]),ce=1;ce<Z;ce++)ne=k(ne,U(Y[ce],M[ce]));X[J]=ne}return w.createDenseMatrix({data:X,size:[j],datatype:N===w._datatype&&T===g._datatype?H:void 0})}function m(w,g){var C=w._data,B=w._size,N=w._datatype||w.getDataType(),M=g._data,T=g._size,j=g._datatype||g.getDataType(),Z=B[0],H=B[1],k=T[1],U,X=i,J=n;N&&j&&N===j&&typeof N=="string"&&N!=="mixed"&&N!=="mixed"&&(U=N,X=t.find(i,[U,U]),J=t.find(n,[U,U]));for(var Y=[],ne=0;ne<Z;ne++){var ce=C[ne];Y[ne]=[];for(var se=0;se<k;se++){for(var fe=J(ce[0],M[0][se]),Ae=1;Ae<H;Ae++)fe=X(fe,J(ce[Ae],M[Ae][se]));Y[ne][se]=fe}}return w.createDenseMatrix({data:Y,size:[Z,k],datatype:N===w._datatype&&j===g._datatype?U:void 0})}function F(w,g){var C=w._data,B=w._size,N=w._datatype||w.getDataType(),M=g._values,T=g._index,j=g._ptr,Z=g._size,H=g._datatype||g._data===void 0?g._datatype:g.getDataType();if(!M)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var k=B[0],U=Z[1],X,J=i,Y=n,ne=u,ce=0;N&&H&&N===H&&typeof N=="string"&&N!=="mixed"&&(X=N,J=t.find(i,[X,X]),Y=t.find(n,[X,X]),ne=t.find(u,[X,X]),ce=t.convert(0,X));for(var se=[],fe=[],Ae=[],ge=g.createSparseMatrix({values:se,index:fe,ptr:Ae,size:[k,U],datatype:N===w._datatype&&H===g._datatype?X:void 0}),ve=0;ve<U;ve++){Ae[ve]=fe.length;var de=j[ve],ee=j[ve+1];if(ee>de)for(var re=0,ue=0;ue<k;ue++){for(var ze=ue+1,Ce=void 0,ae=de;ae<ee;ae++){var Be=T[ae];re!==ze?(Ce=Y(C[ue][Be],M[ae]),re=ze):Ce=J(Ce,Y(C[ue][Be],M[ae]))}re===ze&&!ne(Ce,ce)&&(fe.push(ue),se.push(Ce))}}return Ae[U]=fe.length,ge}function y(w,g){var C=w._values,B=w._index,N=w._ptr,M=w._datatype||w._data===void 0?w._datatype:w.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var T=g._data,j=g._datatype||g.getDataType(),Z=w._size[0],H=g._size[0],k=[],U=[],X=[],J,Y=i,ne=n,ce=u,se=0;M&&j&&M===j&&typeof M=="string"&&M!=="mixed"&&(J=M,Y=t.find(i,[J,J]),ne=t.find(n,[J,J]),ce=t.find(u,[J,J]),se=t.convert(0,J));var fe=[],Ae=[];X[0]=0;for(var ge=0;ge<H;ge++){var ve=T[ge];if(!ce(ve,se))for(var de=N[ge],ee=N[ge+1],re=de;re<ee;re++){var ue=B[re];Ae[ue]?fe[ue]=Y(fe[ue],ne(ve,C[re])):(Ae[ue]=!0,U.push(ue),fe[ue]=ne(ve,C[re]))}}for(var ze=U.length,Ce=0;Ce<ze;Ce++){var ae=U[Ce];k[Ce]=fe[ae]}return X[1]=U.length,w.createSparseMatrix({values:k,index:U,ptr:X,size:[Z,1],datatype:M===w._datatype&&j===g._datatype?J:void 0})}function E(w,g){var C=w._values,B=w._index,N=w._ptr,M=w._datatype||w._data===void 0?w._datatype:w.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var T=g._data,j=g._datatype||g.getDataType(),Z=w._size[0],H=g._size[0],k=g._size[1],U,X=i,J=n,Y=u,ne=0;M&&j&&M===j&&typeof M=="string"&&M!=="mixed"&&(U=M,X=t.find(i,[U,U]),J=t.find(n,[U,U]),Y=t.find(u,[U,U]),ne=t.convert(0,U));for(var ce=[],se=[],fe=[],Ae=w.createSparseMatrix({values:ce,index:se,ptr:fe,size:[Z,k],datatype:M===w._datatype&&j===g._datatype?U:void 0}),ge=[],ve=[],de=0;de<k;de++){fe[de]=se.length;for(var ee=de+1,re=0;re<H;re++){var ue=T[re][de];if(!Y(ue,ne))for(var ze=N[re],Ce=N[re+1],ae=ze;ae<Ce;ae++){var Be=B[ae];ve[Be]!==ee?(ve[Be]=ee,se.push(Be),ge[Be]=J(ue,C[ae])):ge[Be]=X(ge[Be],J(ue,C[ae]))}}for(var Ve=fe[de],Ge=se.length,ut=Ve;ut<Ge;ut++){var Ft=se[ut];ce[ut]=ge[Ft]}}return fe[k]=se.length,Ae}function b(w,g){var C=w._values,B=w._index,N=w._ptr,M=w._datatype||w._data===void 0?w._datatype:w.getDataType(),T=g._values,j=g._index,Z=g._ptr,H=g._datatype||g._data===void 0?g._datatype:g.getDataType(),k=w._size[0],U=g._size[1],X=C&&T,J,Y=i,ne=n;M&&H&&M===H&&typeof M=="string"&&M!=="mixed"&&(J=M,Y=t.find(i,[J,J]),ne=t.find(n,[J,J]));for(var ce=X?[]:void 0,se=[],fe=[],Ae=w.createSparseMatrix({values:ce,index:se,ptr:fe,size:[k,U],datatype:M===w._datatype&&H===g._datatype?J:void 0}),ge=X?[]:void 0,ve=[],de,ee,re,ue,ze,Ce,ae,Be,Ve=0;Ve<U;Ve++){fe[Ve]=se.length;var Ge=Ve+1;for(ze=Z[Ve],Ce=Z[Ve+1],ue=ze;ue<Ce;ue++)if(Be=j[ue],X)for(ee=N[Be],re=N[Be+1],de=ee;de<re;de++)ae=B[de],ve[ae]!==Ge?(ve[ae]=Ge,se.push(ae),ge[ae]=ne(T[ue],C[de])):ge[ae]=Y(ge[ae],ne(T[ue],C[de]));else for(ee=N[Be],re=N[Be+1],de=ee;de<re;de++)ae=B[de],ve[ae]!==Ge&&(ve[ae]=Ge,se.push(ae));if(X)for(var ut=fe[Ve],Ft=se.length,Et=ut;Et<Ft;Et++){var pr=se[Et];ce[Et]=ge[pr]}}return fe[U]=se.length,Ae}return t(ln,n,{"Array, Array":t.referTo("Matrix, Matrix",w=>(g,C)=>{f(qe(g),qe(C));var B=w(r(g),r(C));return _e(B)?B.valueOf():B}),"Matrix, Matrix":function(g,C){var B=g.size(),N=C.size();return f(B,N),B.length===1?N.length===1?a(g,C,B[0]):h(g,C):N.length===1?D(g,C):p(g,C)},"Matrix, Array":t.referTo("Matrix,Matrix",w=>(g,C)=>w(g,r(C))),"Array, Matrix":t.referToSelf(w=>(g,C)=>w(r(g,C.storage()),C)),"SparseMatrix, any":function(g,C){return s(g,C,n,!1)},"DenseMatrix, any":function(g,C){return l(g,C,n,!1)},"any, SparseMatrix":function(g,C){return s(C,g,n,!0)},"any, DenseMatrix":function(g,C){return l(C,g,n,!0)},"Array, any":function(g,C){return l(r(g),C,n,!1).valueOf()},"any, Array":function(g,C){return l(r(C),g,n,!0).valueOf()},"any, any":n,"any, any, ...any":t.referToSelf(w=>(g,C,B)=>{for(var N=w(g,C),M=0;M<B.length;M++)N=w(N,B[M]);return N})})}),hn="conj",Oa=["typed"],Pa=oe(hn,Oa,e=>{var{typed:t}=e;return t(hn,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),Unit:t.referToSelf(r=>i=>new i.constructor(r(i.toNumeric()),i.formatUnits())),"Array | Matrix":t.referToSelf(r=>i=>at(i,r))})}),dn="identity",za=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Ra=oe(dn,za,e=>{var{typed:t,config:r,matrix:i,BigNumber:n,DenseMatrix:u,SparseMatrix:o}=e;return t(dn,{"":function(){return r.matrix==="Matrix"?i([]):[]},string:function(a){return i(a)},"number | BigNumber":function(a){return l(a,a,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(a,h){return l(a,a,h)},"number | BigNumber, number | BigNumber":function(a,h){return l(a,h,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(a,h,d){return l(a,h,d)},Array:function(a){return s(a)},"Array, string":function(a,h){return s(a,h)},Matrix:function(a){return s(a.valueOf(),a.storage())},"Matrix, string":function(a,h){return s(a.valueOf(),h)}});function s(f,a){switch(f.length){case 0:return a?i(a):[];case 1:return l(f[0],f[0],a);case 2:return l(f[0],f[1],a);default:throw new Error("Vector containing two values expected")}}function l(f,a,h){var d=Me(f)||Me(a)?n:null;if(Me(f)&&(f=f.toNumber()),Me(a)&&(a=a.toNumber()),!Fe(f)||f<1)throw new Error("Parameters in function identity must be positive integers");if(!Fe(a)||a<1)throw new Error("Parameters in function identity must be positive integers");var D=d?new n(1):1,p=d?new d(0):0,c=[f,a];if(h){if(h==="sparse")return o.diagonal(c,D,0,p);if(h==="dense")return u.diagonal(c,D,0,p);throw new TypeError('Unknown matrix type "'.concat(h,'"'))}for(var m=ur([],c,p),F=f<a?f:a,y=0;y<F;y++)m[y][y]=D;return m}});function $a(){throw new Error('No "bignumber" implementation available')}function Ua(){throw new Error('No "fraction" implementation available')}function La(){throw new Error('No "matrix" implementation available')}var Dn="size",ja=["typed","config","?matrix"],qa=oe(Dn,ja,e=>{var{typed:t,config:r,matrix:i}=e;return t(Dn,{Matrix:function(u){return u.create(u.size(),"number")},Array:qe,string:function(u){return r.matrix==="Array"?[u.length]:i([u.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(u){return r.matrix==="Array"?[]:i?i([],"dense","number"):La()}})}),pn="zeros",Va=["typed","config","matrix","BigNumber"],ka=oe(pn,Va,e=>{var{typed:t,config:r,matrix:i,BigNumber:n}=e;return t(pn,{"":function(){return r.matrix==="Array"?u([]):u([],"default")},"...number | BigNumber | string":function(f){var a=f[f.length-1];if(typeof a=="string"){var h=f.pop();return u(f,h)}else return r.matrix==="Array"?u(f):u(f,"default")},Array:u,Matrix:function(f){var a=f.storage();return u(f.valueOf(),a)},"Array | Matrix, string":function(f,a){return u(f.valueOf(),a)}});function u(l,f){var a=o(l),h=a?new n(0):0;if(s(l),f){var d=i(f);return l.length>0?d.resize(l,h):d}else{var D=[];return l.length>0?ur(D,l,h):D}}function o(l){var f=!1;return l.forEach(function(a,h,d){Me(a)&&(f=!0,d[h]=a.toNumber())}),f}function s(l){l.forEach(function(f){if(typeof f!="number"||!Fe(f)||f<0)throw new Error("Parameters in function zeros must be positive integers")})}}),Za="numeric",Wa=["number","?bignumber","?fraction"],Ha=oe(Za,Wa,e=>{var{number:t,bignumber:r,fraction:i}=e,n={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:o=>t(o),BigNumber:r?o=>r(o):$a,bigint:o=>BigInt(o),Fraction:i?o=>i(o):Ua};return function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",f=arguments.length>2?arguments[2]:void 0;if(f!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var a=dt(s);if(!(a in n))throw new TypeError("Cannot convert "+s+' of type "'+a+'"; valid input types are '+Object.keys(n).join(", "));if(!(l in u))throw new TypeError("Cannot convert "+s+' to type "'+l+'"; valid output types are '+Object.keys(u).join(", "));return l===a?s:u[l](s)}}),mn="divideScalar",Ga=["typed","numeric"],Ja=oe(mn,Ga,e=>{var{typed:t,numeric:r}=e;return t(mn,{"number, number":function(n,u){return n/u},"Complex, Complex":function(n,u){return n.div(u)},"BigNumber, BigNumber":function(n,u){return n.div(u)},"bigint, bigint":function(n,u){return n/u},"Fraction, Fraction":function(n,u){return n.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(i,n)=>i.divide(n),"number | Fraction | Complex | BigNumber, Unit":(i,n)=>n.divideInto(i)})}),gn="pow",Ya=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],Xa=oe(gn,Ya,e=>{var{typed:t,config:r,identity:i,multiply:n,matrix:u,inv:o,number:s,fraction:l,Complex:f}=e;return t(gn,{"number, number":a,"Complex, Complex":function(p,c){return p.pow(c)},"BigNumber, BigNumber":function(p,c){return c.isInteger()||p>=0||r.predictable?p.pow(c):new f(p.toNumber(),0).pow(c.toNumber(),0)},"bigint, bigint":(D,p)=>D**p,"Fraction, Fraction":function(p,c){var m=p.pow(c);if(m!=null)return m;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return a(p.valueOf(),c.valueOf())},"Array, number":h,"Array, BigNumber":function(p,c){return h(p,c.toNumber())},"Matrix, number":d,"Matrix, BigNumber":function(p,c){return d(p,c.toNumber())},"Unit, number | BigNumber":function(p,c){return p.pow(c)}});function a(D,p){if(r.predictable&&!Fe(p)&&D<0)try{var c=l(p),m=s(c);if((p===m||Math.abs((p-m)/p)<1e-14)&&c.d%2n===1n)return(c.n%2n===0n?1:-1)*Math.pow(-D,p)}catch{}return r.predictable&&(D<-1&&p===1/0||D>-1&&D<0&&p===-1/0)?NaN:Fe(p)||D>=0||r.predictable?oi(D,p):D*D<1&&p===1/0||D*D>1&&p===-1/0?0:new f(D,0).pow(p,0)}function h(D,p){if(!Fe(p))throw new TypeError("For A^b, b must be an integer (value is "+p+")");var c=qe(D);if(c.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+c.length+" dimensions)");if(c[0]!==c[1])throw new Error("For A^b, A must be square (size is "+c[0]+"x"+c[1]+")");if(p<0)try{return h(o(D),-p)}catch(y){throw y.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+p+")"):y}for(var m=i(c[0]).valueOf(),F=D;p>=1;)(p&1)===1&&(m=n(F,m)),p>>=1,F=n(F,F);return m}function d(D,p){return u(h(D.valueOf(),p))}}),Bt="Number of decimals in function round must be an integer",vn="round",Ka=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],Qa=oe(vn,Ka,e=>{var{typed:t,config:r,matrix:i,equalScalar:n,zeros:u,BigNumber:o,DenseMatrix:s}=e,l=si({typed:t,equalScalar:n}),f=Ba({typed:t,DenseMatrix:s}),a=ai({typed:t});function h(d){return Math.abs(Lt(d).exponent)}return t(vn,{number:function(D){var p=Rt(D,h(r.relTol)),c=xt(D,p,r.relTol,r.absTol)?p:D;return Rt(c)},"number, number":function(D,p){var c=h(r.relTol);if(p>=c)return Rt(D,p);var m=Rt(D,c),F=xt(D,m,r.relTol,r.absTol)?m:D;return Rt(F,p)},"number, BigNumber":function(D,p){if(!p.isInteger())throw new TypeError(Bt);return new o(D).toDecimalPlaces(p.toNumber())},Complex:function(D){return D.round()},"Complex, number":function(D,p){if(p%1)throw new TypeError(Bt);return D.round(p)},"Complex, BigNumber":function(D,p){if(!p.isInteger())throw new TypeError(Bt);var c=p.toNumber();return D.round(c)},BigNumber:function(D){var p=new o(D).toDecimalPlaces(h(r.relTol)),c=Br(D,p,r.relTol,r.absTol)?p:D;return c.toDecimalPlaces(0)},"BigNumber, BigNumber":function(D,p){if(!p.isInteger())throw new TypeError(Bt);var c=h(r.relTol);if(p>=c)return D.toDecimalPlaces(p.toNumber());var m=D.toDecimalPlaces(c),F=Br(D,m,r.relTol,r.absTol)?m:D;return F.toDecimalPlaces(p.toNumber())},bigint:d=>d,"bigint, number":(d,D)=>d,"bigint, BigNumber":(d,D)=>d,Fraction:function(D){return D.round()},"Fraction, number":function(D,p){if(p%1)throw new TypeError(Bt);return D.round(p)},"Fraction, BigNumber":function(D,p){if(!p.isInteger())throw new TypeError(Bt);return D.round(p.toNumber())},"Unit, number, Unit":t.referToSelf(d=>function(D,p,c){var m=D.toNumeric(c);return c.multiply(d(m,p))}),"Unit, BigNumber, Unit":t.referToSelf(d=>(D,p,c)=>d(D,p.toNumber(),c)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(d=>(D,p,c)=>at(D,m=>d(m,p,c),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(d=>(D,p)=>d(D,0,p)),"Array | Matrix":t.referToSelf(d=>D=>at(D,d,!0)),"SparseMatrix, number | BigNumber":t.referToSelf(d=>(D,p)=>l(D,p,d,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(d=>(D,p)=>a(D,p,d,!1)),"Array, number | BigNumber":t.referToSelf(d=>(D,p)=>a(i(D),p,d,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":t.referToSelf(d=>(D,p)=>n(D,0)?u(p.size(),p.storage()):f(p,D,d,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":t.referToSelf(d=>(D,p)=>n(D,0)?u(p.size(),p.storage()):a(p,D,d,!0)),"number | Complex | BigNumber | Fraction, Array":t.referToSelf(d=>(D,p)=>a(i(p),D,d,!0).valueOf())})}),wn="dot",ec=["typed","addScalar","multiplyScalar","conj","size"],tc=oe(wn,ec,e=>{var{typed:t,addScalar:r,multiplyScalar:i,conj:n,size:u}=e;return t(wn,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":l});function o(a,h){var d=f(a),D=f(h),p,c;if(d.length===1)p=d[0];else if(d.length===2&&d[1]===1)p=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(D.length===1)c=D[0];else if(D.length===2&&D[1]===1)c=D[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+D.join(", ")+")");if(p!==c)throw new RangeError("Vectors must have equal length ("+p+" != "+c+")");if(p===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return p}function s(a,h){var d=o(a,h),D=_e(a)?a._data:a,p=_e(a)?a._datatype||a.getDataType():void 0,c=_e(h)?h._data:h,m=_e(h)?h._datatype||h.getDataType():void 0,F=f(a).length===2,y=f(h).length===2,E=r,b=i;if(p&&m&&p===m&&typeof p=="string"&&p!=="mixed"){var w=p;E=t.find(r,[w,w]),b=t.find(i,[w,w])}if(!F&&!y){for(var g=b(n(D[0]),c[0]),C=1;C<d;C++)g=E(g,b(n(D[C]),c[C]));return g}if(!F&&y){for(var B=b(n(D[0]),c[0][0]),N=1;N<d;N++)B=E(B,b(n(D[N]),c[N][0]));return B}if(F&&!y){for(var M=b(n(D[0][0]),c[0]),T=1;T<d;T++)M=E(M,b(n(D[T][0]),c[T]));return M}if(F&&y){for(var j=b(n(D[0][0]),c[0][0]),Z=1;Z<d;Z++)j=E(j,b(n(D[Z][0]),c[Z][0]));return j}}function l(a,h){o(a,h);for(var d=a._index,D=a._values,p=h._index,c=h._values,m=0,F=r,y=i,E=0,b=0;E<d.length&&b<p.length;){var w=d[E],g=p[b];if(w<g){E++;continue}if(w>g){b++;continue}w===g&&(m=F(m,y(D[E],c[b])),E++,b++)}return m}function f(a){return _e(a)?a.size():u(a)}}),Fn="det",rc=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],nc=oe(Fn,rc,e=>{var{typed:t,matrix:r,subtractScalar:i,multiply:n,divideScalar:u,isZero:o,unaryMinus:s}=e;return t(Fn,{any:function(a){return Ne(a)},"Array | Matrix":function(a){var h;switch(_e(a)?h=a.size():Array.isArray(a)?(a=r(a),h=a.size()):h=[],h.length){case 0:return Ne(a);case 1:if(h[0]===1)return Ne(a.valueOf()[0]);if(h[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+xe(h)+")");case 2:{var d=h[0],D=h[1];if(d===D)return l(a.clone().valueOf(),d);if(D===0)return 1;throw new RangeError("Matrix must be square (size: "+xe(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+xe(h)+")")}}});function l(f,a,h){if(a===1)return Ne(f[0][0]);if(a===2)return i(n(f[0][0],f[1][1]),n(f[1][0],f[0][1]));for(var d=!1,D=new Array(a).fill(0).map((C,B)=>B),p=0;p<a;p++){var c=D[p];if(o(f[c][p])){var m=void 0;for(m=p+1;m<a;m++)if(!o(f[D[m]][p])){c=D[m],D[m]=D[p],D[p]=c,d=!d;break}if(m===a)return f[c][p]}for(var F=f[c][p],y=p===0?1:f[D[p-1]][p-1],E=p+1;E<a;E++)for(var b=D[E],w=p+1;w<a;w++)f[b][w]=u(i(n(f[b][w],F),n(f[b][p],f[c][w])),y)}var g=f[D[a-1]][a-1];return d?s(g):g}}),En="inv",ic=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],uc=oe(En,ic,e=>{var{typed:t,matrix:r,divideScalar:i,addScalar:n,multiply:u,unaryMinus:o,det:s,identity:l,abs:f}=e;return t(En,{"Array | Matrix":function(d){var D=_e(d)?d.size():qe(d);switch(D.length){case 1:if(D[0]===1)return _e(d)?r([i(1,d.valueOf()[0])]):[i(1,d[0])];throw new RangeError("Matrix must be square (size: "+xe(D)+")");case 2:{var p=D[0],c=D[1];if(p===c)return _e(d)?r(a(d.valueOf(),p,c),d.storage()):a(d,p,c);throw new RangeError("Matrix must be square (size: "+xe(D)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+xe(D)+")")}},any:function(d){return i(1,d)}});function a(h,d,D){var p,c,m,F,y;if(d===1){if(F=h[0][0],F===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(1,F)]]}else if(d===2){var E=s(h);if(E===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(h[1][1],E),i(o(h[0][1]),E)],[i(o(h[1][0]),E),i(h[0][0],E)]]}else{var b=h.concat();for(p=0;p<d;p++)b[p]=b[p].concat();for(var w=l(d).valueOf(),g=0;g<D;g++){var C=f(b[g][g]),B=g;for(p=g+1;p<d;)f(b[p][g])>C&&(C=f(b[p][g]),B=p),p++;if(C===0)throw Error("Cannot calculate inverse, determinant is zero");p=B,p!==g&&(y=b[g],b[g]=b[p],b[p]=y,y=w[g],w[g]=w[p],w[p]=y);var N=b[g],M=w[g];for(p=0;p<d;p++){var T=b[p],j=w[p];if(p!==g){if(T[g]!==0){for(m=i(o(T[g]),N[g]),c=g;c<D;c++)T[c]=n(T[c],u(m,N[c]));for(c=0;c<D;c++)j[c]=n(j[c],u(m,M[c]))}}else{for(m=N[g],c=g;c<D;c++)T[c]=i(T[c],m);for(c=0;c<D;c++)j[c]=i(j[c],m)}}}return w}}}),jt=ls({config:pt}),ci=ms({}),fi=As({}),Pr=Ns({}),dr=Zs({Matrix:Pr}),ye=Do({BigNumber:jt,Complex:ci,DenseMatrix:dr,Fraction:fi}),oc=ga({typed:ye}),zr=wa({typed:ye}),sc=Pa({typed:ye}),Dr=Xs({config:pt,typed:ye}),ac=Hs({equalScalar:Dr,typed:ye}),li=xa({typed:ye}),hi=ua({typed:ye}),di=ea({Matrix:Pr,equalScalar:Dr,typed:ye}),cc=Ea({typed:ye}),fc=aa({BigNumber:jt,typed:ye}),gt=da({DenseMatrix:dr,Matrix:Pr,SparseMatrix:di,typed:ye}),lc=ka({BigNumber:jt,config:pt,matrix:gt,typed:ye}),Di=la({Fraction:fi,typed:ye}),pi=Ra({BigNumber:jt,DenseMatrix:dr,SparseMatrix:di,config:pt,matrix:gt,typed:ye}),hc=Ha({bignumber:fc,fraction:Di,number:hi}),Gt=Qa({BigNumber:jt,DenseMatrix:dr,config:pt,equalScalar:Dr,matrix:gt,typed:ye,zeros:lc}),dc=qa({matrix:gt,config:pt,typed:ye}),mi=pa({typed:ye}),gi=Ja({numeric:hc,typed:ye}),Dc=tc({addScalar:zr,conj:sc,multiplyScalar:li,size:dc,typed:ye}),Rr=Ia({addScalar:zr,dot:Dc,equalScalar:Dr,matrix:gt,multiplyScalar:li,typed:ye}),pc=nc({divideScalar:gi,isZero:ac,matrix:gt,multiply:Rr,subtractScalar:cc,typed:ye,unaryMinus:mi}),mc=uc({abs:oc,addScalar:zr,det:pc,divideScalar:gi,identity:pi,matrix:gt,multiply:Rr,typed:ye,unaryMinus:mi}),gc=Xa({Complex:ci,config:pt,fraction:Di,identity:pi,inv:mc,matrix:gt,multiply:Rr,number:hi,typed:ye});const vc={position:"bottom",strength:2,height:"6rem",divCount:5,exponential:!1,zIndex:1e3,animated:!1,duration:"0.3s",easing:"ease-out",opacity:1,curve:"linear",responsive:!1,target:"parent",className:"",style:{}},Nr={top:{position:"top",height:"6rem"},bottom:{position:"bottom",height:"6rem"},left:{position:"left",height:"6rem"},right:{position:"right",height:"6rem"},subtle:{height:"4rem",strength:1,opacity:.8,divCount:3},intense:{height:"10rem",strength:4,divCount:8,exponential:!0},smooth:{height:"8rem",curve:"bezier",divCount:10},sharp:{height:"5rem",curve:"linear",divCount:4},header:{position:"top",height:"8rem",curve:"ease-out"},footer:{position:"bottom",height:"8rem",curve:"ease-out"},sidebar:{position:"left",height:"6rem",strength:2.5},"page-header":{position:"top",height:"10rem",target:"page",strength:3},"page-footer":{position:"bottom",height:"10rem",target:"page",strength:3}},_r={linear:e=>e,bezier:e=>e*e*(3-2*e),"ease-in":e=>e*e,"ease-out":e=>1-Math.pow(1-e,2),"ease-in-out":e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},wc=(...e)=>e.reduce((t,r)=>({...t,...r}),{}),Fc=e=>({top:"to top",bottom:"to bottom",left:"to left",right:"to right"})[e]||"to bottom",Ec=(e,t)=>{let r;return(...i)=>{clearTimeout(r),r=setTimeout(()=>e(...i),t)}},Cn=(e,t,r)=>{const[i,n]=K.useState(t[r]);return K.useEffect(()=>{if(!e)return;const u=()=>{const s=window.innerWidth;let l=t[r];s<=480&&t[`mobile${r[0].toUpperCase()+r.slice(1)}`]?l=t[`mobile${r[0].toUpperCase()+r.slice(1)}`]:s<=768&&t[`tablet${r[0].toUpperCase()+r.slice(1)}`]?l=t[`tablet${r[0].toUpperCase()+r.slice(1)}`]:s<=1024&&t[`desktop${r[0].toUpperCase()+r.slice(1)}`]&&(l=t[`desktop${r[0].toUpperCase()+r.slice(1)}`]),n(l)},o=Ec(u,100);return u(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[e,t,r]),e?i:t[r]},Cc=(e,t=!1)=>{const[r,i]=K.useState(!t);return K.useEffect(()=>{if(!t||!e.current)return;const n=new IntersectionObserver(([u])=>i(u.isIntersecting),{threshold:.1});return n.observe(e.current),()=>n.disconnect()},[e,t]),r};function yc(e){const t=K.useRef(null),[r,i]=K.useState(!1),n=K.useMemo(()=>{const p=e.preset&&Nr[e.preset]?Nr[e.preset]:{};return wc(vc,p,e)},[e]),u=Cn(n.responsive,n,"height"),o=Cn(n.responsive,n,"width"),s=Cc(t,n.animated==="scroll"),l=K.useMemo(()=>{const p=[],c=100/n.divCount,m=r&&n.hoverIntensity?n.strength*n.hoverIntensity:n.strength,F=_r[n.curve]||_r.linear;for(let y=1;y<=n.divCount;y++){let E=y/n.divCount;E=F(E);let b;n.exponential?b=gc(2,E*4)*.0625*m:b=.0625*(E*n.divCount+1)*m;const w=Gt((c*y-c)*10)/10,g=Gt(c*y*10)/10,C=Gt((c*y+c)*10)/10,B=Gt((c*y+c*2)*10)/10;let N=`transparent ${w}%, black ${g}%`;C<=100&&(N+=`, black ${C}%`),B<=100&&(N+=`, transparent ${B}%`);const M=Fc(n.position),T={position:"absolute",inset:"0",maskImage:`linear-gradient(${M}, ${N})`,WebkitMaskImage:`linear-gradient(${M}, ${N})`,backdropFilter:`blur(${b.toFixed(3)}rem)`,WebkitBackdropFilter:`blur(${b.toFixed(3)}rem)`,opacity:n.opacity,transition:n.animated&&n.animated!=="scroll"?`backdrop-filter ${n.duration} ${n.easing}`:void 0};p.push($.jsx("div",{style:T},y))}return p},[n,r]),f=K.useMemo(()=>{const p=["top","bottom"].includes(n.position),c=["left","right"].includes(n.position),m=n.target==="page",F={position:m?"fixed":"absolute",pointerEvents:n.hoverIntensity?"auto":"none",opacity:s?1:0,transition:n.animated?`opacity ${n.duration} ${n.easing}`:void 0,zIndex:m?n.zIndex+100:n.zIndex,...n.style};return p?(F.height=u,F.width=o||"100%",F[n.position]=0,F.left=0,F.right=0):c&&(F.width=o||u,F.height="100%",F[n.position]=0,F.top=0,F.bottom=0),F},[n,u,o,s]),{hoverIntensity:a,animated:h,onAnimationComplete:d,duration:D}=n;return K.useEffect(()=>{if(s&&h==="scroll"&&d){const p=parseFloat(D)*1e3,c=setTimeout(()=>d(),p);return()=>clearTimeout(c)}},[s,h,d,D]),$.jsx("div",{ref:t,className:`gradual-blur ${n.target==="page"?"gradual-blur-page":"gradual-blur-parent"} ${n.className}`,style:f,onMouseEnter:a?()=>i(!0):void 0,onMouseLeave:a?()=>i(!1):void 0,children:$.jsx("div",{className:"gradual-blur-inner",style:{position:"relative",width:"100%",height:"100%"},children:l})})}const $r=eu.memo(yc);$r.displayName="GradualBlur";$r.PRESETS=Nr;$r.CURVE_FUNCTIONS=_r;const Ac=()=>{if(typeof document>"u")return;const e="gradual-blur-styles";if(document.getElementById(e))return;const t=document.createElement("style");t.id=e,t.textContent=`
  .gradual-blur { pointer-events: none; transition: opacity 0.3s ease-out; }
  .gradual-blur-parent { overflow: hidden; }
  .gradual-blur-inner { pointer-events: none; }`,document.head.appendChild(t)};typeof document<"u"&&Ac();const Ur=({children:e})=>{const t=K.useRef(null),r=K.useMemo(()=>({rootMargin:"0px 0px -20% 0px",threshold:.1,root:typeof globalThis<"u"&&globalThis.lenis?null:void 0}),[]),i=mu(t,r);return $.jsx("div",{ref:t,className:`scroll-reveal ${i?"visible":""}`,children:$.jsx("p",{className:"scroll-reveal-text",children:e})})};Ur.propTypes={children:ft.node.isRequired};ft.node.isRequired,ft.number,ft.number,ft.bool,ft.number,ft.number;const vi={id:2,title:"LD58",synopsis:"They said I'd never amount to anything, but thanks to the power of day drinking, I've achieved god-tier cap collection and total emotional detachment.",description:"Crash on the couch, crack cold ones, and turn cap-popping into peak performance. Collect, sort, and frame every shiny trophy in this chill, juicy parody about achieving God-Tier Cap Collection & Total Emotional Detachment one satisfying pop at a time.",client:"LUDUM DRUNKS",year:2025,software:["Figma","Unity","Blender"],skills:["Figma","Unity","Blender"],banner:"/img/work/ld58/Wallpaper.png"};function wi(){return $.jsxs("div",{children:[$.jsx("div",{className:"work-full",children:$.jsx("img",{src:"/img/work/ld58/Styleframe.png",className:"img-full-width",alt:"An 80s inspired interior of a bachelor with one goal in mind: collecting."})}),$.jsx("div",{className:"work-full-thin",children:$.jsx("img",{src:"/img/work/ld58/Styleframe2.png"})}),$.jsxs("div",{className:"work-header",children:[$.jsxs("div",{className:"work-header-chapter",children:[$.jsx("h3",{children:"TELEVISION"}),$.jsx("img",{src:"/img/icon/PLS.svg"}),$.jsx("p",{className:"tech-small",children:"SALVATION:::CONSUMPTION"})]}),$.jsx(Ur,{children:"The TV was the centerpiece of the bachelor pad, a glowing rectangle that promised escape and entertainment. It was a relic from a bygone era, yet it still held a certain charm. The flickering images on the screen provided a backdrop to the endless cycle of day drinking and cap collecting, a reminder of the outside world that was both tantalizing and distant. Filled with content to distract the modern man from the crushing weight of his own existence, the television was both a blessing and a curse."})]}),$.jsxs("div",{className:"work-double",children:[$.jsx("img",{src:"/img/work/ld58/LOGO.png",alt:"The wireframe of the CassetteRoom scene"}),$.jsx(An,{direction:"Vertical"}),$.jsx("img",{src:"/img/work/ld58/Thumbnail.png",alt:"A retro-futurist room with a VR setup in the middle."})]})]})}const Sc=Object.freeze(Object.defineProperty({__proto__:null,Data:vi,default:wi},Symbol.toStringTag,{value:"Module"})),Fi={id:1,title:"LSD JAM",synopsis:"Where games meet drugs",description:"LSD Jam is a game jam I participated in during April 2024 together with Cyril Ojoga. The theme was LSD, and the goal was to create a game that makes the player question which of the realities they experience is their actual life. The game takes the player through a series of realities, dying and waking up after a short series of events in each one. I created the 3D art, Textures, level layouts and lighting setups for the jam, as well as the promotional material. The game was made in Unity, and the 3D art was created in Blender.",client:"TRIPADVISORS",year:2024,software:["Illustrator","Unity","Blender"],skills:["Adobe Illustrator","Figma","Unity","Blender"],banner:"/img/work/lsdjam/Corridor.png"};function Ei(){return $.jsxs("div",{children:[$.jsx("div",{className:"work-full",children:$.jsx("img",{src:"/img/work/lsdjam/hibernation.png",className:"img-full-width",alt:"A retro-futurist room with a VR setup in the middle."})}),$.jsx("div",{className:"work-full-thin",children:$.jsx("img",{src:"/img/work/lsdjam/SpaceShip.png",alt:"low fidelity render of a spaceship bridge."})}),$.jsxs("div",{className:"work-header",children:[$.jsxs("div",{className:"work-header-chapter",children:[$.jsx("h3",{children:"THE COMMAND ROOM"}),$.jsx("img",{src:"/img/icon/PLS.svg"}),$.jsx("p",{className:"tech-small",children:"LVL::001 - HIBERNATION"})]}),$.jsx(Ur,{children:"Lorem ipsum dolor sit amet consectetur adipiscing elit. Quisque faucibus ex sapien vitae pellentesque sem placerat. In id cursus mi pretium tellus duis convallis. Tempus leo eu aenean sed diam urna tempor. Pulvinar vivamus fringilla lacus nec metus bibendum egestas. Iaculis massa nisl malesuada lacinia integer nunc posuere. Ut hendrerit semper vel class aptent taciti sociosqu. Ad litora torquent per conubia nostra inceptos himenaeos"})]}),$.jsxs("div",{className:"work-double",children:[$.jsx("img",{src:"/img/work/lsdjam/CasetteWire.png",alt:"The wireframe of the CassetteRoom scene"}),$.jsx(An,{direction:"Vertical"}),$.jsx("img",{src:"/img/work/lsdjam/CassetteRoom.png",alt:"A retro-futurist room with a VR setup in the middle."})]})]})}const xc=Object.freeze(Object.defineProperty({__proto__:null,Data:Fi,default:Ei},Symbol.toStringTag,{value:"Module"})),bc={lsdjam:{Component:Ei,data:Fi},ld58:{Component:wi,data:vi}},Tc=Object.freeze(Object.defineProperty({__proto__:null,pages:bc},Symbol.toStringTag,{value:"Module"}));export{$r as G,gu as H,Mc as S,Tc as _,xc as a,Sc as b,Ur as c,bc as p};

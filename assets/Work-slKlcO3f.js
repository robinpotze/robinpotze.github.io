const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PixelCard-XQvvlqHX.js","assets/router_motion-Bmyc_1Q_.js","assets/react-gH-7aFTg.js","assets/TopNav-ChLtcpbA.js","assets/index-D8hEsrLB.js","assets/three-Bi5B5t1l.js","assets/index-CjKlddQg.css","assets/TopNav-COwSQML_.css"])))=>i.map(i=>d[i]);
import{_ as g}from"./three-Bi5B5t1l.js";import{u as y,r as u,j as s,m}from"./router_motion-Bmyc_1Q_.js";import{_ as b,a as w,b as x,N as _}from"./index-64hQ5Xn8.js";import{u as j}from"./index-D8hEsrLB.js";import{P as l}from"./TopNav-ChLtcpbA.js";import"./react-gH-7aFTg.js";function k(t,e={width:window.innerWidth,height:window.innerHeight},r={}){if(!t)return null;const n=t.getBoundingClientRect();return{rect:{x:n.left,y:n.top,width:n.width,height:n.height,centerX:n.left+n.width/2,centerY:n.top+n.height/2},viewport:e,...r}}function v(t,e={},r={width:window.innerWidth,height:window.innerHeight}){if(!t)return null;const n=k(t,r);if(!n)return null;const i=N(t,e),a=S(t,e);return{...n,...i&&{thumbSrc:i},...a&&{dispSrc:a}}}function N(t,e){return e?.banner?e.banner:t.querySelector("img.card-thumb")?.src||null}function S(t,e){return e?.dispMap?e.dispMap:t.dataset?.disp||null}function R({to:t,data:e={},duration:r=500,delay:n=40}={}){const i=y(),{start:a}=j(),o=u.useRef(!1),c=u.useCallback(async d=>{if(!d||o.current)return;o.current=!0;const h=v(d,e);setTimeout(async()=>{try{await a({out:r,payload:h})}catch{}i(t),setTimeout(()=>{o.current=!1},r+500)},n)},[t,e,r,n,a,i]);return{busy:o.current,trigger:c}}const T=Object.assign({"./Ld58/Ld58.jsx":x,"./LsdJam/LsdJam.jsx":w,"./index.js":b});function C(t){return String(t||"").toLowerCase().replace(/[\s-]+/g,"").replace(/[^a-z0-9]/g,"")}const D=Object.entries(T).reduce((t,[e,r])=>{const n=r&&r.default?r.default:null,i=r&&(r.Data||r.data)||{};if(!n)return t;const a=String(e).split("/").pop().replace(/\.[^/.]+$/,""),o=i&&i.title?i.title:n.name||a,c=C(o);return t[c]={Component:n,data:i},t},{}),P=u.lazy(()=>g(()=>import("./PixelCard-XQvvlqHX.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])));function p(t){if(t==null&&t!==0)return-1/0;const e=Number(t);if(Number.isFinite(e)&&String(t).length===4)return new Date(e,0,1).getTime();const r=Date.parse(String(t));return Number.isFinite(r)?r:-1/0}function L(t){return Object.entries(t||{}).map(([e,r])=>({key:e,data:r?.data||{}})).sort((e,r)=>{const n=p(e.data.date??e.data.year),i=p(r.data.date??r.data.year);return n!==i?i-n:(e.data.id||0)-(r.data.id||0)})}function f({pageKey:t,data:e={},index:r=0}){const{trigger:n}=R({to:`/work/${t}`,data:e,duration:400,delay:50}),i=e.banner,a=e?.dispMap?{"data-disp":e.dispMap}:{},o=`PRJ_${(e.id||r).toString().padStart(3,"0")}`;return s.jsx(m.article,{className:"work-card",style:{"--i":r,...i?{backgroundImage:`url(${i})`}:{}},whileHover:{scale:1.02,zIndex:r+5},initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.2+r*.05},onClick:c=>{c.preventDefault(),n(c.currentTarget)},...a,children:s.jsx(u.Suspense,{fallback:s.jsx("div",{className:"pixel-card-fallback"}),children:s.jsx(P,{variant:"default",className:"pixel-card-inner",children:s.jsxs("div",{className:"work-card-content",children:[s.jsx("span",{className:"tech-small",children:o}),s.jsx("h3",{children:e?.title||t}),s.jsx("p",{className:"synopsis",children:e?.synopsis||""}),s.jsx("span",{className:"tech-small",children:e?.year||""})]})})})})}function O(){const t=u.useMemo(()=>L(D),[]);return s.jsxs("div",{className:"work-overview",id:"work-overview",children:[s.jsx(_,{}),s.jsx(m.h2,{className:"work-title",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{delay:.1},children:"Work"}),s.jsx("div",{className:"work-pages",children:t.map((e,r)=>s.jsx(f,{pageKey:e.key,data:e.data,index:r},e.key))})]})}f.propTypes={pageKey:l.string.isRequired,data:l.object.isRequired,index:l.number.isRequired};export{O as default};

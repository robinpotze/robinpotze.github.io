import{r as ve,a as Ki,j as W,R as Qi}from"./index-CT0CjOgM.js";import{b as eu,s as En,u as tu,c as ru,r as nu,m as et,S as iu,P as uu,D as An}from"./ScrollDown-DZahL02r.js";function ou(e){e.values.forEach(t=>t.stop())}function vr(e,t){[...t].reverse().forEach(i=>{const n=e.getVariant(i);n&&En(e,n),e.variantChildren&&e.variantChildren.forEach(u=>{vr(u,t)})})}function au(e,t){if(Array.isArray(t))return vr(e,t);if(typeof t=="string")return vr(e,[t]);En(e,t)}function su(){const e=new Set,t={subscribe(r){return e.add(r),()=>void e.delete(r)},start(r,i){const n=[];return e.forEach(u=>{n.push(eu(u,r,{transitionOverride:i}))}),Promise.all(n)},set(r){return e.forEach(i=>{au(i,r)})},stop(){e.forEach(r=>{ou(r)})},mount(){return()=>{t.stop()}}};return t}function fu(){const e=tu(su);return ru(e.mount,[]),e}const cu=fu,lu={some:0,all:1};function hu(e,t,{root:r,margin:i,amount:n="some"}={}){const u=nu(e),o=new WeakMap,a=l=>{l.forEach(s=>{const h=o.get(s.target);if(s.isIntersecting!==!!h)if(s.isIntersecting){const D=t(s.target,s);typeof D=="function"?o.set(s.target,D):c.unobserve(s.target)}else typeof h=="function"&&(h(s),o.delete(s.target))})},c=new IntersectionObserver(a,{root:r,rootMargin:i,threshold:typeof n=="number"?n:lu[n]});return u.forEach(l=>c.observe(l)),()=>c.disconnect()}function Du(e,{root:t,margin:r,amount:i,once:n=!1,initial:u=!1}={}){const[o,a]=ve.useState(u);return ve.useEffect(()=>{if(!e.current||n&&o)return;const c=()=>(a(!0),n?void 0:()=>a(!1)),l={root:t&&t.current||void 0,margin:r,amount:i};return hu(e.current,c,l)},[t,e,r,n,i]),o}function Ur(e){if(!e)return null;try{return e.split("/").pop().split("?")[0]}catch{return e}}function pu({content:e}){const{payload:t,active:r}=Ki(),[i,n]=ve.useState(!1),u={hidden:{opacity:0,scale:1.02},visible:{opacity:1,scale:1,transition:{duration:.7,ease:[.2,.9,.2,1]}}},o={hidden:{opacity:0,y:12},visible:(c=0)=>({opacity:1,y:0,transition:{duration:.6,delay:.08+c*.06,ease:[.2,.9,.2,1]}})},a={hidden:{opacity:0,y:8},visible:{opacity:1,y:0,transition:{duration:.6,delay:.18,ease:[.2,.9,.2,1]}}};return ve.useEffect(()=>{const c=t?.thumbSrc,l=Ur(c),s=Ur(e.banner);if(l&&s&&l===s){if(r){n(!1);return}const D=d=>{(d?.detail?.progress??0)<=.15&&n(!0)};window.addEventListener("shader-progress",D);const p=setTimeout(()=>n(!0),500);return()=>{window.removeEventListener("shader-progress",D),clearTimeout(p)}}else{const D=setTimeout(()=>n(!0),30);return()=>clearTimeout(D)}},[t,r,e.banner]),ve.useEffect(()=>()=>n(!1),[]),W.jsxs("div",{className:"hero-section",id:"work-hero-section",children:[W.jsx(et.img,{className:"hero-banner",id:e.title.replace(/\s+/g,"-")+"-hero-banner",src:e.banner,alt:e.title.replace(/\s+/g,"-")+"hero banner",variants:u,initial:"hidden",animate:i?"visible":"hidden"}),W.jsxs(et.div,{className:"hero-side",id:"work-hero-side",variants:o,custom:0,initial:"hidden",animate:i?"visible":"hidden",children:[W.jsx("div",{className:"icon-array-vertical",id:"work-hero-icons",children:e.software.map(c=>W.jsx("img",{className:"hero-side-decal",src:`/img/software/${c}.svg`,alt:`${c}-logo`},c))}),W.jsx("div",{className:"text-array",id:"work-hero-side-skills",children:e.skills.map(c=>W.jsx("p",{className:"tech-info tr90",id:`hero-side-skill-${c.toLowerCase().replace(/\s+/g,"-")}`,children:c.toLowerCase().replace(/\s+/g,"_")+"_/"},c))}),W.jsx("img",{className:"hero-side-decal",src:"/img/icon/CRS.svg",alt:"A Cross Divider"}),W.jsxs("div",{className:"hero-side-text",id:"work-project-code",children:[W.jsx("p",{className:"tech-small tr90",id:"work-hero-project-id",children:"PRJ_"+e.id.toString().padStart(3,"0")+":::"}),W.jsx("p",{className:"tech-small tr90",id:"work-hero-project-client",children:e.client})]}),W.jsx("p",{className:"tech-small tr90",id:"work-hero-side-deco-text",children:e.year}),W.jsx(iu,{})]}),W.jsx(et.div,{className:"hero-content",id:"work-hero-content",variants:o,custom:1,initial:"hidden",animate:i?"visible":"hidden",children:W.jsxs(et.div,{className:"hero-title-wrapper",id:"work-hero-title-wrapper",variants:a,initial:"hidden",animate:i?"visible":"hidden",children:[W.jsx("img",{className:"hero-title-decal",id:"work-hero-decal",src:"/img/icon/PLS.svg",alt:"Plus Sign"}),W.jsx("h2",{id:"work-hero-title",children:e.title.replace(/\s+/g,"_")}),W.jsx("img",{className:"hero-title-decal",id:"work-hero-decal",src:"/img/icon/PLS.svg",alt:"Plus Sign"})]})})]})}pu.propTypes={content:uu.object.isRequired};function Jt(){return Jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Jt.apply(null,arguments)}var Cn={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function du(e,t){if(Yt(e,t))return e[t];throw typeof e[t]=="function"&&gu(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function mu(e,t,r){if(Yt(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function Yt(e,t){return!vu(e)&&!Array.isArray(e)?!1:Kt(wu,t)?!0:!(t in Object.prototype||t in Function.prototype)}function gu(e,t){return e==null||typeof e[t]!="function"||Kt(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:Kt(Fu,t)?!0:!(t in Object.prototype||t in Function.prototype)}function vu(e){return typeof e=="object"&&e&&e.constructor===Object}var wu={length:!0,name:!0},Fu={toString:!0,valueOf:!0,toLocaleString:!0};class Eu{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return du(this.wrappedObject,t)}set(t,r){return mu(this.wrappedObject,t,r),this}has(t){return Yt(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return Au(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){Yt(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function Au(e,t){return{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}function pe(e){return typeof e=="number"}function be(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Cu(e){return typeof e=="bigint"}function yn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function bn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function Bn(e){return e&&e.constructor.prototype.isUnit===!0||!1}function tt(e){return typeof e=="string"}var Me=Array.isArray;function ye(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Xt(e){return Array.isArray(e)||ye(e)}function yu(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function bu(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Bu(e){return e&&e.constructor.prototype.isRange===!0||!1}function _r(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Nu(e){return typeof e=="boolean"}function _u(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Mu(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Su(e){return typeof e=="function"}function Tu(e){return e instanceof Date}function xu(e){return e instanceof RegExp}function Mr(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!yn(e)&&!bn(e))}function Iu(e){return e?e instanceof Map||e instanceof Eu||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function Ou(e){return e===null}function zu(e){return e===void 0}function Pu(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function $u(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ru(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Uu(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function qu(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Lu(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function ju(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Vu(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Zu(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function ku(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function Hu(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Wu(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Gu(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ju(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Yu(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Xu(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ku(e){return e&&e.constructor.prototype.isChain===!0||!1}function ht(e){var t=typeof e;return t==="object"?e===null?"null":be(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Ce(e){var t=typeof e;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return Ce(r)});if(e instanceof Date)return new Date(e.valueOf());if(be(e))return e;if(Mr(e))return Qu(e,Ce);if(t==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Qu(e,t){var r={};for(var i in e)Kt(e,i)&&(r[i]=t(e[i]));return r}function Mt(e,t){var r,i,n;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(i=0,n=e.length;i<n;i++)if(!Mt(e[i],t[i]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!Mt(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function Kt(e,t){return e&&Object.hasOwnProperty.call(e,t)}function eo(e,t){for(var r={},i=0;i<t.length;i++){var n=t[i],u=e[n];u!==void 0&&(r[n]=u)}return r}var to=["Matrix","Array"],ro=["number","BigNumber","bigint","Fraction"],pt=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Cn)};Jt(pt,Cn,{MATRIX_OPTIONS:to,NUMBER_OPTIONS:ro});function qr(){return!0}function We(){return!1}function At(){}const Lr="Argument is not a typed-function.";function Nn(){function e(v){return typeof v=="object"&&v!==null&&v.constructor===Object}const t=[{name:"number",test:function(v){return typeof v=="number"}},{name:"string",test:function(v){return typeof v=="string"}},{name:"boolean",test:function(v){return typeof v=="boolean"}},{name:"Function",test:function(v){return typeof v=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(v){return v instanceof Date}},{name:"RegExp",test:function(v){return v instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(v){return v===null}},{name:"undefined",test:function(v){return v===void 0}}],r={name:"any",test:qr,isAny:!0};let i,n,u=0,o={createCount:0};function a(v){const C=i.get(v);if(C)return C;let _='Unknown type "'+v+'"';const T=v.toLowerCase();let z;for(z of n)if(z.toLowerCase()===T){_+='. Did you mean "'+z+'" ?';break}throw new TypeError(_)}function c(v){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const _=C?a(C).index:n.length,T=[];for(let I=0;I<v.length;++I){if(!v[I]||typeof v[I].name!="string"||typeof v[I].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const L=v[I].name;if(i.has(L))throw new TypeError('Duplicate type name "'+L+'"');T.push(L),i.set(L,{name:L,test:v[I].test,isAny:v[I].isAny,index:_+I,conversionsTo:[]})}const z=n.slice(_);n=n.slice(0,_).concat(T).concat(z);for(let I=_+T.length;I<n.length;++I)i.get(n[I]).index=I}function l(){i=new Map,n=[],u=0,c([r],!1)}l(),c(t);function s(){let v;for(v of n)i.get(v).conversionsTo=[];u=0}function h(v){const C=n.filter(_=>{const T=i.get(_);return!T.isAny&&T.test(v)});return C.length?C:["any"]}function D(v){return v&&typeof v=="function"&&"_typedFunctionData"in v}function p(v,C,_){if(!D(v))throw new TypeError(Lr);const T=_&&_.exact,z=Array.isArray(C)?C.join(","):C,I=b(z),L=g(I);if(!T||L in v.signatures){const ae=v._typedFunctionData.signatureMap.get(L);if(ae)return ae}const $=I.length;let j;if(T){j=[];let ae;for(ae in v.signatures)j.push(v._typedFunctionData.signatureMap.get(ae))}else j=v._typedFunctionData.signatures;for(let ae=0;ae<$;++ae){const he=I[ae],Ne=[];let Le;for(Le of j){const Ue=B(Le.params,ae);if(!(!Ue||he.restParam&&!Ue.restParam)){if(!Ue.hasAny){const Ye=E(Ue);if(he.types.some(Xe=>!Ye.has(Xe.name)))continue}Ne.push(Le)}}if(j=Ne,j.length===0)break}let P;for(P of j)if(P.params.length<=$)return P;throw new TypeError("Signature not found (signature: "+(v.name||"unnamed")+"("+g(I,", ")+"))")}function d(v,C,_){return p(v,C,_).implementation}function f(v,C){const _=a(C);if(_.test(v))return v;const T=_.conversionsTo;if(T.length===0)throw new Error("There are no conversions to "+C+" defined.");for(let z=0;z<T.length;z++)if(a(T[z].from).test(v))return T[z].convert(v);throw new Error("Cannot convert "+v+" to "+C)}function g(v){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return v.map(_=>_.name).join(C)}function F(v){const C=v.indexOf("...")===0,T=(C?v.length>3?v.slice(3):"any":v).split("|").map($=>a($.trim()));let z=!1,I=C?"...":"";return{types:T.map(function($){return z=$.isAny||z,I+=$.name+"|",{name:$.name,typeIndex:$.index,test:$.test,isAny:$.isAny,conversion:null,conversionIndex:-1}}),name:I.slice(0,-1),hasAny:z,hasConversion:!1,restParam:C}}function y(v){const C=v.types.map(L=>L.name),_=K(C);let T=v.hasAny,z=v.name;const I=_.map(function(L){const $=a(L.from);return T=$.isAny||T,z+="|"+L.from,{name:L.from,typeIndex:$.index,test:$.test,isAny:$.isAny,conversion:L,conversionIndex:L.index}});return{types:v.types.concat(I),name:z,hasAny:T,hasConversion:I.length>0,restParam:v.restParam}}function E(v){return v.typeSet||(v.typeSet=new Set,v.types.forEach(C=>v.typeSet.add(C.name))),v.typeSet}function b(v){const C=[];if(typeof v!="string")throw new TypeError("Signatures must be strings");const _=v.trim();if(_==="")return C;const T=_.split(",");for(let z=0;z<T.length;++z){const I=F(T[z].trim());if(I.restParam&&z!==T.length-1)throw new SyntaxError('Unexpected rest parameter "'+T[z]+'": only allowed for the last parameter');if(I.types.length===0)return null;C.push(I)}return C}function w(v){const C=fe(v);return C?C.restParam:!1}function m(v){if(!v||v.types.length===0)return qr;if(v.types.length===1)return a(v.types[0].name).test;if(v.types.length===2){const C=a(v.types[0].name).test,_=a(v.types[1].name).test;return function(z){return C(z)||_(z)}}else{const C=v.types.map(function(_){return a(_.name).test});return function(T){for(let z=0;z<C.length;z++)if(C[z](T))return!0;return!1}}}function A(v){let C,_,T;if(w(v)){C=Re(v).map(m);const z=C.length,I=m(fe(v)),L=function($){for(let j=z;j<$.length;j++)if(!I($[j]))return!1;return!0};return function(j){for(let P=0;P<C.length;P++)if(!C[P](j[P]))return!1;return L(j)&&j.length>=z+1}}else return v.length===0?function(I){return I.length===0}:v.length===1?(_=m(v[0]),function(I){return _(I[0])&&I.length===1}):v.length===2?(_=m(v[0]),T=m(v[1]),function(I){return _(I[0])&&T(I[1])&&I.length===2}):(C=v.map(m),function(I){for(let L=0;L<C.length;L++)if(!C[L](I[L]))return!1;return I.length===C.length})}function B(v,C){return C<v.length?v[C]:w(v)?fe(v):null}function N(v,C){const _=B(v,C);return _?E(_):new Set}function S(v){return v.conversion===null||v.conversion===void 0}function x(v,C){const _=new Set;return v.forEach(T=>{const z=N(T.params,C);let I;for(I of z)_.add(I)}),_.has("any")?["any"]:Array.from(_)}function q(v,C,_){let T,z;const I=v||"unnamed";let L=_,$;for($=0;$<C.length;$++){const he=[];if(L.forEach(Ne=>{const Le=B(Ne.params,$),Ue=m(Le);($<Ne.params.length||w(Ne.params))&&Ue(C[$])&&he.push(Ne)}),he.length===0){if(z=x(L,$),z.length>0){const Ne=h(C[$]);return T=new TypeError("Unexpected type of argument in function "+I+" (expected: "+z.join(" or ")+", actual: "+Ne.join(" | ")+", index: "+$+")"),T.data={category:"wrongType",fn:I,index:$,actual:Ne,expected:z},T}}else L=he}const j=L.map(function(he){return w(he.params)?1/0:he.params.length});if(C.length<Math.min.apply(null,j))return z=x(L,$),T=new TypeError("Too few arguments in function "+I+" (expected: "+z.join(" or ")+", index: "+C.length+")"),T.data={category:"tooFewArgs",fn:I,index:C.length,expected:z},T;const P=Math.max.apply(null,j);if(C.length>P)return T=new TypeError("Too many arguments in function "+I+" (expected: "+P+", actual: "+C.length+")"),T.data={category:"tooManyArgs",fn:I,index:C.length,expectedLength:P},T;const ae=[];for(let he=0;he<C.length;++he)ae.push(h(C[he]).join("|"));return T=new TypeError('Arguments of type "'+ae.join(", ")+'" do not match any of the defined signatures of function '+I+"."),T.data={category:"mismatch",actual:ae},T}function k(v){let C=n.length+1;for(let _=0;_<v.types.length;_++)S(v.types[_])&&(C=Math.min(C,v.types[_].typeIndex));return C}function H(v){let C=u+1;for(let _=0;_<v.types.length;_++)S(v.types[_])||(C=Math.min(C,v.types[_].conversionIndex));return C}function V(v,C){if(v.hasAny){if(!C.hasAny)return 1}else if(C.hasAny)return-1;if(v.restParam){if(!C.restParam)return 1}else if(C.restParam)return-1;if(v.hasConversion){if(!C.hasConversion)return 1}else if(C.hasConversion)return-1;const _=k(v)-k(C);if(_<0)return-1;if(_>0)return 1;const T=H(v)-H(C);return T<0?-1:T>0?1:0}function R(v,C){const _=v.params,T=C.params,z=fe(_),I=fe(T),L=w(_),$=w(T);if(L&&z.hasAny){if(!$||!I.hasAny)return 1}else if($&&I.hasAny)return-1;let j=0,P=0,ae;for(ae of _)ae.hasAny&&++j,ae.hasConversion&&++P;let he=0,Ne=0;for(ae of T)ae.hasAny&&++he,ae.hasConversion&&++Ne;if(j!==he)return j-he;if(L&&z.hasConversion){if(!$||!I.hasConversion)return 1}else if($&&I.hasConversion)return-1;if(P!==Ne)return P-Ne;if(L){if(!$)return 1}else if($)return-1;const Le=(_.length-T.length)*(L?-1:1);if(Le!==0)return Le;const Ue=[];let Ye=0;for(let Et=0;Et<_.length;++Et){const Lt=V(_[Et],T[Et]);Ue.push(Lt),Ye+=Lt}if(Ye!==0)return Ye;let Xe;for(Xe of Ue)if(Xe!==0)return Xe;return 0}function K(v){if(v.length===0)return[];const C=v.map(a);v.length>1&&C.sort((z,I)=>z.index-I.index);let _=C[0].conversionsTo;if(v.length===1)return _;_=_.concat([]);const T=new Set(v);for(let z=1;z<C.length;++z){let I;for(I of C[z].conversionsTo)T.has(I.from)||(_.push(I),T.add(I.from))}return _}function J(v,C){let _=C;if(v.some(z=>z.hasConversion)){const z=w(v),I=v.map(Y);_=function(){const $=[],j=z?arguments.length-1:arguments.length;for(let P=0;P<j;P++)$[P]=I[P](arguments[P]);return z&&($[j]=arguments[j].map(I[j])),C.apply(this,$)}}let T=_;if(w(v)){const z=v.length-1;T=function(){return _.apply(this,oe(arguments,0,z).concat([oe(arguments,z)]))}}return T}function Y(v){let C,_,T,z;const I=[],L=[];switch(v.types.forEach(function($){$.conversion&&(I.push(a($.conversion.from).test),L.push($.conversion.convert))}),L.length){case 0:return function(j){return j};case 1:return C=I[0],T=L[0],function(j){return C(j)?T(j):j};case 2:return C=I[0],_=I[1],T=L[0],z=L[1],function(j){return C(j)?T(j):_(j)?z(j):j};default:return function(j){for(let P=0;P<L.length;P++)if(I[P](j))return L[P](j);return j}}}function ee(v){function C(_,T,z){if(T<_.length){const I=_[T];let L=[];if(I.restParam){const $=I.types.filter(S);$.length<I.types.length&&L.push({types:$,name:"..."+$.map(j=>j.name).join("|"),hasAny:$.some(j=>j.isAny),hasConversion:!1,restParam:!0}),L.push(I)}else L=I.types.map(function($){return{types:[$],name:$.name,hasAny:$.isAny,hasConversion:$.conversion,restParam:!1}});return Oe(L,function($){return C(_,T+1,z.concat([$]))})}else return[z]}return C(v,0,[])}function ue(v,C){const _=Math.max(v.length,C.length);for(let $=0;$<_;$++){const j=N(v,$),P=N(C,$);let ae=!1,he;for(he of P)if(j.has(he)){ae=!0;break}if(!ae)return!1}const T=v.length,z=C.length,I=w(v),L=w(C);return I?L?T===z:z>=T:L?T>=z:T===z}function ne(v){return v.map(C=>ut(C)?He(C.referToSelf.callback):it(C)?Te(C.referTo.references,C.referTo.callback):C)}function se(v,C,_){const T=[];let z;for(z of v){let I=_[z];if(typeof I!="number")throw new TypeError('No definition for referenced signature "'+z+'"');if(I=C[I],typeof I!="function")return!1;T.push(I)}return T}function Be(v,C,_){const T=ne(v),z=new Array(T.length).fill(!1);let I=!0;for(;I;){I=!1;let L=!0;for(let $=0;$<T.length;++$){if(z[$])continue;const j=T[$];if(ut(j))T[$]=j.referToSelf.callback(_),T[$].referToSelf=j.referToSelf,z[$]=!0,L=!1;else if(it(j)){const P=se(j.referTo.references,T,C);P?(T[$]=j.referTo.callback.apply(this,P),T[$].referTo=j.referTo,z[$]=!0,L=!1):I=!0}}if(L&&I)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return T}function Ae(v){const C=/\bthis(\(|\.signatures\b)/;Object.keys(v).forEach(_=>{const T=v[_];if(C.test(T.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Fe(v,C){if(o.createCount++,Object.keys(C).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&Ae(C);const _=[],T=[],z={},I=[];let L;for(L in C){if(!Object.prototype.hasOwnProperty.call(C,L))continue;const ie=b(L);if(!ie)continue;_.forEach(function(zt){if(ue(zt,ie))throw new TypeError('Conflicting signatures "'+g(zt)+'" and "'+g(ie)+'".')}),_.push(ie);const je=T.length;T.push(C[L]);const Yi=ie.map(y);let jt;for(jt of ee(Yi)){const zt=g(jt);I.push({params:jt,name:zt,fn:je}),jt.every(Xi=>!Xi.hasConversion)&&(z[zt]=je)}}I.sort(R);const $=Be(T,z,Ot);let j;for(j in z)Object.prototype.hasOwnProperty.call(z,j)&&(z[j]=$[z[j]]);const P=[],ae=new Map;for(j of I)ae.has(j.name)||(j.fn=$[j.fn],P.push(j),ae.set(j.name,j));const he=P[0]&&P[0].params.length<=2&&!w(P[0].params),Ne=P[1]&&P[1].params.length<=2&&!w(P[1].params),Le=P[2]&&P[2].params.length<=2&&!w(P[2].params),Ue=P[3]&&P[3].params.length<=2&&!w(P[3].params),Ye=P[4]&&P[4].params.length<=2&&!w(P[4].params),Xe=P[5]&&P[5].params.length<=2&&!w(P[5].params),Et=he&&Ne&&Le&&Ue&&Ye&&Xe;for(let ie=0;ie<P.length;++ie)P[ie].test=A(P[ie].params);const Lt=he?m(P[0].params[0]):We,Ai=Ne?m(P[1].params[0]):We,Ci=Le?m(P[2].params[0]):We,yi=Ue?m(P[3].params[0]):We,bi=Ye?m(P[4].params[0]):We,Bi=Xe?m(P[5].params[0]):We,Ni=he?m(P[0].params[1]):We,_i=Ne?m(P[1].params[1]):We,Mi=Le?m(P[2].params[1]):We,Si=Ue?m(P[3].params[1]):We,Ti=Ye?m(P[4].params[1]):We,xi=Xe?m(P[5].params[1]):We;for(let ie=0;ie<P.length;++ie)P[ie].implementation=J(P[ie].params,P[ie].fn);const Ii=he?P[0].implementation:At,Oi=Ne?P[1].implementation:At,zi=Le?P[2].implementation:At,Pi=Ue?P[3].implementation:At,$i=Ye?P[4].implementation:At,Ri=Xe?P[5].implementation:At,Ui=he?P[0].params.length:-1,qi=Ne?P[1].params.length:-1,Li=Le?P[2].params.length:-1,ji=Ue?P[3].params.length:-1,Vi=Ye?P[4].params.length:-1,Zi=Xe?P[5].params.length:-1,ki=Et?6:0,Hi=P.length,Wi=P.map(ie=>ie.test),Gi=P.map(ie=>ie.implementation),Ji=function(){for(let je=ki;je<Hi;je++)if(Wi[je](arguments))return Gi[je].apply(this,arguments);return o.onMismatch(v,arguments,P)};function Ot(ie,je){return arguments.length===Ui&&Lt(ie)&&Ni(je)?Ii.apply(this,arguments):arguments.length===qi&&Ai(ie)&&_i(je)?Oi.apply(this,arguments):arguments.length===Li&&Ci(ie)&&Mi(je)?zi.apply(this,arguments):arguments.length===ji&&yi(ie)&&Si(je)?Pi.apply(this,arguments):arguments.length===Vi&&bi(ie)&&Ti(je)?$i.apply(this,arguments):arguments.length===Zi&&Bi(ie)&&xi(je)?Ri.apply(this,arguments):Ji.apply(this,arguments)}try{Object.defineProperty(Ot,"name",{value:v})}catch{}return Ot.signatures=z,Ot._typedFunctionData={signatures:P,signatureMap:ae},Ot}function De(v,C,_){throw q(v,C,_)}function Re(v){return oe(v,0,v.length-1)}function fe(v){return v[v.length-1]}function oe(v,C,_){return Array.prototype.slice.call(v,C,_)}function ke(v,C){for(let _=0;_<v.length;_++)if(C(v[_]))return v[_]}function Oe(v,C){return Array.prototype.concat.apply([],v.map(C))}function ce(){const v=Re(arguments).map(_=>g(b(_))),C=fe(arguments);if(typeof C!="function")throw new TypeError("Callback function expected as last argument");return Te(v,C)}function Te(v,C){return{referTo:{references:v,callback:C}}}function He(v){if(typeof v!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:v}}}function it(v){return v&&typeof v.referTo=="object"&&Array.isArray(v.referTo.references)&&typeof v.referTo.callback=="function"}function ut(v){return v&&typeof v.referToSelf=="object"&&typeof v.referToSelf.callback=="function"}function wt(v,C){if(!v)return C;if(C&&C!==v){const _=new Error("Function names do not match (expected: "+v+", actual: "+C+")");throw _.data={actual:C,expected:v},_}return v}function Ft(v){let C;for(const _ in v)Object.prototype.hasOwnProperty.call(v,_)&&(D(v[_])||typeof v[_].signature=="string")&&(C=wt(C,v[_].name));return C}function Dr(v,C){let _;for(_ in C)if(Object.prototype.hasOwnProperty.call(C,_)){if(_ in v&&C[_]!==v[_]){const T=new Error('Signature "'+_+'" is defined twice');throw T.data={signature:_,sourceFunction:C[_],destFunction:v[_]},T}v[_]=C[_]}}const Ei=o;o=function(v){const C=typeof v=="string",_=C?1:0;let T=C?v:"";const z={};for(let I=_;I<arguments.length;++I){const L=arguments[I];let $={},j;if(typeof L=="function"?(j=L.name,typeof L.signature=="string"?$[L.signature]=L:D(L)&&($=L.signatures)):e(L)&&($=L,C||(j=Ft(L))),Object.keys($).length===0){const P=new TypeError("Argument to 'typed' at index "+I+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw P.data={index:I,argument:L},P}C||(T=wt(T,j)),Dr(z,$)}return Fe(T||"",z)},o.create=Nn,o.createCount=Ei.createCount,o.onMismatch=De,o.throwMismatchError=De,o.createError=q,o.clear=l,o.clearConversions=s,o.addTypes=c,o._findType=a,o.referTo=ce,o.referToSelf=He,o.convert=f,o.findSignature=p,o.find=d,o.isTypedFunction=D,o.warnAgainstDeprecatedThis=!0,o.addType=function(v,C){let _="any";C!==!1&&i.has("Object")&&(_="Object"),o.addTypes([v],_)};function Rr(v){if(!v||typeof v.from!="string"||typeof v.to!="string"||typeof v.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(v.to===v.from)throw new SyntaxError('Illegal to define conversion from "'+v.from+'" to itself.')}return o.addConversion=function(v){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Rr(v);const _=a(v.to),T=_.conversionsTo.find(z=>z.from===v.from);if(T)if(C&&C.override)o.removeConversion({from:T.from,to:v.to,convert:T.convert});else throw new Error('There is already a conversion from "'+v.from+'" to "'+_.name+'"');_.conversionsTo.push({from:v.from,convert:v.convert,index:u++})},o.addConversions=function(v,C){v.forEach(_=>o.addConversion(_,C))},o.removeConversion=function(v){Rr(v);const C=a(v.to),_=ke(C.conversionsTo,z=>z.from===v.from);if(!_)throw new Error("Attempt to remove nonexistent conversion from "+v.from+" to "+v.to);if(_.convert!==v.convert)throw new Error("Conversion to remove does not match existing conversion");const T=C.conversionsTo.indexOf(_);C.conversionsTo.splice(T,1)},o.resolve=function(v,C){if(!D(v))throw new TypeError(Lr);const _=v._typedFunctionData.signatures;for(let T=0;T<_.length;++T)if(_[T].test(C))return _[T];return null},o}const Qt=Nn();function re(e,t,r,i){function n(u){var o=eo(u,t.map(uo));return no(e,t,u),r(o)}return n.isFactory=!0,n.fn=e,n.dependencies=t.slice().sort(),i&&(n.meta=i),n}function no(e,t,r){var i=t.filter(u=>!io(u)).every(u=>r[u]!==void 0);if(!i){var n=t.filter(u=>r[u]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(n.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function io(e){return e&&e[0]==="?"}function uo(e){return e&&e[0]==="?"?e.slice(1):e}function me(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function pr(e,t,r){var i={2:"0b",8:"0o",16:"0x"},n=i[t],u="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!me(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!me(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),u="i".concat(r)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(n).concat(e.toString(t)).concat(u)}function wr(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:i,wordSize:n}=_n(t);switch(r){case"fixed":return Mn(e,i);case"exponential":return Sn(e,i);case"engineering":return oo(e,i);case"bin":return pr(e,2,n);case"oct":return pr(e,8,n);case"hex":return pr(e,16,n);case"auto":return ao(e,i,t).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],o=arguments[4];return u!=="."?u+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function _n(e){var t="auto",r,i;if(e!==void 0)if(pe(e))r=e;else if(be(e))r=e.toNumber();else if(Mr(e))e.precision!==void 0&&(r=jr(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(i=jr(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:r,wordSize:i}}function Ut(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],i=t[2],n=parseFloat(t[4]||"0"),u=i.indexOf(".");n+=u!==-1?u-1:i.length-1;var o=i.replace(".","").replace(/^0*/,function(a){return n-=a.length,""}).replace(/0*$/,"").split("").map(function(a){return parseInt(a)});return o.length===0&&(o.push(0),n++),{sign:r,coefficients:o,exponent:n}}function oo(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Ut(e),i=or(r,t),n=i.exponent,u=i.coefficients,o=n%3===0?n:n<0?n-3-n%3:n-n%3;if(pe(t))for(;t>u.length||n-o+1>u.length;)u.push(0);else for(var a=Math.abs(n-o)-(u.length-1),c=0;c<a;c++)u.push(0);for(var l=Math.abs(n-o),s=1;l>0;)s++,l--;var h=u.slice(s).join(""),D=pe(t)&&h.length||h.match(/[1-9]/)?"."+h:"",p=u.slice(0,s).join("")+D+"e"+(n>=0?"+":"")+o.toString();return i.sign+p}function Mn(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Ut(e),i=typeof t=="number"?or(r,r.exponent+1+t):r,n=i.coefficients,u=i.exponent+1,o=u+(t||0);return n.length<o&&(n=n.concat(_t(o-n.length))),u<0&&(n=_t(-u+1).concat(n),u=1),u<n.length&&n.splice(u,0,u===0?"0.":"."),i.sign+n.join("")}function Sn(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Ut(e),i=t?or(r,t):r,n=i.coefficients,u=i.exponent;n.length<t&&(n=n.concat(_t(t-n.length)));var o=n.shift();return i.sign+o+(n.length>0?"."+n.join(""):"")+"e"+(u>=0?"+":"")+u}function ao(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var i=Vr(r?.lowerExp,-3),n=Vr(r?.upperExp,5),u=Ut(e),o=t?or(u,t):u;if(o.exponent<i||o.exponent>=n)return Sn(e,t);var a=o.coefficients,c=o.exponent;a.length<t&&(a=a.concat(_t(t-a.length))),a=a.concat(_t(c-a.length+1+(a.length<t?t-a.length:0))),a=_t(-c).concat(a);var l=c>0?c:0;return l<a.length-1&&a.splice(l+1,0,"."),o.sign+a.join("")}function or(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},i=r.coefficients;t<=0;)i.unshift(0),r.exponent++,t++;if(i.length>t){var n=i.splice(t,i.length-t);if(n[0]>=5){var u=t-1;for(i[u]++;i[u]===10;)i.pop(),u===0&&(i.unshift(0),r.exponent++,u++),u--,i[u]++}}return r}function _t(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function so(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function St(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(t)?!1:!isFinite(e)||!isFinite(t)?e===t:e===t?!0:Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),i)}function jr(e,t){if(pe(e))return e;if(be(e))return e.toNumber();t()}function Vr(e,t){return pe(e)?e:be(e)?e.toNumber():t}var Tn=function(){return Tn=Qt.create,Qt},fo=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],co=re("typed",fo,function(t){var{BigNumber:r,Complex:i,DenseMatrix:n,Fraction:u}=t,o=Tn();return o.clear(),o.addTypes([{name:"number",test:pe},{name:"Complex",test:yn},{name:"BigNumber",test:be},{name:"bigint",test:Cu},{name:"Fraction",test:bn},{name:"Unit",test:Bn},{name:"identifier",test:a=>tt&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(a)},{name:"string",test:tt},{name:"Chain",test:Ku},{name:"Array",test:Me},{name:"Matrix",test:ye},{name:"DenseMatrix",test:yu},{name:"SparseMatrix",test:bu},{name:"Range",test:Bu},{name:"Index",test:_r},{name:"boolean",test:Nu},{name:"ResultSet",test:_u},{name:"Help",test:Mu},{name:"function",test:Su},{name:"Date",test:Tu},{name:"RegExp",test:xu},{name:"null",test:Ou},{name:"undefined",test:zu},{name:"AccessorNode",test:Pu},{name:"ArrayNode",test:$u},{name:"AssignmentNode",test:Ru},{name:"BlockNode",test:Uu},{name:"ConditionalNode",test:qu},{name:"ConstantNode",test:Lu},{name:"FunctionNode",test:Vu},{name:"FunctionAssignmentNode",test:ju},{name:"IndexNode",test:Zu},{name:"Node",test:ku},{name:"ObjectNode",test:Hu},{name:"OperatorNode",test:Wu},{name:"ParenthesisNode",test:Gu},{name:"RangeNode",test:Ju},{name:"RelationalNode",test:Yu},{name:"SymbolNode",test:Xu},{name:"Map",test:Iu},{name:"Object",test:Mr}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(r||Vt(c),so(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new r(c)}},{from:"number",to:"Complex",convert:function(c){return i||Zt(c),new i(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return i||Zt(c),new i(c.toNumber(),0)}},{from:"bigint",to:"number",convert:function(c){if(c>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+c+")");return Number(c)}},{from:"bigint",to:"BigNumber",convert:function(c){return r||Vt(c),new r(c.toString())}},{from:"bigint",to:"Fraction",convert:function(c){return u||kt(c),new u(c)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return i||Zt(c),new i(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){u||kt(c);var l=new u(c);if(l.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return l}},{from:"string",to:"number",convert:function(c){var l=Number(c);if(isNaN(l))throw new Error('Cannot convert "'+c+'" to a number');return l}},{from:"string",to:"BigNumber",convert:function(c){r||Vt(c);try{return new r(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(c){try{return BigInt(c)}catch{throw new Error('Cannot convert "'+c+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(c){u||kt(c);try{return new u(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){i||Zt(c);try{return new i(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return r||Vt(c),new r(+c)}},{from:"boolean",to:"bigint",convert:function(c){return BigInt(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return u||kt(c),new u(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return n||lo(),new n(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),o.onMismatch=(a,c,l)=>{var s=o.createError(a,c,l);if(["wrongType","mismatch"].includes(s.data.category)&&c.length===1&&Xt(c[0])&&l.some(D=>!D.params.includes(","))){var h=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw h.data=s.data,h}throw s},o.onMismatch=(a,c,l)=>{var s=o.createError(a,c,l);if(["wrongType","mismatch"].includes(s.data.category)&&c.length===1&&Xt(c[0])&&l.some(D=>!D.params.includes(","))){var h=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw h.data=s.data,h}throw s},o});function Vt(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Zt(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function lo(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function kt(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Bt=9e15,dt=1e9,Fr="0123456789abcdef",er="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",tr="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Er={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Bt,maxE:Bt,crypto:!1},xn,at,Q=!0,ar="[DecimalError] ",Dt=ar+"Invalid argument: ",In=ar+"Precision limit exceeded",On=ar+"crypto unavailable",zn="[object Decimal]",$e=Math.floor,Se=Math.pow,ho=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Do=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,po=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Pn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qe=1e7,X=7,mo=9007199254740991,go=er.length-1,Ar=tr.length-1,O={toStringTag:zn};O.absoluteValue=O.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),G(e)};O.ceil=function(){return G(new this.constructor(this),this.e+1,2)};O.clampedTo=O.clamp=function(e,t){var r,i=this,n=i.constructor;if(e=new n(e),t=new n(t),!e.s||!t.s)return new n(NaN);if(e.gt(t))throw Error(Dt+t);return r=i.cmp(e),r<0?e:i.cmp(t)>0?t:new n(i)};O.comparedTo=O.cmp=function(e){var t,r,i,n,u=this,o=u.d,a=(e=new u.constructor(e)).d,c=u.s,l=e.s;if(!o||!a)return!c||!l?NaN:c!==l?c:o===a?0:!o^c<0?1:-1;if(!o[0]||!a[0])return o[0]?c:a[0]?-l:0;if(c!==l)return c;if(u.e!==e.e)return u.e>e.e^c<0?1:-1;for(i=o.length,n=a.length,t=0,r=i<n?i:n;t<r;++t)if(o[t]!==a[t])return o[t]>a[t]^c<0?1:-1;return i===n?0:i>n^c<0?1:-1};O.cosine=O.cos=function(){var e,t,r=this,i=r.constructor;return r.d?r.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+X,i.rounding=1,r=vo(i,Ln(i,r)),i.precision=e,i.rounding=t,G(at==2||at==3?r.neg():r,e,t,!0)):new i(1):new i(NaN)};O.cubeRoot=O.cbrt=function(){var e,t,r,i,n,u,o,a,c,l,s=this,h=s.constructor;if(!s.isFinite()||s.isZero())return new h(s);for(Q=!1,u=s.s*Se(s.s*s,1/3),!u||Math.abs(u)==1/0?(r=ze(s.d),e=s.e,(u=(e-r.length+1)%3)&&(r+=u==1||u==-2?"0":"00"),u=Se(r,1/3),e=$e((e+1)/3)-(e%3==(e<0?-1:2)),u==1/0?r="5e"+e:(r=u.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),i=new h(r),i.s=s.s):i=new h(u.toString()),o=(e=h.precision)+3;;)if(a=i,c=a.times(a).times(a),l=c.plus(s),i=le(l.plus(s).times(a),l.plus(c),o+2,1),ze(a.d).slice(0,o)===(r=ze(i.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!n&&r=="4999"){if(!n&&(G(a,e+1,0),a.times(a).times(a).eq(s))){i=a;break}o+=4,n=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(G(i,e+1,1),t=!i.times(i).times(i).eq(s));break}return Q=!0,G(i,e,h.rounding,t)};O.decimalPlaces=O.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-$e(this.e/X))*X,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};O.dividedBy=O.div=function(e){return le(this,new this.constructor(e))};O.dividedToIntegerBy=O.divToInt=function(e){var t=this,r=t.constructor;return G(le(t,new r(e),0,1,1),r.precision,r.rounding)};O.equals=O.eq=function(e){return this.cmp(e)===0};O.floor=function(){return G(new this.constructor(this),this.e+1,3)};O.greaterThan=O.gt=function(e){return this.cmp(e)>0};O.greaterThanOrEqualTo=O.gte=function(e){var t=this.cmp(e);return t==1||t===0};O.hyperbolicCosine=O.cosh=function(){var e,t,r,i,n,u=this,o=u.constructor,a=new o(1);if(!u.isFinite())return new o(u.s?1/0:NaN);if(u.isZero())return a;r=o.precision,i=o.rounding,o.precision=r+Math.max(u.e,u.sd())+4,o.rounding=1,n=u.d.length,n<32?(e=Math.ceil(n/3),t=(1/fr(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),u=Tt(o,1,u.times(t),new o(1),!0);for(var c,l=e,s=new o(8);l--;)c=u.times(u),u=a.minus(c.times(s.minus(c.times(s))));return G(u,o.precision=r,o.rounding=i,!0)};O.hyperbolicSine=O.sinh=function(){var e,t,r,i,n=this,u=n.constructor;if(!n.isFinite()||n.isZero())return new u(n);if(t=u.precision,r=u.rounding,u.precision=t+Math.max(n.e,n.sd())+4,u.rounding=1,i=n.d.length,i<3)n=Tt(u,2,n,n,!0);else{e=1.4*Math.sqrt(i),e=e>16?16:e|0,n=n.times(1/fr(5,e)),n=Tt(u,2,n,n,!0);for(var o,a=new u(5),c=new u(16),l=new u(20);e--;)o=n.times(n),n=n.times(a.plus(o.times(c.times(o).plus(l))))}return u.precision=t,u.rounding=r,G(n,t,r,!0)};O.hyperbolicTangent=O.tanh=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+7,i.rounding=1,le(r.sinh(),r.cosh(),i.precision=e,i.rounding=t)):new i(r.s)};O.inverseCosine=O.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),i=t.precision,n=t.rounding;return r!==-1?r===0?e.isNeg()?rt(t,i,n):new t(0):new t(NaN):e.isZero()?rt(t,i+4,n).times(.5):(t.precision=i+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=i,t.rounding=n,e.times(2))};O.inverseHyperbolicCosine=O.acosh=function(){var e,t,r=this,i=r.constructor;return r.lte(1)?new i(r.eq(1)?0:NaN):r.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(r.e),r.sd())+4,i.rounding=1,Q=!1,r=r.times(r).minus(1).sqrt().plus(r),Q=!0,i.precision=e,i.rounding=t,r.ln()):new i(r)};O.inverseHyperbolicSine=O.asinh=function(){var e,t,r=this,i=r.constructor;return!r.isFinite()||r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,i.rounding=1,Q=!1,r=r.times(r).plus(1).sqrt().plus(r),Q=!0,i.precision=e,i.rounding=t,r.ln())};O.inverseHyperbolicTangent=O.atanh=function(){var e,t,r,i,n=this,u=n.constructor;return n.isFinite()?n.e>=0?new u(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(e=u.precision,t=u.rounding,i=n.sd(),Math.max(i,e)<2*-n.e-1?G(new u(n),e,t,!0):(u.precision=r=i-n.e,n=le(n.plus(1),new u(1).minus(n),r+e,1),u.precision=e+4,u.rounding=1,n=n.ln(),u.precision=e,u.rounding=t,n.times(.5))):new u(NaN)};O.inverseSine=O.asin=function(){var e,t,r,i,n=this,u=n.constructor;return n.isZero()?new u(n):(t=n.abs().cmp(1),r=u.precision,i=u.rounding,t!==-1?t===0?(e=rt(u,r+4,i).times(.5),e.s=n.s,e):new u(NaN):(u.precision=r+6,u.rounding=1,n=n.div(new u(1).minus(n.times(n)).sqrt().plus(1)).atan(),u.precision=r,u.rounding=i,n.times(2)))};O.inverseTangent=O.atan=function(){var e,t,r,i,n,u,o,a,c,l=this,s=l.constructor,h=s.precision,D=s.rounding;if(l.isFinite()){if(l.isZero())return new s(l);if(l.abs().eq(1)&&h+4<=Ar)return o=rt(s,h+4,D).times(.25),o.s=l.s,o}else{if(!l.s)return new s(NaN);if(h+4<=Ar)return o=rt(s,h+4,D).times(.5),o.s=l.s,o}for(s.precision=a=h+10,s.rounding=1,r=Math.min(28,a/X+2|0),e=r;e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(Q=!1,t=Math.ceil(a/X),i=1,c=l.times(l),o=new s(l),n=l;e!==-1;)if(n=n.times(c),u=o.minus(n.div(i+=2)),n=n.times(c),o=u.plus(n.div(i+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===u.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),Q=!0,G(o,s.precision=h,s.rounding=D,!0)};O.isFinite=function(){return!!this.d};O.isInteger=O.isInt=function(){return!!this.d&&$e(this.e/X)>this.d.length-2};O.isNaN=function(){return!this.s};O.isNegative=O.isNeg=function(){return this.s<0};O.isPositive=O.isPos=function(){return this.s>0};O.isZero=function(){return!!this.d&&this.d[0]===0};O.lessThan=O.lt=function(e){return this.cmp(e)<0};O.lessThanOrEqualTo=O.lte=function(e){return this.cmp(e)<1};O.logarithm=O.log=function(e){var t,r,i,n,u,o,a,c,l=this,s=l.constructor,h=s.precision,D=s.rounding,p=5;if(e==null)e=new s(10),t=!0;else{if(e=new s(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new s(NaN);t=e.eq(10)}if(r=l.d,l.s<0||!r||!r[0]||l.eq(1))return new s(r&&!r[0]?-1/0:l.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)u=!0;else{for(n=r[0];n%10===0;)n/=10;u=n!==1}if(Q=!1,a=h+p,o=lt(l,a),i=t?rr(s,a+10):lt(e,a),c=le(o,i,a,1),Rt(c.d,n=h,D))do if(a+=10,o=lt(l,a),i=t?rr(s,a+10):lt(e,a),c=le(o,i,a,1),!u){+ze(c.d).slice(n+1,n+15)+1==1e14&&(c=G(c,h+1,0));break}while(Rt(c.d,n+=10,D));return Q=!0,G(c,h,D)};O.minus=O.sub=function(e){var t,r,i,n,u,o,a,c,l,s,h,D,p=this,d=p.constructor;if(e=new d(e),!p.d||!e.d)return!p.s||!e.s?e=new d(NaN):p.d?e.s=-e.s:e=new d(e.d||p.s!==e.s?p:NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(l=p.d,D=e.d,a=d.precision,c=d.rounding,!l[0]||!D[0]){if(D[0])e.s=-e.s;else if(l[0])e=new d(p);else return new d(c===3?-0:0);return Q?G(e,a,c):e}if(r=$e(e.e/X),s=$e(p.e/X),l=l.slice(),u=s-r,u){for(h=u<0,h?(t=l,u=-u,o=D.length):(t=D,r=s,o=l.length),i=Math.max(Math.ceil(a/X),o)+2,u>i&&(u=i,t.length=1),t.reverse(),i=u;i--;)t.push(0);t.reverse()}else{for(i=l.length,o=D.length,h=i<o,h&&(o=i),i=0;i<o;i++)if(l[i]!=D[i]){h=l[i]<D[i];break}u=0}for(h&&(t=l,l=D,D=t,e.s=-e.s),o=l.length,i=D.length-o;i>0;--i)l[o++]=0;for(i=D.length;i>u;){if(l[--i]<D[i]){for(n=i;n&&l[--n]===0;)l[n]=Qe-1;--l[n],l[i]+=Qe}l[i]-=D[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=sr(l,r),Q?G(e,a,c):e):new d(c===3?-0:0)};O.modulo=O.mod=function(e){var t,r=this,i=r.constructor;return e=new i(e),!r.d||!e.s||e.d&&!e.d[0]?new i(NaN):!e.d||r.d&&!r.d[0]?G(new i(r),i.precision,i.rounding):(Q=!1,i.modulo==9?(t=le(r,e.abs(),0,3,1),t.s*=e.s):t=le(r,e,0,i.modulo,1),t=t.times(e),Q=!0,r.minus(t))};O.naturalExponential=O.exp=function(){return Cr(this)};O.naturalLogarithm=O.ln=function(){return lt(this)};O.negated=O.neg=function(){var e=new this.constructor(this);return e.s=-e.s,G(e)};O.plus=O.add=function(e){var t,r,i,n,u,o,a,c,l,s,h=this,D=h.constructor;if(e=new D(e),!h.d||!e.d)return!h.s||!e.s?e=new D(NaN):h.d||(e=new D(e.d||h.s===e.s?h:NaN)),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(l=h.d,s=e.d,a=D.precision,c=D.rounding,!l[0]||!s[0])return s[0]||(e=new D(h)),Q?G(e,a,c):e;if(u=$e(h.e/X),i=$e(e.e/X),l=l.slice(),n=u-i,n){for(n<0?(r=l,n=-n,o=s.length):(r=s,i=u,o=l.length),u=Math.ceil(a/X),o=u>o?u+1:o+1,n>o&&(n=o,r.length=1),r.reverse();n--;)r.push(0);r.reverse()}for(o=l.length,n=s.length,o-n<0&&(n=o,r=s,s=l,l=r),t=0;n;)t=(l[--n]=l[n]+s[n]+t)/Qe|0,l[n]%=Qe;for(t&&(l.unshift(t),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=sr(l,i),Q?G(e,a,c):e};O.precision=O.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Dt+e);return r.d?(t=$n(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};O.round=function(){var e=this,t=e.constructor;return G(new t(e),e.e+1,t.rounding)};O.sine=O.sin=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+X,i.rounding=1,r=Fo(i,Ln(i,r)),i.precision=e,i.rounding=t,G(at>2?r.neg():r,e,t,!0)):new i(NaN)};O.squareRoot=O.sqrt=function(){var e,t,r,i,n,u,o=this,a=o.d,c=o.e,l=o.s,s=o.constructor;if(l!==1||!a||!a[0])return new s(!l||l<0&&(!a||a[0])?NaN:a?o:1/0);for(Q=!1,l=Math.sqrt(+o),l==0||l==1/0?(t=ze(a),(t.length+c)%2==0&&(t+="0"),l=Math.sqrt(t),c=$e((c+1)/2)-(c<0||c%2),l==1/0?t="5e"+c:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),i=new s(t)):i=new s(l.toString()),r=(c=s.precision)+3;;)if(u=i,i=u.plus(le(o,u,r+2,1)).times(.5),ze(u.d).slice(0,r)===(t=ze(i.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!n&&t=="4999"){if(!n&&(G(u,c+1,0),u.times(u).eq(o))){i=u;break}r+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(G(i,c+1,1),e=!i.times(i).eq(o));break}return Q=!0,G(i,c,s.rounding,e)};O.tangent=O.tan=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,r=r.sin(),r.s=1,r=le(r,new i(1).minus(r.times(r)).sqrt(),e+10,0),i.precision=e,i.rounding=t,G(at==2||at==4?r.neg():r,e,t,!0)):new i(NaN)};O.times=O.mul=function(e){var t,r,i,n,u,o,a,c,l,s=this,h=s.constructor,D=s.d,p=(e=new h(e)).d;if(e.s*=s.s,!D||!D[0]||!p||!p[0])return new h(!e.s||D&&!D[0]&&!p||p&&!p[0]&&!D?NaN:!D||!p?e.s/0:e.s*0);for(r=$e(s.e/X)+$e(e.e/X),c=D.length,l=p.length,c<l&&(u=D,D=p,p=u,o=c,c=l,l=o),u=[],o=c+l,i=o;i--;)u.push(0);for(i=l;--i>=0;){for(t=0,n=c+i;n>i;)a=u[n]+p[i]*D[n-i-1]+t,u[n--]=a%Qe|0,t=a/Qe|0;u[n]=(u[n]+t)%Qe|0}for(;!u[--o];)u.pop();return t?++r:u.shift(),e.d=u,e.e=sr(u,r),Q?G(e,h.precision,h.rounding):e};O.toBinary=function(e,t){return Sr(this,2,e,t)};O.toDecimalPlaces=O.toDP=function(e,t){var r=this,i=r.constructor;return r=new i(r),e===void 0?r:(Ze(e,0,dt),t===void 0?t=i.rounding:Ze(t,0,8),G(r,e+r.e+1,t))};O.toExponential=function(e,t){var r,i=this,n=i.constructor;return e===void 0?r=nt(i,!0):(Ze(e,0,dt),t===void 0?t=n.rounding:Ze(t,0,8),i=G(new n(i),e+1,t),r=nt(i,!0,e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};O.toFixed=function(e,t){var r,i,n=this,u=n.constructor;return e===void 0?r=nt(n):(Ze(e,0,dt),t===void 0?t=u.rounding:Ze(t,0,8),i=G(new u(n),e+n.e+1,t),r=nt(i,!1,e+i.e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};O.toFraction=function(e){var t,r,i,n,u,o,a,c,l,s,h,D,p=this,d=p.d,f=p.constructor;if(!d)return new f(p);if(l=r=new f(1),i=c=new f(0),t=new f(i),u=t.e=$n(d)-p.e-1,o=u%X,t.d[0]=Se(10,o<0?X+o:o),e==null)e=u>0?t:l;else{if(a=new f(e),!a.isInt()||a.lt(l))throw Error(Dt+a);e=a.gt(t)?u>0?t:l:a}for(Q=!1,a=new f(ze(d)),s=f.precision,f.precision=u=d.length*X*2;h=le(a,t,0,1,1),n=r.plus(h.times(i)),n.cmp(e)!=1;)r=i,i=n,n=l,l=c.plus(h.times(n)),c=n,n=t,t=a.minus(h.times(n)),a=n;return n=le(e.minus(r),i,0,1,1),c=c.plus(n.times(l)),r=r.plus(n.times(i)),c.s=l.s=p.s,D=le(l,i,u,1).minus(p).abs().cmp(le(c,r,u,1).minus(p).abs())<1?[l,i]:[c,r],f.precision=s,Q=!0,D};O.toHexadecimal=O.toHex=function(e,t){return Sr(this,16,e,t)};O.toNearest=function(e,t){var r=this,i=r.constructor;if(r=new i(r),e==null){if(!r.d)return r;e=new i(1),t=i.rounding}else{if(e=new i(e),t===void 0?t=i.rounding:Ze(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(Q=!1,r=le(r,e,0,t,1).times(e),Q=!0,G(r)):(e.s=r.s,r=e),r};O.toNumber=function(){return+this};O.toOctal=function(e,t){return Sr(this,8,e,t)};O.toPower=O.pow=function(e){var t,r,i,n,u,o,a=this,c=a.constructor,l=+(e=new c(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new c(Se(+a,l));if(a=new c(a),a.eq(1))return a;if(i=c.precision,u=c.rounding,e.eq(1))return G(a,i,u);if(t=$e(e.e/X),t>=e.d.length-1&&(r=l<0?-l:l)<=mo)return n=Rn(c,a,r,i),e.s<0?new c(1).div(n):G(n,i,u);if(o=a.s,o<0){if(t<e.d.length-1)return new c(NaN);if((e.d[t]&1)==0&&(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return r=Se(+a,l),t=r==0||!isFinite(r)?$e(l*(Math.log("0."+ze(a.d))/Math.LN10+a.e+1)):new c(r+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?o/0:0):(Q=!1,c.rounding=a.s=1,r=Math.min(12,(t+"").length),n=Cr(e.times(lt(a,i+r)),i),n.d&&(n=G(n,i+5,1),Rt(n.d,i,u)&&(t=i+10,n=G(Cr(e.times(lt(a,t+r)),t),t+5,1),+ze(n.d).slice(i+1,i+15)+1==1e14&&(n=G(n,i+1,0)))),n.s=o,Q=!0,c.rounding=u,G(n,i,u))};O.toPrecision=function(e,t){var r,i=this,n=i.constructor;return e===void 0?r=nt(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(Ze(e,1,dt),t===void 0?t=n.rounding:Ze(t,0,8),i=G(new n(i),e,t),r=nt(i,e<=i.e||i.e<=n.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+r:r};O.toSignificantDigits=O.toSD=function(e,t){var r=this,i=r.constructor;return e===void 0?(e=i.precision,t=i.rounding):(Ze(e,1,dt),t===void 0?t=i.rounding:Ze(t,0,8)),G(new i(r),e,t)};O.toString=function(){var e=this,t=e.constructor,r=nt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};O.truncated=O.trunc=function(){return G(new this.constructor(this),this.e+1,1)};O.valueOf=O.toJSON=function(){var e=this,t=e.constructor,r=nt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function ze(e){var t,r,i,n=e.length-1,u="",o=e[0];if(n>0){for(u+=o,t=1;t<n;t++)i=e[t]+"",r=X-i.length,r&&(u+=ct(r)),u+=i;o=e[t],i=o+"",r=X-i.length,r&&(u+=ct(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return u+o}function Ze(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Dt+e)}function Rt(e,t,r,i){var n,u,o,a;for(u=e[0];u>=10;u/=10)--t;return--t<0?(t+=X,n=0):(n=Math.ceil((t+1)/X),t%=X),u=Se(10,X-t),a=e[n]%u|0,i==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),o=r<4&&a==99999||r>3&&a==49999||a==5e4||a==0):o=(r<4&&a+1==u||r>3&&a+1==u/2)&&(e[n+1]/u/100|0)==Se(10,t-2)-1||(a==u/2||a==0)&&(e[n+1]/u/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),o=(i||r<4)&&a==9999||!i&&r>3&&a==4999):o=((i||r<4)&&a+1==u||!i&&r>3&&a+1==u/2)&&(e[n+1]/u/1e3|0)==Se(10,t-3)-1,o}function Wt(e,t,r){for(var i,n=[0],u,o=0,a=e.length;o<a;){for(u=n.length;u--;)n[u]*=t;for(n[0]+=Fr.indexOf(e.charAt(o++)),i=0;i<n.length;i++)n[i]>r-1&&(n[i+1]===void 0&&(n[i+1]=0),n[i+1]+=n[i]/r|0,n[i]%=r)}return n.reverse()}function vo(e,t){var r,i,n;if(t.isZero())return t;i=t.d.length,i<32?(r=Math.ceil(i/3),n=(1/fr(4,r)).toString()):(r=16,n="2.3283064365386962890625e-10"),e.precision+=r,t=Tt(e,1,t.times(n),new e(1));for(var u=r;u--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}var le=(function(){function e(i,n,u){var o,a=0,c=i.length;for(i=i.slice();c--;)o=i[c]*n+a,i[c]=o%u|0,a=o/u|0;return a&&i.unshift(a),i}function t(i,n,u,o){var a,c;if(u!=o)c=u>o?1:-1;else for(a=c=0;a<u;a++)if(i[a]!=n[a]){c=i[a]>n[a]?1:-1;break}return c}function r(i,n,u,o){for(var a=0;u--;)i[u]-=a,a=i[u]<n[u]?1:0,i[u]=a*o+i[u]-n[u];for(;!i[0]&&i.length>1;)i.shift()}return function(i,n,u,o,a,c){var l,s,h,D,p,d,f,g,F,y,E,b,w,m,A,B,N,S,x,q,k=i.constructor,H=i.s==n.s?1:-1,V=i.d,R=n.d;if(!V||!V[0]||!R||!R[0])return new k(!i.s||!n.s||(V?R&&V[0]==R[0]:!R)?NaN:V&&V[0]==0||!R?H*0:H/0);for(c?(p=1,s=i.e-n.e):(c=Qe,p=X,s=$e(i.e/p)-$e(n.e/p)),x=R.length,N=V.length,F=new k(H),y=F.d=[],h=0;R[h]==(V[h]||0);h++);if(R[h]>(V[h]||0)&&s--,u==null?(m=u=k.precision,o=k.rounding):a?m=u+(i.e-n.e)+1:m=u,m<0)y.push(1),d=!0;else{if(m=m/p+2|0,h=0,x==1){for(D=0,R=R[0],m++;(h<N||D)&&m--;h++)A=D*c+(V[h]||0),y[h]=A/R|0,D=A%R|0;d=D||h<N}else{for(D=c/(R[0]+1)|0,D>1&&(R=e(R,D,c),V=e(V,D,c),x=R.length,N=V.length),B=x,E=V.slice(0,x),b=E.length;b<x;)E[b++]=0;q=R.slice(),q.unshift(0),S=R[0],R[1]>=c/2&&++S;do D=0,l=t(R,E,x,b),l<0?(w=E[0],x!=b&&(w=w*c+(E[1]||0)),D=w/S|0,D>1?(D>=c&&(D=c-1),f=e(R,D,c),g=f.length,b=E.length,l=t(f,E,g,b),l==1&&(D--,r(f,x<g?q:R,g,c))):(D==0&&(l=D=1),f=R.slice()),g=f.length,g<b&&f.unshift(0),r(E,f,b,c),l==-1&&(b=E.length,l=t(R,E,x,b),l<1&&(D++,r(E,x<b?q:R,b,c))),b=E.length):l===0&&(D++,E=[0]),y[h++]=D,l&&E[0]?E[b++]=V[B]||0:(E=[V[B]],b=1);while((B++<N||E[0]!==void 0)&&m--);d=E[0]!==void 0}y[0]||y.shift()}if(p==1)F.e=s,xn=d;else{for(h=1,D=y[0];D>=10;D/=10)h++;F.e=h+s*p-1,G(F,a?u+F.e+1:u,o,d)}return F}})();function G(e,t,r,i){var n,u,o,a,c,l,s,h,D,p=e.constructor;e:if(t!=null){if(h=e.d,!h)return e;for(n=1,a=h[0];a>=10;a/=10)n++;if(u=t-n,u<0)u+=X,o=t,s=h[D=0],c=s/Se(10,n-o-1)%10|0;else if(D=Math.ceil((u+1)/X),a=h.length,D>=a)if(i){for(;a++<=D;)h.push(0);s=c=0,n=1,u%=X,o=u-X+1}else break e;else{for(s=a=h[D],n=1;a>=10;a/=10)n++;u%=X,o=u-X+n,c=o<0?0:s/Se(10,n-o-1)%10|0}if(i=i||t<0||h[D+1]!==void 0||(o<0?s:s%Se(10,n-o-1)),l=r<4?(c||i)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||i||r==6&&(u>0?o>0?s/Se(10,n-o):0:h[D-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,l?(t-=e.e+1,h[0]=Se(10,(X-t%X)%X),e.e=-t||0):h[0]=e.e=0,e;if(u==0?(h.length=D,a=1,D--):(h.length=D+1,a=Se(10,X-u),h[D]=o>0?(s/Se(10,n-o)%Se(10,o)|0)*a:0),l)for(;;)if(D==0){for(u=1,o=h[0];o>=10;o/=10)u++;for(o=h[0]+=a,a=1;o>=10;o/=10)a++;u!=a&&(e.e++,h[0]==Qe&&(h[0]=1));break}else{if(h[D]+=a,h[D]!=Qe)break;h[D--]=0,a=1}for(u=h.length;h[--u]===0;)h.pop()}return Q&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function nt(e,t,r){if(!e.isFinite())return qn(e);var i,n=e.e,u=ze(e.d),o=u.length;return t?(r&&(i=r-o)>0?u=u.charAt(0)+"."+u.slice(1)+ct(i):o>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):n<0?(u="0."+ct(-n-1)+u,r&&(i=r-o)>0&&(u+=ct(i))):n>=o?(u+=ct(n+1-o),r&&(i=r-n-1)>0&&(u=u+"."+ct(i))):((i=n+1)<o&&(u=u.slice(0,i)+"."+u.slice(i)),r&&(i=r-o)>0&&(n+1===o&&(u+="."),u+=ct(i))),u}function sr(e,t){var r=e[0];for(t*=X;r>=10;r/=10)t++;return t}function rr(e,t,r){if(t>go)throw Q=!0,r&&(e.precision=r),Error(In);return G(new e(er),t,1,!0)}function rt(e,t,r){if(t>Ar)throw Error(In);return G(new e(tr),t,r,!0)}function $n(e){var t=e.length-1,r=t*X+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function ct(e){for(var t="";e--;)t+="0";return t}function Rn(e,t,r,i){var n,u=new e(1),o=Math.ceil(i/X+4);for(Q=!1;;){if(r%2&&(u=u.times(t),kr(u.d,o)&&(n=!0)),r=$e(r/2),r===0){r=u.d.length-1,n&&u.d[r]===0&&++u.d[r];break}t=t.times(t),kr(t.d,o)}return Q=!0,u}function Zr(e){return e.d[e.d.length-1]&1}function Un(e,t,r){for(var i,n,u=new e(t[0]),o=0;++o<t.length;){if(n=new e(t[o]),!n.s){u=n;break}i=u.cmp(n),(i===r||i===0&&u.s===r)&&(u=n)}return u}function Cr(e,t){var r,i,n,u,o,a,c,l=0,s=0,h=0,D=e.constructor,p=D.rounding,d=D.precision;if(!e.d||!e.d[0]||e.e>17)return new D(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(Q=!1,c=d):c=t,a=new D(.03125);e.e>-2;)e=e.times(a),h+=5;for(i=Math.log(Se(2,h))/Math.LN10*2+5|0,c+=i,r=u=o=new D(1),D.precision=c;;){if(u=G(u.times(e),c,1),r=r.times(++s),a=o.plus(le(u,r,c,1)),ze(a.d).slice(0,c)===ze(o.d).slice(0,c)){for(n=h;n--;)o=G(o.times(o),c,1);if(t==null)if(l<3&&Rt(o.d,c-i,p,l))D.precision=c+=10,r=u=a=new D(1),s=0,l++;else return G(o,D.precision=d,p,Q=!0);else return D.precision=d,o}o=a}}function lt(e,t){var r,i,n,u,o,a,c,l,s,h,D,p=1,d=10,f=e,g=f.d,F=f.constructor,y=F.rounding,E=F.precision;if(f.s<0||!g||!g[0]||!f.e&&g[0]==1&&g.length==1)return new F(g&&!g[0]?-1/0:f.s!=1?NaN:g?0:f);if(t==null?(Q=!1,s=E):s=t,F.precision=s+=d,r=ze(g),i=r.charAt(0),Math.abs(u=f.e)<15e14){for(;i<7&&i!=1||i==1&&r.charAt(1)>3;)f=f.times(e),r=ze(f.d),i=r.charAt(0),p++;u=f.e,i>1?(f=new F("0."+r),u++):f=new F(i+"."+r.slice(1))}else return l=rr(F,s+2,E).times(u+""),f=lt(new F(i+"."+r.slice(1)),s-d).plus(l),F.precision=E,t==null?G(f,E,y,Q=!0):f;for(h=f,c=o=f=le(f.minus(1),f.plus(1),s,1),D=G(f.times(f),s,1),n=3;;){if(o=G(o.times(D),s,1),l=c.plus(le(o,new F(n),s,1)),ze(l.d).slice(0,s)===ze(c.d).slice(0,s))if(c=c.times(2),u!==0&&(c=c.plus(rr(F,s+2,E).times(u+""))),c=le(c,new F(p),s,1),t==null)if(Rt(c.d,s-d,y,a))F.precision=s+=d,l=o=f=le(h.minus(1),h.plus(1),s,1),D=G(f.times(f),s,1),n=a=1;else return G(c,F.precision=E,y,Q=!0);else return F.precision=E,c;c=l,n+=2}}function qn(e){return String(e.s*e.s/0)}function Gt(e,t){var r,i,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),i=0;t.charCodeAt(i)===48;i++);for(n=t.length;t.charCodeAt(n-1)===48;--n);if(t=t.slice(i,n),t){if(n-=i,e.e=r=r-i-1,e.d=[],i=(r+1)%X,r<0&&(i+=X),i<n){for(i&&e.d.push(+t.slice(0,i)),n-=X;i<n;)e.d.push(+t.slice(i,i+=X));t=t.slice(i),i=X-t.length}else i-=n;for(;i--;)t+="0";e.d.push(+t),Q&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function wo(e,t){var r,i,n,u,o,a,c,l,s;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Pn.test(t))return Gt(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Do.test(t))r=16,t=t.toLowerCase();else if(ho.test(t))r=2;else if(po.test(t))r=8;else throw Error(Dt+t);for(u=t.search(/p/i),u>0?(c=+t.slice(u+1),t=t.substring(2,u)):t=t.slice(2),u=t.indexOf("."),o=u>=0,i=e.constructor,o&&(t=t.replace(".",""),a=t.length,u=a-u,n=Rn(i,new i(r),u,u*2)),l=Wt(t,r,Qe),s=l.length-1,u=s;l[u]===0;--u)l.pop();return u<0?new i(e.s*0):(e.e=sr(l,s),e.d=l,Q=!1,o&&(e=le(e,n,a*4)),c&&(e=e.times(Math.abs(c)<54?Se(2,c):xt.pow(2,c))),Q=!0,e)}function Fo(e,t){var r,i=t.d.length;if(i<3)return t.isZero()?t:Tt(e,2,t,t);r=1.4*Math.sqrt(i),r=r>16?16:r|0,t=t.times(1/fr(5,r)),t=Tt(e,2,t,t);for(var n,u=new e(5),o=new e(16),a=new e(20);r--;)n=t.times(t),t=t.times(u.plus(n.times(o.times(n).minus(a))));return t}function Tt(e,t,r,i,n){var u,o,a,c,l=e.precision,s=Math.ceil(l/X);for(Q=!1,c=r.times(r),a=new e(i);;){if(o=le(a.times(c),new e(t++*t++),l,1),a=n?i.plus(o):i.minus(o),i=le(o.times(c),new e(t++*t++),l,1),o=a.plus(i),o.d[s]!==void 0){for(u=s;o.d[u]===a.d[u]&&u--;);if(u==-1)break}u=a,a=i,i=o,o=u}return Q=!0,o.d.length=s+1,o}function fr(e,t){for(var r=e;--t;)r*=e;return r}function Ln(e,t){var r,i=t.s<0,n=rt(e,e.precision,1),u=n.times(.5);if(t=t.abs(),t.lte(u))return at=i?4:1,t;if(r=t.divToInt(n),r.isZero())at=i?3:2;else{if(t=t.minus(r.times(n)),t.lte(u))return at=Zr(r)?i?2:3:i?4:1,t;at=Zr(r)?i?1:4:i?3:2}return t.minus(n).abs()}function Sr(e,t,r,i){var n,u,o,a,c,l,s,h,D,p=e.constructor,d=r!==void 0;if(d?(Ze(r,1,dt),i===void 0?i=p.rounding:Ze(i,0,8)):(r=p.precision,i=p.rounding),!e.isFinite())s=qn(e);else{for(s=nt(e),o=s.indexOf("."),d?(n=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):n=t,o>=0&&(s=s.replace(".",""),D=new p(1),D.e=s.length-o,D.d=Wt(nt(D),10,n),D.e=D.d.length),h=Wt(s,10,n),u=c=h.length;h[--c]==0;)h.pop();if(!h[0])s=d?"0p+0":"0";else{if(o<0?u--:(e=new p(e),e.d=h,e.e=u,e=le(e,D,r,i,0,n),h=e.d,u=e.e,l=xn),o=h[r],a=n/2,l=l||h[r+1]!==void 0,l=i<4?(o!==void 0||l)&&(i===0||i===(e.s<0?3:2)):o>a||o===a&&(i===4||l||i===6&&h[r-1]&1||i===(e.s<0?8:7)),h.length=r,l)for(;++h[--r]>n-1;)h[r]=0,r||(++u,h.unshift(1));for(c=h.length;!h[c-1];--c);for(o=0,s="";o<c;o++)s+=Fr.charAt(h[o]);if(d){if(c>1)if(t==16||t==8){for(o=t==16?4:3,--c;c%o;c++)s+="0";for(h=Wt(s,n,t),c=h.length;!h[c-1];--c);for(o=1,s="1.";o<c;o++)s+=Fr.charAt(h[o])}else s=s.charAt(0)+"."+s.slice(1);s=s+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)s="0"+s;s="0."+s}else if(++u>c)for(u-=c;u--;)s+="0";else u<c&&(s=s.slice(0,u)+"."+s.slice(u))}s=(t==16?"0x":t==2?"0b":t==8?"0o":"")+s}return e.s<0?"-"+s:s}function kr(e,t){if(e.length>t)return e.length=t,!0}function Eo(e){return new this(e).abs()}function Ao(e){return new this(e).acos()}function Co(e){return new this(e).acosh()}function yo(e,t){return new this(e).plus(t)}function bo(e){return new this(e).asin()}function Bo(e){return new this(e).asinh()}function No(e){return new this(e).atan()}function _o(e){return new this(e).atanh()}function Mo(e,t){e=new this(e),t=new this(t);var r,i=this.precision,n=this.rounding,u=i+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=rt(this,u,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?rt(this,i,n):new this(0),r.s=e.s):!e.d||t.isZero()?(r=rt(this,u,1).times(.5),r.s=e.s):t.s<0?(this.precision=u,this.rounding=1,r=this.atan(le(e,t,u,1)),t=rt(this,u,1),this.precision=i,this.rounding=n,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(le(e,t,u,1)),r}function So(e){return new this(e).cbrt()}function To(e){return G(e=new this(e),e.e+1,2)}function xo(e,t,r){return new this(e).clamp(t,r)}function Io(e){if(!e||typeof e!="object")throw Error(ar+"Object expected");var t,r,i,n=e.defaults===!0,u=["precision",1,dt,"rounding",0,8,"toExpNeg",-Bt,0,"toExpPos",0,Bt,"maxE",0,Bt,"minE",-Bt,0,"modulo",0,9];for(t=0;t<u.length;t+=3)if(r=u[t],n&&(this[r]=Er[r]),(i=e[r])!==void 0)if($e(i)===i&&i>=u[t+1]&&i<=u[t+2])this[r]=i;else throw Error(Dt+r+": "+i);if(r="crypto",n&&(this[r]=Er[r]),(i=e[r])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(On);else this[r]=!1;else throw Error(Dt+r+": "+i);return this}function Oo(e){return new this(e).cos()}function zo(e){return new this(e).cosh()}function jn(e){var t,r,i;function n(u){var o,a,c,l=this;if(!(l instanceof n))return new n(u);if(l.constructor=n,Hr(u)){l.s=u.s,Q?!u.d||u.e>n.maxE?(l.e=NaN,l.d=null):u.e<n.minE?(l.e=0,l.d=[0]):(l.e=u.e,l.d=u.d.slice()):(l.e=u.e,l.d=u.d?u.d.slice():u.d);return}if(c=typeof u,c==="number"){if(u===0){l.s=1/u<0?-1:1,l.e=0,l.d=[0];return}if(u<0?(u=-u,l.s=-1):l.s=1,u===~~u&&u<1e7){for(o=0,a=u;a>=10;a/=10)o++;Q?o>n.maxE?(l.e=NaN,l.d=null):o<n.minE?(l.e=0,l.d=[0]):(l.e=o,l.d=[u]):(l.e=o,l.d=[u]);return}if(u*0!==0){u||(l.s=NaN),l.e=NaN,l.d=null;return}return Gt(l,u.toString())}if(c==="string")return(a=u.charCodeAt(0))===45?(u=u.slice(1),l.s=-1):(a===43&&(u=u.slice(1)),l.s=1),Pn.test(u)?Gt(l,u):wo(l,u);if(c==="bigint")return u<0?(u=-u,l.s=-1):l.s=1,Gt(l,u.toString());throw Error(Dt+u)}if(n.prototype=O,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=Io,n.clone=jn,n.isDecimal=Hr,n.abs=Eo,n.acos=Ao,n.acosh=Co,n.add=yo,n.asin=bo,n.asinh=Bo,n.atan=No,n.atanh=_o,n.atan2=Mo,n.cbrt=So,n.ceil=To,n.clamp=xo,n.cos=Oo,n.cosh=zo,n.div=Po,n.exp=$o,n.floor=Ro,n.hypot=Uo,n.ln=qo,n.log=Lo,n.log10=Vo,n.log2=jo,n.max=Zo,n.min=ko,n.mod=Ho,n.mul=Wo,n.pow=Go,n.random=Jo,n.round=Yo,n.sign=Xo,n.sin=Ko,n.sinh=Qo,n.sqrt=ea,n.sub=ta,n.sum=ra,n.tan=na,n.tanh=ia,n.trunc=ua,e===void 0&&(e={}),e&&e.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)e.hasOwnProperty(r=i[t++])||(e[r]=this[r]);return n.config(e),n}function Po(e,t){return new this(e).div(t)}function $o(e){return new this(e).exp()}function Ro(e){return G(e=new this(e),e.e+1,3)}function Uo(){var e,t,r=new this(0);for(Q=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return Q=!0,new this(1/0);r=t}return Q=!0,r.sqrt()}function Hr(e){return e instanceof xt||e&&e.toStringTag===zn||!1}function qo(e){return new this(e).ln()}function Lo(e,t){return new this(e).log(t)}function jo(e){return new this(e).log(2)}function Vo(e){return new this(e).log(10)}function Zo(){return Un(this,arguments,-1)}function ko(){return Un(this,arguments,1)}function Ho(e,t){return new this(e).mod(t)}function Wo(e,t){return new this(e).mul(t)}function Go(e,t){return new this(e).pow(t)}function Jo(e){var t,r,i,n,u=0,o=new this(1),a=[];if(e===void 0?e=this.precision:Ze(e,1,dt),i=Math.ceil(e/X),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));u<i;)n=t[u],n>=429e7?t[u]=crypto.getRandomValues(new Uint32Array(1))[0]:a[u++]=n%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);u<i;)n=t[u]+(t[u+1]<<8)+(t[u+2]<<16)+((t[u+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(t,u):(a.push(n%1e7),u+=4);u=i/4}else throw Error(On);else for(;u<i;)a[u++]=Math.random()*1e7|0;for(i=a[--u],e%=X,i&&e&&(n=Se(10,X-e),a[u]=(i/n|0)*n);a[u]===0;u--)a.pop();if(u<0)r=0,a=[0];else{for(r=-1;a[0]===0;r-=X)a.shift();for(i=1,n=a[0];n>=10;n/=10)i++;i<X&&(r-=X-i)}return o.e=r,o.d=a,o}function Yo(e){return G(e=new this(e),e.e+1,this.rounding)}function Xo(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Ko(e){return new this(e).sin()}function Qo(e){return new this(e).sinh()}function ea(e){return new this(e).sqrt()}function ta(e,t){return new this(e).sub(t)}function ra(){var e=0,t=arguments,r=new this(t[e]);for(Q=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return Q=!0,G(r,this.precision,this.rounding)}function na(e){return new this(e).tan()}function ia(e){return new this(e).tanh()}function ua(e){return G(e=new this(e),e.e+1,1)}O[Symbol.for("nodejs.util.inspect.custom")]=O.toString;O[Symbol.toStringTag]="Decimal";var xt=O.constructor=jn(Er);er=new xt(er);tr=new xt(tr);var oa="BigNumber",aa=["?on","config"],sa=re(oa,aa,e=>{var{on:t,config:r}=e,i=xt.clone({precision:r.precision,modulo:xt.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(n){return new i(n.value)},t&&t("config",function(n,u){n.precision!==u.precision&&i.config({precision:n.precision})}),i},{isClass:!0});const Pe=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},Ge=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},fa=function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const r=e*e;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},dr=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},Ct=function(){throw SyntaxError("Invalid Param")};function mr(e,t){const r=Math.abs(e),i=Math.abs(t);return e===0?Math.log(i):t===0?Math.log(r):r<3e3&&i<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const ca={re:0,im:0},gt=function(e,t){const r=ca;if(e==null)r.re=r.im=0;else if(t!==void 0)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return M.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return M.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else e.length===2?(r.re=e[0],r.im=e[1]):Ct();break;case"string":r.im=r.re=0;const i=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let n=1,u=0;i===null&&Ct();for(let o=0;o<i.length;o++){const a=i[o];a===" "||a==="	"||a===`
`||(a==="+"?n++:a==="-"?u++:a==="i"||a==="I"?(n+u===0&&Ct(),i[o+1]!==" "&&!isNaN(i[o+1])?(r.im+=parseFloat((u%2?"-":"")+i[o+1]),o++):r.im+=parseFloat((u%2?"-":"")+"1"),n=u=0):((n+u===0||isNaN(a))&&Ct(),i[o+1]==="i"||i[o+1]==="I"?(r.im+=parseFloat((u%2?"-":"")+a),o++):r.re+=parseFloat((u%2?"-":"")+a),n=u=0))}n+u>0&&Ct();break;case"number":r.im=0,r.re=e;break;default:Ct()}return isNaN(r.re)||isNaN(r.im),r};function M(e,t){if(!(this instanceof M))return new M(e,t);const r=gt(e,t);this.re=r.re,this.im=r.im}M.prototype={re:0,im:0,sign:function(){const e=dr(this.re,this.im);return new M(this.re/e,this.im/e)},add:function(e,t){const r=gt(e,t),i=this.isInfinite(),n=!(isFinite(r.re)&&isFinite(r.im));return i||n?i&&n?M.NAN:M.INFINITY:new M(this.re+r.re,this.im+r.im)},sub:function(e,t){const r=gt(e,t),i=this.isInfinite(),n=!(isFinite(r.re)&&isFinite(r.im));return i||n?i&&n?M.NAN:M.INFINITY:new M(this.re-r.re,this.im-r.im)},mul:function(e,t){const r=gt(e,t),i=this.isInfinite(),n=!(isFinite(r.re)&&isFinite(r.im)),u=this.re===0&&this.im===0,o=r.re===0&&r.im===0;return i&&o||n&&u?M.NAN:i||n?M.INFINITY:r.im===0&&this.im===0?new M(this.re*r.re,0):new M(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){const r=gt(e,t),i=this.isInfinite(),n=!(isFinite(r.re)&&isFinite(r.im)),u=this.re===0&&this.im===0,o=r.re===0&&r.im===0;if(u&&o||i&&n)return M.NAN;if(o||i)return M.INFINITY;if(u||n)return M.ZERO;if(r.im===0)return new M(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const a=r.re/r.im,c=r.re*a+r.im;return new M((this.re*a+this.im)/c,(this.im*a-this.re)/c)}else{const a=r.im/r.re,c=r.im*a+r.re;return new M((this.re+this.im*a)/c,(this.im-this.re*a)/c)}},pow:function(e,t){const r=gt(e,t),i=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return M.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new M(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new M(Math.pow(this.im,r.re),0);case 1:return new M(0,Math.pow(this.im,r.re));case 2:return new M(-Math.pow(this.im,r.re),0);case 3:return new M(0,-Math.pow(this.im,r.re))}}if(i&&r.re>0)return M.ZERO;const u=Math.atan2(this.im,this.re),o=mr(this.re,this.im);let a=Math.exp(r.re*o-r.im*u),c=r.im*o+r.re*u;return new M(a*Math.cos(c),a*Math.sin(c))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new M(Math.sqrt(e),0):new M(0,Math.sqrt(-e));const r=dr(e,t);let i=Math.sqrt(.5*(r+Math.abs(e))),n=Math.abs(t)/(2*i);return e>=0?new M(i,t<0?-n:n):new M(n,t<0?-i:i)},exp:function(){const e=Math.exp(this.re);return this.im===0?new M(e,0):new M(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new M(Math.expm1(e)*Math.cos(t)+fa(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new M(Math.log(e),0):new M(mr(e,t),Math.atan2(t,e))},abs:function(){return dr(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new M(Math.sin(e)*Pe(t),Math.cos(e)*Ge(t))},cos:function(){const e=this.re,t=this.im;return new M(Math.cos(e)*Pe(t),-Math.sin(e)*Ge(t))},tan:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)+Pe(t);return new M(Math.sin(e)/r,Ge(t)/r)},cot:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)-Pe(t);return new M(-Math.sin(e)/r,Ge(t)/r)},sec:function(){const e=this.re,t=this.im,r=.5*Pe(2*t)+.5*Math.cos(2*e);return new M(Math.cos(e)*Pe(t)/r,Math.sin(e)*Ge(t)/r)},csc:function(){const e=this.re,t=this.im,r=.5*Pe(2*t)-.5*Math.cos(2*e);return new M(Math.sin(e)*Pe(t)/r,-Math.cos(e)*Ge(t)/r)},asin:function(){const e=this.re,t=this.im,r=new M(t*t-e*e+1,-2*e*t).sqrt(),i=new M(r.re-t,r.im+e).log();return new M(i.im,-i.re)},acos:function(){const e=this.re,t=this.im,r=new M(t*t-e*e+1,-2*e*t).sqrt(),i=new M(r.re-t,r.im+e).log();return new M(Math.PI/2-i.im,i.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new M(0,1/0);if(t===-1)return new M(0,-1/0)}const r=e*e+(1-t)*(1-t),i=new M((1-t*t-e*e)/r,-2*e/r).log();return new M(-.5*i.im,.5*i.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new M(Math.atan2(1,e),0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).atan():new M(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new M(0,1/0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).acos():new M(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new M(Math.PI/2,1/0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).asin():new M(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new M(Ge(e)*Math.cos(t),Pe(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new M(Pe(e)*Math.cos(t),Ge(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,r=Pe(e)+Math.cos(t);return new M(Ge(e)/r,Math.sin(t)/r)},coth:function(){const e=2*this.re,t=2*this.im,r=Pe(e)-Math.cos(t);return new M(Ge(e)/r,-Math.sin(t)/r)},csch:function(){const e=this.re,t=this.im,r=Math.cos(2*t)-Pe(2*e);return new M(-2*Ge(e)*Math.cos(t)/r,2*Pe(e)*Math.sin(t)/r)},sech:function(){const e=this.re,t=this.im,r=Math.cos(2*t)+Pe(2*e);return new M(2*Pe(e)*Math.cos(t)/r,-2*Ge(e)*Math.sin(t)/r)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,r=e>1&&t===0,i=1-e,n=1+e,u=i*i+t*t,o=u!==0?new M((n*i-t*t)/u,(t*i+n*t)/u):new M(e!==-1?e/0:0,t!==0?t/0:0),a=o.re;return o.re=mr(o.re,o.im)/2,o.im=Math.atan2(o.im,a)/2,r&&(o.im=-o.im),o},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new M(0,Math.PI/2);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).atanh():new M(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0)return new M(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).asinh():new M(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return M.INFINITY;const r=e*e+t*t;return r!==0?new M(e/r,-t/r).acosh():new M(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return M.INFINITY;if(this.isInfinite())return M.ZERO;const e=this.re,t=this.im,r=e*e+t*t;return new M(e/r,-t/r)},conjugate:function(){return new M(this.re,-this.im)},neg:function(){return new M(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new M(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new M(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new M(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const r=gt(e,t);return Math.abs(r.re-this.re)<=M.EPSILON&&Math.abs(r.im-this.im)<=M.EPSILON},clone:function(){return new M(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<M.EPSILON&&(e=0),Math.abs(t)<M.EPSILON&&(t=0),t===0?r+e:(e!==0?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),t!==1&&(r+=t),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};M.ZERO=new M(0,0);M.ONE=new M(1,0);M.I=new M(0,1);M.PI=new M(Math.PI,0);M.E=new M(Math.E,0);M.INFINITY=new M(1/0,1/0);M.NAN=new M(NaN,NaN);M.EPSILON=1e-15;var la="Complex",ha=[],Da=re(la,ha,()=>(Object.defineProperty(M,"name",{value:"Complex"}),M.prototype.constructor=M,M.prototype.type="Complex",M.prototype.isComplex=!0,M.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},M.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},M.prototype.format=function(e){var t="",r=this.im,i=this.re,n=wr(this.re,e),u=wr(this.im,e),o=pe(e)?e:e?e.precision:null;if(o!==null){var a=Math.pow(10,-o);Math.abs(i/r)<a&&(i=0),Math.abs(r/i)<a&&(r=0)}return r===0?t=n:i===0?r===1?t="i":r===-1?t="-i":t=u+"i":r<0?r===-1?t=n+" - i":t=n+" - "+u.substring(1)+"i":r===1?t=n+" + i":t=n+" + "+u+"i",t},M.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return M(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],i=arguments[1];if(pe(r)){if(Bn(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),pe(i))return new M({r,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},M.prototype.valueOf=M.prototype.toString,M.fromJSON=function(e){return new M(e)},M.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},M),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const Z=BigInt(0),te=BigInt(1),Ie=BigInt(2),$t=BigInt(3),Nt=BigInt(5),Ve=BigInt(10);BigInt(Number.MAX_SAFE_INTEGER);const pa=2e3,U={s:te,n:Z,d:te};function ot(e,t){try{e=BigInt(e)}catch{throw ft()}return e*t}function Ke(e){return typeof e=="bigint"?e:Math.floor(e)}function de(e,t){if(t===Z)throw Tr();const r=Object.create(Je.prototype);r.s=e<Z?-te:te,e=e<Z?-e:e;const i=vt(e,t);return r.n=e/i,r.d=t/i,r}const da=[Ie*Ie,Ie,Ie*Ie,Ie,Ie*Ie,Ie*$t,Ie,Ie*$t];function yt(e){const t=Object.create(null);if(e<=te)return t[e]=te,t;const r=i=>{t[i]=(t[i]||Z)+te};for(;e%Ie===Z;)r(Ie),e/=Ie;for(;e%$t===Z;)r($t),e/=$t;for(;e%Nt===Z;)r(Nt),e/=Nt;for(let i=0,n=Ie+Nt;n*n<=e;){for(;e%n===Z;)r(n),e/=n;n+=da[i],i=i+1&7}return e>te&&r(e),t}const xe=function(e,t){let r=Z,i=te,n=te;if(e!=null)if(t!==void 0){if(typeof e=="bigint")r=e;else{if(isNaN(e))throw ft();if(e%1!==0)throw Wr();r=BigInt(e)}if(typeof t=="bigint")i=t;else{if(isNaN(t))throw ft();if(t%1!==0)throw Wr();i=BigInt(t)}n=r*i}else if(typeof e=="object"){if("d"in e&&"n"in e)r=BigInt(e.n),i=BigInt(e.d),"s"in e&&(r*=BigInt(e.s));else if(0 in e)r=BigInt(e[0]),1 in e&&(i=BigInt(e[1]));else if(typeof e=="bigint")r=e;else throw ft();n=r*i}else if(typeof e=="number"){if(isNaN(e))throw ft();if(e<0&&(n=-te,e=-e),e%1===0)r=BigInt(e);else{let u=1,o=0,a=1,c=1,l=1,s=1e7;for(e>=1&&(u=10**Math.floor(1+Math.log10(e)),e/=u);a<=s&&l<=s;){let h=(o+c)/(a+l);if(e===h){a+l<=s?(r=o+c,i=a+l):l>a?(r=c,i=l):(r=o,i=a);break}else e>h?(o+=c,a+=l):(c+=o,l+=a),a>s?(r=c,i=l):(r=o,i=a)}r=BigInt(r)*BigInt(u),i=BigInt(i)}}else if(typeof e=="string"){let u=0,o=Z,a=Z,c=Z,l=te,s=te,h=e.replace(/_/g,"").match(/\d+|./g);if(h===null)throw ft();if(h[u]==="-"?(n=-te,u++):h[u]==="+"&&u++,h.length===u+1?a=ot(h[u++],n):h[u+1]==="."||h[u]==="."?(h[u]!=="."&&(o=ot(h[u++],n)),u++,(u+1===h.length||h[u+1]==="("&&h[u+3]===")"||h[u+1]==="'"&&h[u+3]==="'")&&(a=ot(h[u],n),l=Ve**BigInt(h[u].length),u++),(h[u]==="("&&h[u+2]===")"||h[u]==="'"&&h[u+2]==="'")&&(c=ot(h[u+1],n),s=Ve**BigInt(h[u+1].length)-te,u+=3)):h[u+1]==="/"||h[u+1]===":"?(a=ot(h[u],n),l=ot(h[u+2],te),u+=3):h[u+3]==="/"&&h[u+1]===" "&&(o=ot(h[u],n),a=ot(h[u+2],n),l=ot(h[u+4],te),u+=5),h.length<=u)i=l*s,n=r=c+i*o+s*a;else throw ft()}else if(typeof e=="bigint")r=e,n=e,i=te;else throw ft();if(i===Z)throw Tr();U.s=n<Z?-te:te,U.n=r<Z?-r:r,U.d=i<Z?-i:i};function ma(e,t,r){let i=te;for(;t>Z;e=e*e%r,t>>=te)t&te&&(i=i*e%r);return i}function ga(e,t){for(;t%Ie===Z;t/=Ie);for(;t%Nt===Z;t/=Nt);if(t===te)return Z;let r=Ve%t,i=1;for(;r!==te;i++)if(r=r*Ve%t,i>pa)return Z;return BigInt(i)}function va(e,t,r){let i=te,n=ma(Ve,r,t);for(let u=0;u<300;u++){if(i===n)return BigInt(u);i=i*Ve%t,n=n*Ve%t}return 0}function vt(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function Je(e,t){if(xe(e,t),this instanceof Je)e=vt(U.d,U.n),this.s=U.s,this.n=U.n/e,this.d=U.d/e;else return de(U.s*U.n,U.d)}const Tr=function(){return new Error("Division by Zero")},ft=function(){return new Error("Invalid argument")},Wr=function(){return new Error("Parameters must be integer")};Je.prototype={s:te,n:Z,d:te,abs:function(){return de(this.n,this.d)},neg:function(){return de(-this.s*this.n,this.d)},add:function(e,t){return xe(e,t),de(this.s*this.n*U.d+U.s*this.d*U.n,this.d*U.d)},sub:function(e,t){return xe(e,t),de(this.s*this.n*U.d-U.s*this.d*U.n,this.d*U.d)},mul:function(e,t){return xe(e,t),de(this.s*U.s*this.n*U.n,this.d*U.d)},div:function(e,t){return xe(e,t),de(this.s*U.s*this.n*U.d,this.d*U.n)},clone:function(){return de(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return de(this.s*this.n%this.d,te);if(xe(e,t),Z===U.n*this.d)throw Tr();return de(this.s*(U.d*this.n)%(U.n*this.d),U.d*this.d)},gcd:function(e,t){return xe(e,t),de(vt(U.n,this.n)*vt(U.d,this.d),U.d*this.d)},lcm:function(e,t){return xe(e,t),U.n===Z&&this.n===Z?de(Z,te):de(U.n*this.n,vt(U.n,this.n)*vt(U.d,this.d))},inverse:function(){return de(this.s*this.d,this.n)},pow:function(e,t){if(xe(e,t),U.d===te)return U.s<Z?de((this.s*this.d)**U.n,this.n**U.n):de((this.s*this.n)**U.n,this.d**U.n);if(this.s<Z)return null;let r=yt(this.n),i=yt(this.d),n=te,u=te;for(let o in r)if(o!=="1"){if(o==="0"){n=Z;break}if(r[o]*=U.n,r[o]%U.d===Z)r[o]/=U.d;else return null;n*=BigInt(o)**r[o]}for(let o in i)if(o!=="1"){if(i[o]*=U.n,i[o]%U.d===Z)i[o]/=U.d;else return null;u*=BigInt(o)**i[o]}return U.s<Z?de(u,n):de(n,u)},log:function(e,t){if(xe(e,t),this.s<=Z||U.s<=Z)return null;const r=Object.create(null),i=yt(U.n),n=yt(U.d),u=yt(this.n),o=yt(this.d);for(const l in n)i[l]=(i[l]||Z)-n[l];for(const l in o)u[l]=(u[l]||Z)-o[l];for(const l in i)l!=="1"&&(r[l]=!0);for(const l in u)l!=="1"&&(r[l]=!0);let a=null,c=null;for(const l in r){const s=i[l]||Z,h=u[l]||Z;if(s===Z){if(h!==Z)return null;continue}let D=h,p=s;const d=vt(D,p);if(D/=d,p/=d,a===null&&c===null)a=D,c=p;else if(D*c!==a*p)return null}return a!==null&&c!==null?de(a,c):null},equals:function(e,t){return xe(e,t),this.s*this.n*U.d===U.s*U.n*this.d},lt:function(e,t){return xe(e,t),this.s*this.n*U.d<U.s*U.n*this.d},lte:function(e,t){return xe(e,t),this.s*this.n*U.d<=U.s*U.n*this.d},gt:function(e,t){return xe(e,t),this.s*this.n*U.d>U.s*U.n*this.d},gte:function(e,t){return xe(e,t),this.s*this.n*U.d>=U.s*U.n*this.d},compare:function(e,t){xe(e,t);let r=this.s*this.n*U.d-U.s*U.n*this.d;return(Z<r)-(r<Z)},ceil:function(e){return e=Ve**BigInt(e||0),de(Ke(this.s*e*this.n/this.d)+(e*this.n%this.d>Z&&this.s>=Z?te:Z),e)},floor:function(e){return e=Ve**BigInt(e||0),de(Ke(this.s*e*this.n/this.d)-(e*this.n%this.d>Z&&this.s<Z?te:Z),e)},round:function(e){return e=Ve**BigInt(e||0),de(Ke(this.s*e*this.n/this.d)+this.s*((this.s>=Z?te:Z)+Ie*(e*this.n%this.d)>this.d?te:Z),e)},roundTo:function(e,t){xe(e,t);const r=this.n*U.d,i=this.d*U.n,n=r%i;let u=Ke(r/i);return n+n>=i&&u++,de(this.s*u*U.n,U.d)},divisible:function(e,t){return xe(e,t),U.n===Z?!1:this.n*U.d%(U.n*this.d)===Z},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e=15){let t=this.n,r=this.d,i=ga(t,r),n=va(t,r,i),u=this.s<Z?"-":"";if(u+=Ke(t/r),t%=r,t*=Ve,t&&(u+="."),i){for(let o=n;o--;)u+=Ke(t/r),t%=r,t*=Ve;u+="(";for(let o=i;o--;)u+=Ke(t/r),t%=r,t*=Ve;u+=")"}else for(let o=e;t&&o--;)u+=Ke(t/r),t%=r,t*=Ve;return u},toFraction:function(e=!1){let t=this.n,r=this.d,i=this.s<Z?"-":"";if(r===te)i+=t;else{const n=Ke(t/r);e&&n>Z&&(i+=n,i+=" ",t%=r),i+=t,i+="/",i+=r}return i},toLatex:function(e=!1){let t=this.n,r=this.d,i=this.s<Z?"-":"";if(r===te)i+=t;else{const n=Ke(t/r);e&&n>Z&&(i+=n,t%=r),i+="\\frac{",i+=t,i+="}{",i+=r,i+="}"}return i},toContinued:function(){let e=this.n,t=this.d;const r=[];for(;t;){r.push(Ke(e/t));const i=e%t;e=t,t=i}return r},simplify:function(e=.001){const t=BigInt(Math.ceil(1/e)),r=this.abs(),i=r.toContinued();for(let n=1;n<i.length;n++){let u=de(i[n-1],te);for(let a=n-2;a>=0;a--)u=u.inverse().add(i[a]);let o=u.sub(r);if(o.n*t<o.d)return u.mul(this.s)}return this}};var wa="Fraction",Fa=[],Ea=re(wa,Fa,()=>(Object.defineProperty(Je,"name",{value:"Fraction"}),Je.prototype.constructor=Je,Je.prototype.type="Fraction",Je.prototype.isFraction=!0,Je.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Je.fromJSON=function(e){return new Je(e)},Je),{isClass:!0}),Aa="Matrix",Ca=[],ya=re(Aa,Ca,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,i){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,i){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function gr(e,t,r){var i=e.constructor,n=new i(2),u="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!me(r))throw new Error("size must be an integer");if(e.greaterThan(n.pow(r-1).sub(1))||e.lessThan(n.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(n.pow(r))),u="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(u);case 8:return"".concat(e.toOctal()).concat(u);case 16:return"".concat(e.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(t," not supported "))}}function ba(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:i,wordSize:n}=_n(t);switch(r){case"fixed":return Na(e,i);case"exponential":return Gr(e,i);case"engineering":return Ba(e,i);case"bin":return gr(e,2,n);case"oct":return gr(e,8,n);case"hex":return gr(e,16,n);case"auto":{var u=Jr(t?.lowerExp,-3),o=Jr(t?.upperExp,5);if(e.isZero())return"0";var a,c=e.toSignificantDigits(i),l=c.e;return l>=u&&l<o?a=c.toFixed():a=Gr(e,i),a.replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],h=arguments[4];return s!=="."?s+h:h})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ba(e,t){var r=e.e,i=r%3===0?r:r<0?r-3-r%3:r-r%3,n=e.mul(Math.pow(10,-i)),u=n.toPrecision(t);if(u.includes("e")){var o=e.constructor;u=new o(u).toFixed()}return u+"e"+(r>=0?"+":"")+i.toString()}function Gr(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function Na(e,t){return e.toFixed(t)}function Jr(e,t){return pe(e)?e:be(e)?e.toNumber():t}function _e(e,t){var r=_a(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function _a(e,t){if(typeof e=="number")return wr(e,t);if(be(e))return ba(e,t);if(Ma(e))return!t||t.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return Vn(e,t);if(tt(e))return Yr(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(i=>Yr(i)+": "+_e(e[i],t));return"{"+r.join(", ")+"}"}return String(e)}function Yr(e){for(var t=String(e),r="",i=0;i<t.length;){var n=t.charAt(i);r+=n in Xr?Xr[n]:n,i++}return'"'+r+'"'}var Xr={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Vn(e,t){if(Array.isArray(e)){for(var r="[",i=e.length,n=0;n<i;n++)n!==0&&(r+=", "),r+=Vn(e[n],t);return r+="]",r}else return _e(e,t)}function Ma(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function ge(e,t,r){if(!(this instanceof ge))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}ge.prototype=new RangeError;ge.prototype.constructor=RangeError;ge.prototype.name="DimensionError";ge.prototype.isDimensionError=!0;function It(e,t,r){if(!(this instanceof It))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}It.prototype=new RangeError;It.prototype.constructor=RangeError;It.prototype.name="IndexError";It.prototype.isIndexError=!0;function qe(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Zn(e,t,r){var i,n=e.length;if(n!==t[r])throw new ge(n,t[r]);if(r<t.length-1){var u=r+1;for(i=0;i<n;i++){var o=e[i];if(!Array.isArray(o))throw new ge(t.length-1,t.length,"<");Zn(e[i],t,u)}}else for(i=0;i<n;i++)if(Array.isArray(e[i]))throw new ge(t.length+1,t.length,">")}function Kr(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new ge(e.length,0)}else Zn(e,t,0)}function Ee(e,t){if(e!==void 0){if(!pe(e)||!me(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new It(e,t)}}function nr(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(n){if(!pe(n)||!me(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+_e(t)+")")}),(pe(e)||be(e))&&(e=[e]);var i=r!==void 0?r:0;return yr(e,t,0,i),e}function yr(e,t,r,i){var n,u,o=e.length,a=t[r],c=Math.min(o,a);if(e.length=a,r<t.length-1){var l=r+1;for(n=0;n<c;n++)u=e[n],Array.isArray(u)||(u=[u],e[n]=u),yr(u,t,l,i);for(n=c;n<a;n++)u=[],e[n]=u,yr(u,t,l,i)}else{for(n=0;n<c;n++)for(;Array.isArray(e[n]);)e[n]=e[n][0];for(n=c;n<a;n++)e[n]=i}}function kn(e,t){var r=Ta(e,!0),i=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new ge(0,i,"!=");t=xr(t,i);var n=Hn(t);if(i!==n)throw new ge(n,i,"!=");try{return Sa(r,t)}catch(u){throw u instanceof ge?new ge(n,i,"!="):u}}function xr(e,t){var r=Hn(e),i=e.slice(),n=-1,u=e.indexOf(n),o=e.indexOf(n,u+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var a=u>=0,c=t%r===0;if(a)if(c)i[u]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return i}function Hn(e){return e.reduce((t,r)=>t*r,1)}function Sa(e,t){for(var r=e,i,n=t.length-1;n>0;n--){var u=t[n];i=[];for(var o=r.length/u,a=0;a<o;a++)i.push(r.slice(a*u,(a+1)*u));r=i}return r}function Wn(e,t,r,i){var n=i||qe(e);if(r)for(var u=0;u<r;u++)e=[e],n.unshift(1);for(e=Gn(e,t,0);n.length<t;)n.push(1);return e}function Gn(e,t,r){var i,n;if(Array.isArray(e)){var u=r+1;for(i=0,n=e.length;i<n;i++)e[i]=Gn(e[i],t,u)}else for(var o=r;o<t;o++)e=[e];return e}function Ta(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(e))return e;if(typeof t!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var r=[];return t?n(e):i(e),r;function i(u){for(var o=0;o<u.length;o++){var a=u[o];Array.isArray(a)?i(a):r.push(a)}}function n(u){if(Array.isArray(u[0]))for(var o=0;o<u.length;o++)n(u[o]);else for(var a=0;a<u.length;a++)r.push(u[a])}}function Ir(e,t){for(var r,i=0,n=0;n<e.length;n++){var u=e[n],o=Array.isArray(u);if(n===0&&o&&(i=u.length),o&&u.length!==i)return;var a=o?Ir(u,t):t(u);if(r===void 0)r=a;else if(r!==a)return"mixed"}return r}function Jn(e,t,r,i){if(i<r){if(e.length!==t.length)throw new ge(e.length,t.length);for(var n=[],u=0;u<e.length;u++)n[u]=Jn(e[u],t[u],r,i+1);return n}else return e.concat(t)}function xa(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,i){return Jn(r,i,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Ia(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var i=t.map(D=>D.length),n=Math.max(...i),u=new Array(n).fill(null),o=0;o<t.length;o++)for(var a=t[o],c=i[o],l=0;l<c;l++){var s=n-c+l;a[l]>u[s]&&(u[s]=a[l])}for(var h=0;h<t.length;h++)Yn(t[h],u);return u}function Yn(e,t){for(var r=t.length,i=e.length,n=0;n<i;n++){var u=r-i+n;if(e[n]<t[u]&&e[n]>1||e[n]>t[u])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(i," with size ").concat(e[n]," to size ").concat(t[u]))}}function Qr(e,t){var r=qe(e);if(Mt(r,t))return e;Yn(r,t);var i=Ia(r,t),n=i.length,u=[...Array(n-r.length).fill(1),...r],o=za(e);r.length<n&&(o=kn(o,u),r=qe(o));for(var a=0;a<n;a++)r[a]<i[a]&&(o=Oa(o,i[a],a),r=qe(o));return o}function Oa(e,t,r){return xa(...Array(t).fill(e),r)}function Xn(e,t){if(!Array.isArray(e))throw new Error("Array expected");var r=qe(e);if(t.length!==r.length)throw new ge(t.length,r.length);for(var i=0;i<t.length;i++)Ee(t[i],r[i]);return t.reduce((n,u)=>n[u],e)}function en(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.length===0)return[];if(r)return u(e);var i=[];return n(e,0);function n(o,a){if(Array.isArray(o)){for(var c=o.length,l=Array(c),s=0;s<c;s++)i[a]=s,l[s]=n(o[s],a+1);return l}else return t(o,i.slice(0,a),e)}function u(o){if(Array.isArray(o)){for(var a=o.length,c=Array(a),l=0;l<a;l++)c[l]=u(o[l]);return c}else return t(o)}}function za(e){return Jt([],e)}function ir(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Qt.isTypedFunction(e)){var n;if(i)n=1;else{var u=(t.isMatrix?t.size():qe(t)).map(()=>0),o=t.isMatrix?t.get(u):Xn(t,u);n=Ra(e,o,u,t)}var a;if(t.isMatrix&&t.dataType!=="mixed"&&t.dataType!==void 0){var c=Pa(e,n);a=c!==void 0?c:e}else a=e;return n>=1&&n<=3?{isUnary:n===1,fn:function(){for(var s=arguments.length,h=new Array(s),D=0;D<s;D++)h[D]=arguments[D];return tn(a,h.slice(0,n),r,e.name)}}:{isUnary:!1,fn:function(){for(var s=arguments.length,h=new Array(s),D=0;D<s;D++)h[D]=arguments[D];return tn(a,h,r,e.name)}}}return i===void 0?{isUnary:$a(e),fn:e}:{isUnary:i,fn:e}}function Pa(e,t){var r=[];if(Object.entries(e.signatures).forEach(i=>{var[n,u]=i;n.split(",").length===t&&r.push(u)}),r.length===1)return r[0]}function $a(e){if(e.length!==1)return!1;var t=e.toString();if(/arguments/.test(t))return!1;var r=t.match(/\(.*?\)/);return!/\.\.\./.test(r)}function Ra(e,t,r,i){for(var n=[t,r,i],u=3;u>0;u--){var o=n.slice(0,u);if(Qt.resolve(e,o)!==null)return u}}function tn(e,t,r,i){try{return e(...t)}catch(n){Ua(n,t,r,i)}}function Ua(e,t,r,i){var n;if(e instanceof TypeError&&((n=e.data)===null||n===void 0?void 0:n.category)==="wrongType"){var u=[];throw u.push("value: ".concat(ht(t[0]))),t.length>=2&&u.push("index: ".concat(ht(t[1]))),t.length>=3&&u.push("array: ".concat(ht(t[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(i,"(").concat(u.join(", "),") at index ").concat(JSON.stringify(t[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(i,": ").concat(e.message))}var qa="DenseMatrix",La=["Matrix"],ja=re(qa,La,e=>{var{Matrix:t}=e;function r(s,h){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(h&&!tt(h))throw new Error("Invalid datatype: "+h);if(ye(s))s.type==="DenseMatrix"?(this._data=Ce(s._data),this._size=Ce(s._size),this._datatype=h||s._datatype):(this._data=s.toArray(),this._size=s.size(),this._datatype=h||s._datatype);else if(s&&Me(s.data)&&Me(s.size))this._data=s.data,this._size=s.size,Kr(this._data,this._size),this._datatype=h||s.datatype;else if(Me(s))this._data=l(s),this._size=qe(this._data),Kr(this._data,this._size),this._datatype=h;else{if(s)throw new TypeError("Unsupported type of data ("+ht(s)+")");this._data=[],this._size=[0],this._datatype=h}}r.prototype=new t,r.prototype.createDenseMatrix=function(s,h){return new r(s,h)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Ir(this._data,ht)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(s,h){return new r(s,h)},r.prototype.subset=function(s,h,D){switch(arguments.length){case 1:return i(this,s);case 2:case 3:return u(this,s,h,D);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(s){return Xn(this._data,s)},r.prototype.set=function(s,h,D){if(!Me(s))throw new TypeError("Array expected");if(s.length<this._size.length)throw new ge(s.length,this._size.length,"<");var p,d,f,g=s.map(function(y){return y+1});c(this,g,D);var F=this._data;for(p=0,d=s.length-1;p<d;p++)f=s[p],Ee(f,F.length),F=F[f];return f=s[s.length-1],Ee(f,F.length),F[f]=h,this};function i(s,h){if(!_r(h))throw new TypeError("Invalid index");var D=h.isScalar();if(D)return s.get(h.min());var p=h.size();if(p.length!==s._size.length)throw new ge(p.length,s._size.length);for(var d=h.min(),f=h.max(),g=0,F=s._size.length;g<F;g++)Ee(d[g],s._size[g]),Ee(f[g],s._size[g]);var y=new r([]),E=n(s._data,h);return y._size=E.size,y._datatype=s._datatype,y._data=E.data,y}function n(s,h){var D=h.size().length-1,p=Array(D);return{data:d(s),size:p};function d(f){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=h.dimension(g);return p[g]=F.size()[0],g<D?F.map(y=>(Ee(y,f.length),d(f[y],g+1))).valueOf():F.map(y=>(Ee(y,f.length),f[y])).valueOf()}}function u(s,h,D,p){if(!h||h.isIndex!==!0)throw new TypeError("Invalid index");var d=h.size(),f=h.isScalar(),g;if(ye(D)?(g=D.size(),D=D.valueOf()):g=qe(D),f){if(g.length!==0)throw new TypeError("Scalar expected");s.set(h.min(),D,p)}else{if(!Mt(g,d))try{g.length===0?D=Qr([D],d):D=Qr(D,d),g=qe(D)}catch{}if(d.length<s._size.length)throw new ge(d.length,s._size.length,"<");if(g.length<d.length){for(var F=0,y=0;d[F]===1&&g[F]===1;)F++;for(;d[F]===1;)y++,F++;D=Wn(D,d.length,y,g)}if(!Mt(d,g))throw new ge(d,g,">");var E=h.max().map(function(b){return b+1});c(s,E,p),o(s._data,h,D)}return s}function o(s,h,D){var p=h.size().length-1;d(s,D);function d(f,g){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=h.dimension(F);F<p?y.forEach((E,b)=>{Ee(E,f.length),d(f[E],g[b[0]],F+1)}):y.forEach((E,b)=>{Ee(E,f.length),f[E]=g[b[0]]})}}r.prototype.resize=function(s,h,D){if(!Xt(s))throw new TypeError("Array or Matrix expected");var p=s.valueOf().map(f=>Array.isArray(f)&&f.length===1?f[0]:f),d=D?this.clone():this;return a(d,p,h)};function a(s,h,D){if(h.length===0){for(var p=s._data;Me(p);)p=p[0];return p}return s._size=h.slice(0),s._data=nr(s._data,s._size,D),s}r.prototype.reshape=function(s,h){var D=h?this.clone():this;D._data=kn(D._data,s);var p=D._size.reduce((d,f)=>d*f);return D._size=xr(s,p),D};function c(s,h,D){for(var p=s._size.slice(0),d=!1;p.length<h.length;)p.push(0),d=!0;for(var f=0,g=h.length;f<g;f++)h[f]>p[f]&&(p[f]=h[f],d=!0);d&&a(s,p,D)}r.prototype.clone=function(){var s=new r({data:Ce(this._data),size:Ce(this._size),datatype:this._datatype});return s},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(s){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,D=this,p=D._size.length-1;if(p<0)return D.clone();var d=ir(s,D,"map",h),f=d.fn,g=D.create(void 0,D._datatype);if(g._size=D._size,h||d.isUnary)return g._data=m(D._data),g;if(p===0){for(var F=D.valueOf(),y=Array(F.length),E=0;E<F.length;E++)y[E]=f(F[E],[E],D);return g._data=y,g}var b=[];return g._data=w(D._data),g;function w(A){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=Array(A.length);if(B<p)for(var S=0;S<A.length;S++)b[B]=S,N[S]=w(A[S],B+1);else for(var x=0;x<A.length;x++)b[B]=x,N[x]=f(A[x],b.slice(),D);return N}function m(A){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=Array(A.length);if(B<p)for(var S=0;S<A.length;S++)N[S]=m(A[S],B+1);else for(var x=0;x<A.length;x++)N[x]=f(A[x]);return N}},r.prototype.forEach=function(s){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,D=this,p=D._size.length-1;if(p<0)return;var d=ir(s,D,"map",h),f=d.fn;if(h||d.isUnary){E(D._data);return}if(p===0){for(var g=0;g<D._data.length;g++)f(D._data[g],[g],D);return}var F=[];y(D._data);function y(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(w<p)for(var m=0;m<b.length;m++)F[w]=m,y(b[m],w+1);else for(var A=0;A<b.length;A++)F[w]=A,f(b[A],F.slice(),D)}function E(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(w<p)for(var m=0;m<b.length;m++)E(b[m],w+1);else for(var A=0;A<b.length;A++)f(b[A])}},r.prototype[Symbol.iterator]=function*(){var s=this._size.length-1;if(!(s<0)){if(s===0){for(var h=0;h<this._data.length;h++)yield{value:this._data[h],index:[h]};return}for(var D=Array(s+1).fill(0),p=this._size.reduce((y,E)=>y*E,1),d=0;d<p;d++){for(var f=this._data,g=0;g<s;g++)f=f[D[g]];yield{value:f[D[s]],index:D.slice()};for(var F=s;F>=0&&(D[F]++,!(D[F]<this._size[F]));F--)D[F]=0}}},r.prototype.rows=function(){var s=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var D=this._data;for(var p of D)s.push(new r([p],this._datatype));return s},r.prototype.columns=function(){var s=this,h=[],D=this.size();if(D.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,d=function(F){var y=p.map(E=>[E[F]]);h.push(new r(y,s._datatype))},f=0;f<D[1];f++)d(f);return h},r.prototype.toArray=function(){return Ce(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(s){return _e(this._data,s)},r.prototype.toString=function(){return _e(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(s){if(s){if(be(s)&&(s=s.toNumber()),!pe(s)||!me(s))throw new TypeError("The parameter k must be an integer number")}else s=0;for(var h=s>0?s:0,D=s<0?-s:0,p=this._size[0],d=this._size[1],f=Math.min(p-D,d-h),g=[],F=0;F<f;F++)g[F]=this._data[F+D][F+h];return new r({data:g,size:[f],datatype:this._datatype})},r.diagonal=function(s,h,D,p){if(!Me(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(A){if(be(A)&&(A=A.toNumber()),!pe(A)||!me(A)||A<1)throw new Error("Size values must be positive integers");return A}),D){if(be(D)&&(D=D.toNumber()),!pe(D)||!me(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var d=D>0?D:0,f=D<0?-D:0,g=s[0],F=s[1],y=Math.min(g-f,F-d),E;if(Me(h)){if(h.length!==y)throw new Error("Invalid value array length");E=function(B){return h[B]}}else if(ye(h)){var b=h.size();if(b.length!==1||b[0]!==y)throw new Error("Invalid matrix length");E=function(B){return h.get([B])}}else E=function(){return h};p||(p=be(E(0))?E(0).mul(0):0);var w=[];if(s.length>0){w=nr(w,s,p);for(var m=0;m<y;m++)w[m+f][m+d]=E(m)}return new r({data:w,size:[g,F]})},r.fromJSON=function(s){return new r(s)},r.prototype.swapRows=function(s,h){if(!pe(s)||!me(s)||!pe(h)||!me(h))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ee(s,this._size[0]),Ee(h,this._size[0]),r._swapRows(s,h,this._data),this},r._swapRows=function(s,h,D){var p=D[s];D[s]=D[h],D[h]=p};function l(s){return ye(s)?l(s.valueOf()):Me(s)?s.map(l):s}return r},{isClass:!0});function st(e,t,r){if(!r)return ye(e)?e.map(n=>t(n),!1,!0):en(e,t,!0);var i=n=>n===0?n:t(n);return ye(e)?e.map(n=>i(n),!1,!0):en(e,i,!0)}var Kn="number",cr="number, number";function Qn(e){return Math.abs(e)}Qn.signature=Kn;function ei(e,t){return e+t}ei.signature=cr;function ti(e,t){return e-t}ti.signature=cr;function ri(e,t){return e*t}ri.signature=cr;function ni(e){return-e}ni.signature=Kn;function ii(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}ii.signature=cr;function Pt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!me(t)||t<0||t>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Mn(e,t))}function br(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||t.isNaN()?!1:!e.isFinite()||!t.isFinite()?e.eq(t):e.eq(t)?!0:e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),i))}var rn="isZero",Va=["typed","equalScalar"],Za=re(rn,Va,e=>{var{typed:t,equalScalar:r}=e;return t(rn,{"number | BigNumber | Complex | Fraction":i=>r(i,0),bigint:i=>i===0n,Unit:t.referToSelf(i=>n=>t.find(i,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(i=>n=>st(n,i))})});function ka(e,t,r,i){return St(e.re,t.re,r,i)&&St(e.im,t.im,r,i)}var Ha=re("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(i,n)=>{if(!i.equalBase(n))throw new Error("Cannot compare units with different base");return t.find(r,[i.valueType(),n.valueType()])(i.value,n.value)})}}),ur="equalScalar",Wa=["typed","config"],Ga=re(ur,Wa,e=>{var{typed:t,config:r}=e,i=Ha({typed:t});return t(ur,{"boolean, boolean":function(u,o){return u===o},"number, number":function(u,o){return St(u,o,r.relTol,r.absTol)},"BigNumber, BigNumber":function(u,o){return u.eq(o)||br(u,o,r.relTol,r.absTol)},"bigint, bigint":function(u,o){return u===o},"Fraction, Fraction":function(u,o){return u.equals(o)},"Complex, Complex":function(u,o){return ka(u,o,r.relTol,r.absTol)}},i)});re(ur,["typed","config"],e=>{var{typed:t,config:r}=e;return t(ur,{"number, number":function(n,u){return St(n,u,r.relTol,r.absTol)}})});var Ja="SparseMatrix",Ya=["typed","equalScalar","Matrix"],Xa=re(Ja,Ya,e=>{var{typed:t,equalScalar:r,Matrix:i}=e;function n(f,g){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!tt(g))throw new Error("Invalid datatype: "+g);if(ye(f))u(this,f,g);else if(f&&Me(f.index)&&Me(f.ptr)&&Me(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=g||f.datatype;else if(Me(f))o(this,f,g);else{if(f)throw new TypeError("Unsupported type of data ("+ht(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function u(f,g,F){g.type==="SparseMatrix"?(f._values=g._values?Ce(g._values):void 0,f._index=Ce(g._index),f._ptr=Ce(g._ptr),f._size=Ce(g._size),f._datatype=F||g._datatype):o(f,g.valueOf(),F||g._datatype)}function o(f,g,F){f._values=[],f._index=[],f._ptr=[],f._datatype=F;var y=g.length,E=0,b=r,w=0;if(tt(F)&&(b=t.find(r,[F,F])||r,w=t.convert(0,F)),y>0){var m=0;do{f._ptr.push(f._index.length);for(var A=0;A<y;A++){var B=g[A];if(Me(B)){if(m===0&&E<B.length&&(E=B.length),m<B.length){var N=B[m];b(N,w)||(f._values.push(N),f._index.push(A))}}else m===0&&E<1&&(E=1),b(B,w)||(f._values.push(B),f._index.push(A))}m++}while(m<E)}f._ptr.push(f._index.length),f._size=[y,E]}n.prototype=new i,n.prototype.createSparseMatrix=function(f,g){return new n(f,g)},Object.defineProperty(n,"name",{value:"SparseMatrix"}),n.prototype.constructor=n,n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return Ir(this._values,ht)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(f,g){return new n(f,g)},n.prototype.density=function(){var f=this._size[0],g=this._size[1];return f!==0&&g!==0?this._index.length/(f*g):0},n.prototype.subset=function(f,g,F){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,f);case 2:case 3:return c(this,f,g,F);default:throw new SyntaxError("Wrong number of arguments")}};function a(f,g){if(!_r(g))throw new TypeError("Invalid index");var F=g.isScalar();if(F)return f.get(g.min());var y=g.size();if(y.length!==f._size.length)throw new ge(y.length,f._size.length);var E,b,w,m,A=g.min(),B=g.max();for(E=0,b=f._size.length;E<b;E++)Ee(A[E],f._size[E]),Ee(B[E],f._size[E]);var N=f._values,S=f._index,x=f._ptr,q=g.dimension(0),k=g.dimension(1),H=[],V=[];q.forEach(function(Y,ee){V[Y]=ee[0],H[Y]=!0});var R=N?[]:void 0,K=[],J=[];return k.forEach(function(Y){for(J.push(K.length),w=x[Y],m=x[Y+1];w<m;w++)E=S[w],H[E]===!0&&(K.push(V[E]),R&&R.push(N[w]))}),J.push(K.length),new n({values:R,index:K,ptr:J,size:y,datatype:f._datatype})}function c(f,g,F,y){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var E=g.size(),b=g.isScalar(),w;if(ye(F)?(w=F.size(),F=F.toArray()):w=qe(F),b){if(w.length!==0)throw new TypeError("Scalar expected");f.set(g.min(),F,y)}else{if(E.length!==1&&E.length!==2)throw new ge(E.length,f._size.length,"<");if(w.length<E.length){for(var m=0,A=0;E[m]===1&&w[m]===1;)m++;for(;E[m]===1;)A++,m++;F=Wn(F,E.length,A,w)}if(!Mt(E,w))throw new ge(E,w,">");if(E.length===1){var B=g.dimension(0);B.forEach(function(x,q){Ee(x),f.set([x,0],F[q[0]],y)})}else{var N=g.dimension(0),S=g.dimension(1);N.forEach(function(x,q){Ee(x),S.forEach(function(k,H){Ee(k),f.set([x,k],F[q[0]][H[0]],y)})})}}return f}n.prototype.get=function(f){if(!Me(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new ge(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=f[0],F=f[1];Ee(g,this._size[0]),Ee(F,this._size[1]);var y=l(g,this._ptr[F],this._ptr[F+1],this._index);return y<this._ptr[F+1]&&this._index[y]===g?this._values[y]:0},n.prototype.set=function(f,g,F){if(!Me(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new ge(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=f[0],E=f[1],b=this._size[0],w=this._size[1],m=r,A=0;tt(this._datatype)&&(m=t.find(r,[this._datatype,this._datatype])||r,A=t.convert(0,this._datatype)),(y>b-1||E>w-1)&&(D(this,Math.max(y+1,b),Math.max(E+1,w),F),b=this._size[0],w=this._size[1]),Ee(y,b),Ee(E,w);var B=l(y,this._ptr[E],this._ptr[E+1],this._index);return B<this._ptr[E+1]&&this._index[B]===y?m(g,A)?s(B,E,this._values,this._index,this._ptr):this._values[B]=g:m(g,A)||h(B,y,E,g,this._values,this._index,this._ptr),this};function l(f,g,F,y){if(F-g===0)return F;for(var E=g;E<F;E++)if(y[E]===f)return E;return g}function s(f,g,F,y,E){F.splice(f,1),y.splice(f,1);for(var b=g+1;b<E.length;b++)E[b]--}function h(f,g,F,y,E,b,w){E.splice(f,0,y),b.splice(f,0,g);for(var m=F+1;m<w.length;m++)w[m]++}n.prototype.resize=function(f,g,F){if(!Xt(f))throw new TypeError("Array or Matrix expected");var y=f.valueOf().map(b=>Array.isArray(b)&&b.length===1?b[0]:b);if(y.length!==2)throw new Error("Only two dimensions matrix are supported");y.forEach(function(b){if(!pe(b)||!me(b)||b<0)throw new TypeError("Invalid size, must contain positive integers (size: "+_e(y)+")")});var E=F?this.clone():this;return D(E,y[0],y[1],g)};function D(f,g,F,y){var E=y||0,b=r,w=0;tt(f._datatype)&&(b=t.find(r,[f._datatype,f._datatype])||r,w=t.convert(0,f._datatype),E=t.convert(E,f._datatype));var m=!b(E,w),A=f._size[0],B=f._size[1],N,S,x;if(F>B){for(S=B;S<F;S++)if(f._ptr[S]=f._values.length,m)for(N=0;N<A;N++)f._values.push(E),f._index.push(N);f._ptr[F]=f._values.length}else F<B&&(f._ptr.splice(F+1,B-F),f._values.splice(f._ptr[F],f._values.length),f._index.splice(f._ptr[F],f._index.length));if(B=F,g>A){if(m){var q=0;for(S=0;S<B;S++){f._ptr[S]=f._ptr[S]+q,x=f._ptr[S+1]+q;var k=0;for(N=A;N<g;N++,k++)f._values.splice(x+k,0,E),f._index.splice(x+k,0,N),q++}f._ptr[B]=f._values.length}}else if(g<A){var H=0;for(S=0;S<B;S++){f._ptr[S]=f._ptr[S]-H;var V=f._ptr[S],R=f._ptr[S+1]-H;for(x=V;x<R;x++)N=f._index[x],N>g-1&&(f._values.splice(x,1),f._index.splice(x,1),H++)}f._ptr[S]=f._values.length}return f._size[0]=g,f._size[1]=F,f}n.prototype.reshape=function(f,g){if(!Me(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(Y){if(!pe(Y)||!me(Y)||Y<=-2||Y===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+_e(f)+")")});var F=this._size[0]*this._size[1];f=xr(f,F);var y=f[0]*f[1];if(F!==y)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var E=g?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return E;for(var b=[],w=0;w<E._ptr.length;w++)for(var m=0;m<E._ptr[w+1]-E._ptr[w];m++)b.push(w);for(var A=E._values.slice(),B=E._index.slice(),N=0;N<E._index.length;N++){var S=B[N],x=b[N],q=S*E._size[1]+x;b[N]=q%f[1],B[N]=Math.floor(q/f[1])}E._values.length=0,E._index.length=0,E._ptr.length=f[1]+1,E._size=f.slice();for(var k=0;k<E._ptr.length;k++)E._ptr[k]=0;for(var H=0;H<A.length;H++){var V=B[H],R=b[H],K=A[H],J=l(V,E._ptr[R],E._ptr[R+1],E._index);h(J,V,R,K,E._values,E._index,E._ptr)}return E},n.prototype.clone=function(){var f=new n({values:this._values?Ce(this._values):void 0,index:Ce(this._index),ptr:Ce(this._ptr),size:Ce(this._size),datatype:this._datatype});return f},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(f,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var F=this,y=this._size[0],E=this._size[1],b=ir(f,F,"map"),w=function(A,B,N){return b.fn(A,[B,N],F)};return p(this,0,y-1,0,E-1,w,g)};function p(f,g,F,y,E,b,w){var m=[],A=[],B=[],N=r,S=0;tt(f._datatype)&&(N=t.find(r,[f._datatype,f._datatype])||r,S=t.convert(0,f._datatype));for(var x=function(se,Be,Ae){var Fe=b(se,Be,Ae);N(Fe,S)||(m.push(Fe),A.push(Be))},q=y;q<=E;q++){B.push(m.length);var k=f._ptr[q],H=f._ptr[q+1];if(w)for(var V=k;V<H;V++){var R=f._index[V];R>=g&&R<=F&&x(f._values[V],R-g,q-y)}else{for(var K={},J=k;J<H;J++){var Y=f._index[J];K[Y]=f._values[J]}for(var ee=g;ee<=F;ee++){var ue=ee in K?K[ee]:0;x(ue,ee-g,q-y)}}}return B.push(m.length),new n({values:m,index:A,ptr:B,size:[F-g+1,E-y+1]})}n.prototype.forEach=function(f,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var F=this,y=this._size[0],E=this._size[1],b=ir(f,F,"forEach"),w=0;w<E;w++){var m=this._ptr[w],A=this._ptr[w+1];if(g)for(var B=m;B<A;B++){var N=this._index[B];b.fn(this._values[B],[N,w],F)}else{for(var S={},x=m;x<A;x++){var q=this._index[x];S[q]=this._values[x]}for(var k=0;k<y;k++){var H=k in S?S[k]:0;b.fn(H,[k,w],F)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],g=0;g<f;g++)for(var F=this._ptr[g],y=this._ptr[g+1],E=F;E<y;E++){var b=this._index[E];yield{value:this._values[E],index:[b,g]}}},n.prototype.toArray=function(){return d(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return d(this._values,this._index,this._ptr,this._size,!1)};function d(f,g,F,y,E){var b=y[0],w=y[1],m=[],A,B;for(A=0;A<b;A++)for(m[A]=[],B=0;B<w;B++)m[A][B]=0;for(B=0;B<w;B++)for(var N=F[B],S=F[B+1],x=N;x<S;x++)A=g[x],m[A][B]=f?E?Ce(f[x]):f[x]:1;return m}return n.prototype.format=function(f){for(var g=this._size[0],F=this._size[1],y=this.density(),E="Sparse Matrix ["+_e(g,f)+" x "+_e(F,f)+"] density: "+_e(y,f)+`
`,b=0;b<F;b++)for(var w=this._ptr[b],m=this._ptr[b+1],A=w;A<m;A++){var B=this._index[A];E+=`
    (`+_e(B,f)+", "+_e(b,f)+") ==> "+(this._values?_e(this._values[A],f):"X")}return E},n.prototype.toString=function(){return _e(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(f){if(f){if(be(f)&&(f=f.toNumber()),!pe(f)||!me(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var g=f>0?f:0,F=f<0?-f:0,y=this._size[0],E=this._size[1],b=Math.min(y-F,E-g),w=[],m=[],A=[];A[0]=0;for(var B=g;B<E&&w.length<b;B++)for(var N=this._ptr[B],S=this._ptr[B+1],x=N;x<S;x++){var q=this._index[x];if(q===B-g+F){w.push(this._values[x]),m[w.length-1]=q-F;break}}return A.push(w.length),new n({values:w,index:m,ptr:A,size:[b,1]})},n.fromJSON=function(f){return new n(f)},n.diagonal=function(f,g,F,y,E){if(!Me(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(Y){if(be(Y)&&(Y=Y.toNumber()),!pe(Y)||!me(Y)||Y<1)throw new Error("Size values must be positive integers");return Y}),F){if(be(F)&&(F=F.toNumber()),!pe(F)||!me(F))throw new TypeError("The parameter k must be an integer number")}else F=0;var b=r,w=0;tt(E)&&(b=t.find(r,[E,E])||r,w=t.convert(0,E));var m=F>0?F:0,A=F<0?-F:0,B=f[0],N=f[1],S=Math.min(B-A,N-m),x;if(Me(g)){if(g.length!==S)throw new Error("Invalid value array length");x=function(ee){return g[ee]}}else if(ye(g)){var q=g.size();if(q.length!==1||q[0]!==S)throw new Error("Invalid matrix length");x=function(ee){return g.get([ee])}}else x=function(){return g};for(var k=[],H=[],V=[],R=0;R<N;R++){V.push(k.length);var K=R-m;if(K>=0&&K<S){var J=x(K);b(J,w)||(H.push(K+A),k.push(J))}}return V.push(k.length),new n({values:k,index:H,ptr:V,size:[B,N]})},n.prototype.swapRows=function(f,g){if(!pe(f)||!me(f)||!pe(g)||!me(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ee(f,this._size[0]),Ee(g,this._size[0]),n._swapRows(f,g,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(f,g,F,y,E){for(var b=y[f],w=y[f+1],m=b;m<w;m++)E(F[m],g[m])},n._swapRows=function(f,g,F,y,E,b){for(var w=0;w<F;w++){var m=b[w],A=b[w+1],B=l(f,m,A,E),N=l(g,m,A,E);if(B<A&&N<A&&E[B]===f&&E[N]===g){if(y){var S=y[B];y[B]=y[N],y[N]=S}continue}if(B<A&&E[B]===f&&(N>=A||E[N]!==g)){var x=y?y[B]:void 0;E.splice(N,0,g),y&&y.splice(N,0,x),E.splice(N<=B?B+1:B,1),y&&y.splice(N<=B?B+1:B,1);continue}if(N<A&&E[N]===g&&(B>=A||E[B]!==f)){var q=y?y[N]:void 0;E.splice(B,0,f),y&&y.splice(B,0,q),E.splice(B<=N?N+1:N,1),y&&y.splice(B<=N?N+1:N,1)}}},n},{isClass:!0}),Ka="number",Qa=["typed"];function es(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],i=t[2],n=t[3];return{input:e,radix:r,integerPart:i,fractionalPart:n}}else return null}function ts(e){for(var t=parseInt(e.integerPart,e.radix),r=0,i=0;i<e.fractionalPart.length;i++){var n=parseInt(e.fractionalPart[i],e.radix);r+=n/Math.pow(e.radix,i+1)}var u=t+r;if(isNaN(u))throw new SyntaxError('String "'+e.input+'" is not a valid number');return u}var rs=re(Ka,Qa,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var u=es(n);if(u)return ts(u);var o=0,a=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);a&&(o=Number(a[2]),n=a[1]);var c=Number(n);if(isNaN(c))throw new SyntaxError('String "'+n+'" is not a valid number');if(a){if(c>2**o-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));c>=2**(o-1)&&(c=c-2**o)}return c},BigNumber:function(n){return n.toNumber()},bigint:function(n){return Number(n)},Fraction:function(n){return n.valueOf()},Unit:t.referToSelf(i=>n=>{var u=n.clone();return u.value=i(n.value),u}),null:function(n){return 0},"Unit, string | Unit":function(n,u){return n.toNumber(u)},"Array | Matrix":t.referToSelf(i=>n=>st(n,i))});return r.fromJSON=function(i){return parseFloat(i.value)},r}),ns="bignumber",is=["typed","BigNumber"],us=re(ns,is,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(n){return new r(n+"")},string:function(n){var u=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var o=u[2],a=r(u[1]),c=new r(2).pow(Number(o));if(a.gt(c.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var l=new r(2).pow(Number(o)-1);return a.gte(l)?a.sub(c):a}return new r(n)},BigNumber:function(n){return n},bigint:function(n){return new r(n.toString())},Unit:t.referToSelf(i=>n=>{var u=n.clone();return u.value=i(n.value),u}),Fraction:function(n){return new r(String(n.n)).div(String(n.d)).times(String(n.s))},null:function(n){return new r(0)},"Array | Matrix":t.referToSelf(i=>n=>st(n,i))})}),os="fraction",as=["typed","Fraction"],ss=re(os,as,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new r(n)},string:function(n){return new r(n)},"number, number":function(n,u){return new r(n,u)},"bigint, bigint":function(n,u){return new r(n,u)},null:function(n){return new r(0)},BigNumber:function(n){return new r(n.toString())},bigint:function(n){return new r(n.toString())},Fraction:function(n){return n},Unit:t.referToSelf(i=>n=>{var u=n.clone();return u.value=i(n.value),u}),Object:function(n){return new r(n)},"Array | Matrix":t.referToSelf(i=>n=>st(n,i))})}),nn="matrix",fs=["typed","Matrix","DenseMatrix","SparseMatrix"],cs=re(nn,fs,e=>{var{typed:t,Matrix:r,DenseMatrix:i,SparseMatrix:n}=e;return t(nn,{"":function(){return u([])},string:function(a){return u([],a)},"string, string":function(a,c){return u([],a,c)},Array:function(a){return u(a)},Matrix:function(a){return u(a,a.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(o,a,c){if(a==="dense"||a==="default"||a===void 0)return new i(o,c);if(a==="sparse")return new n(o,c);throw new TypeError("Unknown matrix type "+JSON.stringify(a)+".")}}),un="unaryMinus",ls=["typed"],hs=re(un,ls,e=>{var{typed:t}=e;return t(un,{number:ni,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:t.referToSelf(r=>i=>{var n=i.clone();return n.value=t.find(r,n.valueType())(i.value),n}),"Array | Matrix":t.referToSelf(r=>i=>st(i,r,!0))})}),on="abs",Ds=["typed"],ps=re(on,Ds,e=>{var{typed:t}=e;return t(on,{number:Qn,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":t.referToSelf(r=>i=>st(i,r,!0))})}),an="addScalar",ds=["typed"],ms=re(an,ds,e=>{var{typed:t}=e;return t(an,{"number, number":ei,"Complex, Complex":function(i,n){return i.add(n)},"BigNumber, BigNumber":function(i,n){return i.plus(n)},"bigint, bigint":function(i,n){return i+n},"Fraction, Fraction":function(i,n){return i.add(n)},"Unit, Unit":t.referToSelf(r=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var u=i.clone();return u.value=t.find(r,[u.valueType(),n.valueType()])(u.value,n.value),u.fixPrefix=!1,u})})}),sn="subtractScalar",gs=["typed"],vs=re(sn,gs,e=>{var{typed:t}=e;return t(sn,{"number, number":ti,"Complex, Complex":function(i,n){return i.sub(n)},"BigNumber, BigNumber":function(i,n){return i.minus(n)},"bigint, bigint":function(i,n){return i-n},"Fraction, Fraction":function(i,n){return i.sub(n)},"Unit, Unit":t.referToSelf(r=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var u=i.clone();return u.value=t.find(r,[u.valueType(),n.valueType()])(u.value,n.value),u.fixPrefix=!1,u})})}),ws="matAlgo11xS0s",Fs=["typed","equalScalar"],ui=re(ws,Fs,e=>{var{typed:t,equalScalar:r}=e;return function(n,u,o,a){var c=n._values,l=n._index,s=n._ptr,h=n._size,D=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=h[0],d=h[1],f,g=r,F=0,y=o;typeof D=="string"&&(f=D,g=t.find(r,[f,f]),F=t.convert(0,f),u=t.convert(u,f),y=t.find(o,[f,f]));for(var E=[],b=[],w=[],m=0;m<d;m++){w[m]=b.length;for(var A=s[m],B=s[m+1],N=A;N<B;N++){var S=l[N],x=a?y(u,c[N]):y(c[N],u);g(x,F)||(b.push(S),E.push(x))}}return w[d]=b.length,n.createSparseMatrix({values:E,index:b,ptr:w,size:[p,d],datatype:f})}}),Es="matAlgo12xSfs",As=["typed","DenseMatrix"],Cs=re(Es,As,e=>{var{typed:t,DenseMatrix:r}=e;return function(n,u,o,a){var c=n._values,l=n._index,s=n._ptr,h=n._size,D=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=h[0],d=h[1],f,g=o;typeof D=="string"&&(f=D,u=t.convert(u,f),g=t.find(o,[f,f]));for(var F=[],y=[],E=[],b=0;b<d;b++){for(var w=b+1,m=s[b],A=s[b+1],B=m;B<A;B++){var N=l[B];y[N]=c[B],E[N]=w}for(var S=0;S<p;S++)b===0&&(F[S]=[]),E[S]===w?F[S][b]=a?g(u,y[S]):g(y[S],u):F[S][b]=a?g(u,0):g(0,u)}return new r({data:F,size:[p,d],datatype:f})}}),ys="matAlgo14xDs",bs=["typed"],oi=re(ys,bs,e=>{var{typed:t}=e;return function(n,u,o,a){var c=n._data,l=n._size,s=n._datatype,h,D=o;typeof s=="string"&&(h=s,u=t.convert(u,h),D=t.find(o,[h,h]));var p=l.length>0?r(D,0,l,l[0],c,u,a):[];return n.createDenseMatrix({data:p,size:Ce(l),datatype:h})};function r(i,n,u,o,a,c,l){var s=[];if(n===u.length-1)for(var h=0;h<o;h++)s[h]=l?i(c,a[h]):i(a[h],c);else for(var D=0;D<o;D++)s[D]=r(i,n+1,u,u[n+1],a[D],c,l);return s}}),Bs="multiplyScalar",Ns=["typed"],_s=re(Bs,Ns,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":ri,"Complex, Complex":function(i,n){return i.mul(n)},"BigNumber, BigNumber":function(i,n){return i.times(n)},"bigint, bigint":function(i,n){return i*n},"Fraction, Fraction":function(i,n){return i.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(r,i)=>i.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,i)=>r.multiply(i)})}),fn="multiply",Ms=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Ss=re(fn,Ms,e=>{var{typed:t,matrix:r,addScalar:i,multiplyScalar:n,equalScalar:u,dot:o}=e,a=ui({typed:t,equalScalar:u}),c=oi({typed:t});function l(w,m){switch(w.length){case 1:switch(m.length){case 1:if(w[0]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(w[0]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+w[0]+") must match Matrix rows ("+m[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+m.length+" dimensions)")}break;case 2:switch(m.length){case 1:if(w[1]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+w[1]+") must match Vector length ("+m[0]+")");break;case 2:if(w[1]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+w[1]+") must match Matrix B rows ("+m[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+m.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+w.length+" dimensions)")}}function s(w,m,A){if(A===0)throw new Error("Cannot multiply two empty vectors");return o(w,m)}function h(w,m){if(m.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return D(w,m)}function D(w,m){var A=w._data,B=w._size,N=w._datatype||w.getDataType(),S=m._data,x=m._size,q=m._datatype||m.getDataType(),k=B[0],H=x[1],V,R=i,K=n;N&&q&&N===q&&typeof N=="string"&&N!=="mixed"&&(V=N,R=t.find(i,[V,V]),K=t.find(n,[V,V]));for(var J=[],Y=0;Y<H;Y++){for(var ee=K(A[0],S[0][Y]),ue=1;ue<k;ue++)ee=R(ee,K(A[ue],S[ue][Y]));J[Y]=ee}return w.createDenseMatrix({data:J,size:[H],datatype:N===w._datatype&&q===m._datatype?V:void 0})}var p=t("_multiplyMatrixVector",{"DenseMatrix, any":f,"SparseMatrix, any":y}),d=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":F,"SparseMatrix, DenseMatrix":E,"SparseMatrix, SparseMatrix":b});function f(w,m){var A=w._data,B=w._size,N=w._datatype||w.getDataType(),S=m._data,x=m._datatype||m.getDataType(),q=B[0],k=B[1],H,V=i,R=n;N&&x&&N===x&&typeof N=="string"&&N!=="mixed"&&(H=N,V=t.find(i,[H,H]),R=t.find(n,[H,H]));for(var K=[],J=0;J<q;J++){for(var Y=A[J],ee=R(Y[0],S[0]),ue=1;ue<k;ue++)ee=V(ee,R(Y[ue],S[ue]));K[J]=ee}return w.createDenseMatrix({data:K,size:[q],datatype:N===w._datatype&&x===m._datatype?H:void 0})}function g(w,m){var A=w._data,B=w._size,N=w._datatype||w.getDataType(),S=m._data,x=m._size,q=m._datatype||m.getDataType(),k=B[0],H=B[1],V=x[1],R,K=i,J=n;N&&q&&N===q&&typeof N=="string"&&N!=="mixed"&&N!=="mixed"&&(R=N,K=t.find(i,[R,R]),J=t.find(n,[R,R]));for(var Y=[],ee=0;ee<k;ee++){var ue=A[ee];Y[ee]=[];for(var ne=0;ne<V;ne++){for(var se=J(ue[0],S[0][ne]),Be=1;Be<H;Be++)se=K(se,J(ue[Be],S[Be][ne]));Y[ee][ne]=se}}return w.createDenseMatrix({data:Y,size:[k,V],datatype:N===w._datatype&&q===m._datatype?R:void 0})}function F(w,m){var A=w._data,B=w._size,N=w._datatype||w.getDataType(),S=m._values,x=m._index,q=m._ptr,k=m._size,H=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!S)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var V=B[0],R=k[1],K,J=i,Y=n,ee=u,ue=0;N&&H&&N===H&&typeof N=="string"&&N!=="mixed"&&(K=N,J=t.find(i,[K,K]),Y=t.find(n,[K,K]),ee=t.find(u,[K,K]),ue=t.convert(0,K));for(var ne=[],se=[],Be=[],Ae=m.createSparseMatrix({values:ne,index:se,ptr:Be,size:[V,R],datatype:N===w._datatype&&H===m._datatype?K:void 0}),Fe=0;Fe<R;Fe++){Be[Fe]=se.length;var De=q[Fe],Re=q[Fe+1];if(Re>De)for(var fe=0,oe=0;oe<V;oe++){for(var ke=oe+1,Oe=void 0,ce=De;ce<Re;ce++){var Te=x[ce];fe!==ke?(Oe=Y(A[oe][Te],S[ce]),fe=ke):Oe=J(Oe,Y(A[oe][Te],S[ce]))}fe===ke&&!ee(Oe,ue)&&(se.push(oe),ne.push(Oe))}}return Be[R]=se.length,Ae}function y(w,m){var A=w._values,B=w._index,N=w._ptr,S=w._datatype||w._data===void 0?w._datatype:w.getDataType();if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var x=m._data,q=m._datatype||m.getDataType(),k=w._size[0],H=m._size[0],V=[],R=[],K=[],J,Y=i,ee=n,ue=u,ne=0;S&&q&&S===q&&typeof S=="string"&&S!=="mixed"&&(J=S,Y=t.find(i,[J,J]),ee=t.find(n,[J,J]),ue=t.find(u,[J,J]),ne=t.convert(0,J));var se=[],Be=[];K[0]=0;for(var Ae=0;Ae<H;Ae++){var Fe=x[Ae];if(!ue(Fe,ne))for(var De=N[Ae],Re=N[Ae+1],fe=De;fe<Re;fe++){var oe=B[fe];Be[oe]?se[oe]=Y(se[oe],ee(Fe,A[fe])):(Be[oe]=!0,R.push(oe),se[oe]=ee(Fe,A[fe]))}}for(var ke=R.length,Oe=0;Oe<ke;Oe++){var ce=R[Oe];V[Oe]=se[ce]}return K[1]=R.length,w.createSparseMatrix({values:V,index:R,ptr:K,size:[k,1],datatype:S===w._datatype&&q===m._datatype?J:void 0})}function E(w,m){var A=w._values,B=w._index,N=w._ptr,S=w._datatype||w._data===void 0?w._datatype:w.getDataType();if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var x=m._data,q=m._datatype||m.getDataType(),k=w._size[0],H=m._size[0],V=m._size[1],R,K=i,J=n,Y=u,ee=0;S&&q&&S===q&&typeof S=="string"&&S!=="mixed"&&(R=S,K=t.find(i,[R,R]),J=t.find(n,[R,R]),Y=t.find(u,[R,R]),ee=t.convert(0,R));for(var ue=[],ne=[],se=[],Be=w.createSparseMatrix({values:ue,index:ne,ptr:se,size:[k,V],datatype:S===w._datatype&&q===m._datatype?R:void 0}),Ae=[],Fe=[],De=0;De<V;De++){se[De]=ne.length;for(var Re=De+1,fe=0;fe<H;fe++){var oe=x[fe][De];if(!Y(oe,ee))for(var ke=N[fe],Oe=N[fe+1],ce=ke;ce<Oe;ce++){var Te=B[ce];Fe[Te]!==Re?(Fe[Te]=Re,ne.push(Te),Ae[Te]=J(oe,A[ce])):Ae[Te]=K(Ae[Te],J(oe,A[ce]))}}for(var He=se[De],it=ne.length,ut=He;ut<it;ut++){var wt=ne[ut];ue[ut]=Ae[wt]}}return se[V]=ne.length,Be}function b(w,m){var A=w._values,B=w._index,N=w._ptr,S=w._datatype||w._data===void 0?w._datatype:w.getDataType(),x=m._values,q=m._index,k=m._ptr,H=m._datatype||m._data===void 0?m._datatype:m.getDataType(),V=w._size[0],R=m._size[1],K=A&&x,J,Y=i,ee=n;S&&H&&S===H&&typeof S=="string"&&S!=="mixed"&&(J=S,Y=t.find(i,[J,J]),ee=t.find(n,[J,J]));for(var ue=K?[]:void 0,ne=[],se=[],Be=w.createSparseMatrix({values:ue,index:ne,ptr:se,size:[V,R],datatype:S===w._datatype&&H===m._datatype?J:void 0}),Ae=K?[]:void 0,Fe=[],De,Re,fe,oe,ke,Oe,ce,Te,He=0;He<R;He++){se[He]=ne.length;var it=He+1;for(ke=k[He],Oe=k[He+1],oe=ke;oe<Oe;oe++)if(Te=q[oe],K)for(Re=N[Te],fe=N[Te+1],De=Re;De<fe;De++)ce=B[De],Fe[ce]!==it?(Fe[ce]=it,ne.push(ce),Ae[ce]=ee(x[oe],A[De])):Ae[ce]=Y(Ae[ce],ee(x[oe],A[De]));else for(Re=N[Te],fe=N[Te+1],De=Re;De<fe;De++)ce=B[De],Fe[ce]!==it&&(Fe[ce]=it,ne.push(ce));if(K)for(var ut=se[He],wt=ne.length,Ft=ut;Ft<wt;Ft++){var Dr=ne[Ft];ue[Ft]=Ae[Dr]}}return se[R]=ne.length,Be}return t(fn,n,{"Array, Array":t.referTo("Matrix, Matrix",w=>(m,A)=>{l(qe(m),qe(A));var B=w(r(m),r(A));return ye(B)?B.valueOf():B}),"Matrix, Matrix":function(m,A){var B=m.size(),N=A.size();return l(B,N),B.length===1?N.length===1?s(m,A,B[0]):h(m,A):N.length===1?p(m,A):d(m,A)},"Matrix, Array":t.referTo("Matrix,Matrix",w=>(m,A)=>w(m,r(A))),"Array, Matrix":t.referToSelf(w=>(m,A)=>w(r(m,A.storage()),A)),"SparseMatrix, any":function(m,A){return a(m,A,n,!1)},"DenseMatrix, any":function(m,A){return c(m,A,n,!1)},"any, SparseMatrix":function(m,A){return a(A,m,n,!0)},"any, DenseMatrix":function(m,A){return c(A,m,n,!0)},"Array, any":function(m,A){return c(r(m),A,n,!1).valueOf()},"any, Array":function(m,A){return c(r(A),m,n,!0).valueOf()},"any, any":n,"any, any, ...any":t.referToSelf(w=>(m,A,B)=>{for(var N=w(m,A),S=0;S<B.length;S++)N=w(N,B[S]);return N})})}),cn="conj",Ts=["typed"],xs=re(cn,Ts,e=>{var{typed:t}=e;return t(cn,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),Unit:t.referToSelf(r=>i=>new i.constructor(r(i.toNumeric()),i.formatUnits())),"Array | Matrix":t.referToSelf(r=>i=>st(i,r))})}),ln="identity",Is=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Os=re(ln,Is,e=>{var{typed:t,config:r,matrix:i,BigNumber:n,DenseMatrix:u,SparseMatrix:o}=e;return t(ln,{"":function(){return r.matrix==="Matrix"?i([]):[]},string:function(s){return i(s)},"number | BigNumber":function(s){return c(s,s,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(s,h){return c(s,s,h)},"number | BigNumber, number | BigNumber":function(s,h){return c(s,h,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(s,h,D){return c(s,h,D)},Array:function(s){return a(s)},"Array, string":function(s,h){return a(s,h)},Matrix:function(s){return a(s.valueOf(),s.storage())},"Matrix, string":function(s,h){return a(s.valueOf(),h)}});function a(l,s){switch(l.length){case 0:return s?i(s):[];case 1:return c(l[0],l[0],s);case 2:return c(l[0],l[1],s);default:throw new Error("Vector containing two values expected")}}function c(l,s,h){var D=be(l)||be(s)?n:null;if(be(l)&&(l=l.toNumber()),be(s)&&(s=s.toNumber()),!me(l)||l<1)throw new Error("Parameters in function identity must be positive integers");if(!me(s)||s<1)throw new Error("Parameters in function identity must be positive integers");var p=D?new n(1):1,d=D?new D(0):0,f=[l,s];if(h){if(h==="sparse")return o.diagonal(f,p,0,d);if(h==="dense")return u.diagonal(f,p,0,d);throw new TypeError('Unknown matrix type "'.concat(h,'"'))}for(var g=nr([],f,d),F=l<s?l:s,y=0;y<F;y++)g[y][y]=p;return g}});function zs(){throw new Error('No "bignumber" implementation available')}function Ps(){throw new Error('No "fraction" implementation available')}function $s(){throw new Error('No "matrix" implementation available')}var hn="size",Rs=["typed","config","?matrix"],Us=re(hn,Rs,e=>{var{typed:t,config:r,matrix:i}=e;return t(hn,{Matrix:function(u){return u.create(u.size(),"number")},Array:qe,string:function(u){return r.matrix==="Array"?[u.length]:i([u.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(u){return r.matrix==="Array"?[]:i?i([],"dense","number"):$s()}})}),Dn="zeros",qs=["typed","config","matrix","BigNumber"],Ls=re(Dn,qs,e=>{var{typed:t,config:r,matrix:i,BigNumber:n}=e;return t(Dn,{"":function(){return r.matrix==="Array"?u([]):u([],"default")},"...number | BigNumber | string":function(l){var s=l[l.length-1];if(typeof s=="string"){var h=l.pop();return u(l,h)}else return r.matrix==="Array"?u(l):u(l,"default")},Array:u,Matrix:function(l){var s=l.storage();return u(l.valueOf(),s)},"Array | Matrix, string":function(l,s){return u(l.valueOf(),s)}});function u(c,l){var s=o(c),h=s?new n(0):0;if(a(c),l){var D=i(l);return c.length>0?D.resize(c,h):D}else{var p=[];return c.length>0?nr(p,c,h):p}}function o(c){var l=!1;return c.forEach(function(s,h,D){be(s)&&(l=!0,D[h]=s.toNumber())}),l}function a(c){c.forEach(function(l){if(typeof l!="number"||!me(l)||l<0)throw new Error("Parameters in function zeros must be positive integers")})}}),js="numeric",Vs=["number","?bignumber","?fraction"],Zs=re(js,Vs,e=>{var{number:t,bignumber:r,fraction:i}=e,n={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:o=>t(o),BigNumber:r?o=>r(o):zs,bigint:o=>BigInt(o),Fraction:i?o=>i(o):Ps};return function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",l=arguments.length>2?arguments[2]:void 0;if(l!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var s=ht(a);if(!(s in n))throw new TypeError("Cannot convert "+a+' of type "'+s+'"; valid input types are '+Object.keys(n).join(", "));if(!(c in u))throw new TypeError("Cannot convert "+a+' to type "'+c+'"; valid output types are '+Object.keys(u).join(", "));return c===s?a:u[c](a)}}),pn="divideScalar",ks=["typed","numeric"],Hs=re(pn,ks,e=>{var{typed:t,numeric:r}=e;return t(pn,{"number, number":function(n,u){return n/u},"Complex, Complex":function(n,u){return n.div(u)},"BigNumber, BigNumber":function(n,u){return n.div(u)},"bigint, bigint":function(n,u){return n/u},"Fraction, Fraction":function(n,u){return n.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(i,n)=>i.divide(n),"number | Fraction | Complex | BigNumber, Unit":(i,n)=>n.divideInto(i)})}),dn="pow",Ws=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],Gs=re(dn,Ws,e=>{var{typed:t,config:r,identity:i,multiply:n,matrix:u,inv:o,number:a,fraction:c,Complex:l}=e;return t(dn,{"number, number":s,"Complex, Complex":function(d,f){return d.pow(f)},"BigNumber, BigNumber":function(d,f){return f.isInteger()||d>=0||r.predictable?d.pow(f):new l(d.toNumber(),0).pow(f.toNumber(),0)},"bigint, bigint":(p,d)=>p**d,"Fraction, Fraction":function(d,f){var g=d.pow(f);if(g!=null)return g;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return s(d.valueOf(),f.valueOf())},"Array, number":h,"Array, BigNumber":function(d,f){return h(d,f.toNumber())},"Matrix, number":D,"Matrix, BigNumber":function(d,f){return D(d,f.toNumber())},"Unit, number | BigNumber":function(d,f){return d.pow(f)}});function s(p,d){if(r.predictable&&!me(d)&&p<0)try{var f=c(d),g=a(f);if((d===g||Math.abs((d-g)/d)<1e-14)&&f.d%2n===1n)return(f.n%2n===0n?1:-1)*Math.pow(-p,d)}catch{}return r.predictable&&(p<-1&&d===1/0||p>-1&&p<0&&d===-1/0)?NaN:me(d)||p>=0||r.predictable?ii(p,d):p*p<1&&d===1/0||p*p>1&&d===-1/0?0:new l(p,0).pow(d,0)}function h(p,d){if(!me(d))throw new TypeError("For A^b, b must be an integer (value is "+d+")");var f=qe(p);if(f.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+f.length+" dimensions)");if(f[0]!==f[1])throw new Error("For A^b, A must be square (size is "+f[0]+"x"+f[1]+")");if(d<0)try{return h(o(p),-d)}catch(y){throw y.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+d+")"):y}for(var g=i(f[0]).valueOf(),F=p;d>=1;)(d&1)===1&&(g=n(F,g)),d>>=1,F=n(F,F);return g}function D(p,d){return u(h(p.valueOf(),d))}}),bt="Number of decimals in function round must be an integer",mn="round",Js=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],Ys=re(mn,Js,e=>{var{typed:t,config:r,matrix:i,equalScalar:n,zeros:u,BigNumber:o,DenseMatrix:a}=e,c=ui({typed:t,equalScalar:n}),l=Cs({typed:t,DenseMatrix:a}),s=oi({typed:t});function h(D){return Math.abs(Ut(D).exponent)}return t(mn,{number:function(p){var d=Pt(p,h(r.relTol)),f=St(p,d,r.relTol,r.absTol)?d:p;return Pt(f)},"number, number":function(p,d){var f=h(r.relTol);if(d>=f)return Pt(p,d);var g=Pt(p,f),F=St(p,g,r.relTol,r.absTol)?g:p;return Pt(F,d)},"number, BigNumber":function(p,d){if(!d.isInteger())throw new TypeError(bt);return new o(p).toDecimalPlaces(d.toNumber())},Complex:function(p){return p.round()},"Complex, number":function(p,d){if(d%1)throw new TypeError(bt);return p.round(d)},"Complex, BigNumber":function(p,d){if(!d.isInteger())throw new TypeError(bt);var f=d.toNumber();return p.round(f)},BigNumber:function(p){var d=new o(p).toDecimalPlaces(h(r.relTol)),f=br(p,d,r.relTol,r.absTol)?d:p;return f.toDecimalPlaces(0)},"BigNumber, BigNumber":function(p,d){if(!d.isInteger())throw new TypeError(bt);var f=h(r.relTol);if(d>=f)return p.toDecimalPlaces(d.toNumber());var g=p.toDecimalPlaces(f),F=br(p,g,r.relTol,r.absTol)?g:p;return F.toDecimalPlaces(d.toNumber())},bigint:D=>D,"bigint, number":(D,p)=>D,"bigint, BigNumber":(D,p)=>D,Fraction:function(p){return p.round()},"Fraction, number":function(p,d){if(d%1)throw new TypeError(bt);return p.round(d)},"Fraction, BigNumber":function(p,d){if(!d.isInteger())throw new TypeError(bt);return p.round(d.toNumber())},"Unit, number, Unit":t.referToSelf(D=>function(p,d,f){var g=p.toNumeric(f);return f.multiply(D(g,d))}),"Unit, BigNumber, Unit":t.referToSelf(D=>(p,d,f)=>D(p,d.toNumber(),f)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(D=>(p,d,f)=>st(p,g=>D(g,d,f),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(D=>(p,d)=>D(p,0,d)),"Array | Matrix":t.referToSelf(D=>p=>st(p,D,!0)),"SparseMatrix, number | BigNumber":t.referToSelf(D=>(p,d)=>c(p,d,D,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(D=>(p,d)=>s(p,d,D,!1)),"Array, number | BigNumber":t.referToSelf(D=>(p,d)=>s(i(p),d,D,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":t.referToSelf(D=>(p,d)=>n(p,0)?u(d.size(),d.storage()):l(d,p,D,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":t.referToSelf(D=>(p,d)=>n(p,0)?u(d.size(),d.storage()):s(d,p,D,!0)),"number | Complex | BigNumber | Fraction, Array":t.referToSelf(D=>(p,d)=>s(i(d),p,D,!0).valueOf())})}),gn="dot",Xs=["typed","addScalar","multiplyScalar","conj","size"],Ks=re(gn,Xs,e=>{var{typed:t,addScalar:r,multiplyScalar:i,conj:n,size:u}=e;return t(gn,{"Array | DenseMatrix, Array | DenseMatrix":a,"SparseMatrix, SparseMatrix":c});function o(s,h){var D=l(s),p=l(h),d,f;if(D.length===1)d=D[0];else if(D.length===2&&D[1]===1)d=D[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+D.join(", ")+")");if(p.length===1)f=p[0];else if(p.length===2&&p[1]===1)f=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(d!==f)throw new RangeError("Vectors must have equal length ("+d+" != "+f+")");if(d===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return d}function a(s,h){var D=o(s,h),p=ye(s)?s._data:s,d=ye(s)?s._datatype||s.getDataType():void 0,f=ye(h)?h._data:h,g=ye(h)?h._datatype||h.getDataType():void 0,F=l(s).length===2,y=l(h).length===2,E=r,b=i;if(d&&g&&d===g&&typeof d=="string"&&d!=="mixed"){var w=d;E=t.find(r,[w,w]),b=t.find(i,[w,w])}if(!F&&!y){for(var m=b(n(p[0]),f[0]),A=1;A<D;A++)m=E(m,b(n(p[A]),f[A]));return m}if(!F&&y){for(var B=b(n(p[0]),f[0][0]),N=1;N<D;N++)B=E(B,b(n(p[N]),f[N][0]));return B}if(F&&!y){for(var S=b(n(p[0][0]),f[0]),x=1;x<D;x++)S=E(S,b(n(p[x][0]),f[x]));return S}if(F&&y){for(var q=b(n(p[0][0]),f[0][0]),k=1;k<D;k++)q=E(q,b(n(p[k][0]),f[k][0]));return q}}function c(s,h){o(s,h);for(var D=s._index,p=s._values,d=h._index,f=h._values,g=0,F=r,y=i,E=0,b=0;E<D.length&&b<d.length;){var w=D[E],m=d[b];if(w<m){E++;continue}if(w>m){b++;continue}w===m&&(g=F(g,y(p[E],f[b])),E++,b++)}return g}function l(s){return ye(s)?s.size():u(s)}}),vn="det",Qs=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],ef=re(vn,Qs,e=>{var{typed:t,matrix:r,subtractScalar:i,multiply:n,divideScalar:u,isZero:o,unaryMinus:a}=e;return t(vn,{any:function(s){return Ce(s)},"Array | Matrix":function(s){var h;switch(ye(s)?h=s.size():Array.isArray(s)?(s=r(s),h=s.size()):h=[],h.length){case 0:return Ce(s);case 1:if(h[0]===1)return Ce(s.valueOf()[0]);if(h[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+_e(h)+")");case 2:{var D=h[0],p=h[1];if(D===p)return c(s.clone().valueOf(),D);if(p===0)return 1;throw new RangeError("Matrix must be square (size: "+_e(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+_e(h)+")")}}});function c(l,s,h){if(s===1)return Ce(l[0][0]);if(s===2)return i(n(l[0][0],l[1][1]),n(l[1][0],l[0][1]));for(var D=!1,p=new Array(s).fill(0).map((A,B)=>B),d=0;d<s;d++){var f=p[d];if(o(l[f][d])){var g=void 0;for(g=d+1;g<s;g++)if(!o(l[p[g]][d])){f=p[g],p[g]=p[d],p[d]=f,D=!D;break}if(g===s)return l[f][d]}for(var F=l[f][d],y=d===0?1:l[p[d-1]][d-1],E=d+1;E<s;E++)for(var b=p[E],w=d+1;w<s;w++)l[b][w]=u(i(n(l[b][w],F),n(l[b][d],l[f][w])),y)}var m=l[p[s-1]][s-1];return D?a(m):m}}),wn="inv",tf=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],rf=re(wn,tf,e=>{var{typed:t,matrix:r,divideScalar:i,addScalar:n,multiply:u,unaryMinus:o,det:a,identity:c,abs:l}=e;return t(wn,{"Array | Matrix":function(D){var p=ye(D)?D.size():qe(D);switch(p.length){case 1:if(p[0]===1)return ye(D)?r([i(1,D.valueOf()[0])]):[i(1,D[0])];throw new RangeError("Matrix must be square (size: "+_e(p)+")");case 2:{var d=p[0],f=p[1];if(d===f)return ye(D)?r(s(D.valueOf(),d,f),D.storage()):s(D,d,f);throw new RangeError("Matrix must be square (size: "+_e(p)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+_e(p)+")")}},any:function(D){return i(1,D)}});function s(h,D,p){var d,f,g,F,y;if(D===1){if(F=h[0][0],F===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(1,F)]]}else if(D===2){var E=a(h);if(E===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(h[1][1],E),i(o(h[0][1]),E)],[i(o(h[1][0]),E),i(h[0][0],E)]]}else{var b=h.concat();for(d=0;d<D;d++)b[d]=b[d].concat();for(var w=c(D).valueOf(),m=0;m<p;m++){var A=l(b[m][m]),B=m;for(d=m+1;d<D;)l(b[d][m])>A&&(A=l(b[d][m]),B=d),d++;if(A===0)throw Error("Cannot calculate inverse, determinant is zero");d=B,d!==m&&(y=b[m],b[m]=b[d],b[d]=y,y=w[m],w[m]=w[d],w[d]=y);var N=b[m],S=w[m];for(d=0;d<D;d++){var x=b[d],q=w[d];if(d!==m){if(x[m]!==0){for(g=i(o(x[m]),N[m]),f=m;f<p;f++)x[f]=n(x[f],u(g,N[f]));for(f=0;f<p;f++)q[f]=n(q[f],u(g,S[f]))}}else{for(g=N[m],f=m;f<p;f++)x[f]=i(x[f],g);for(f=0;f<p;f++)q[f]=i(q[f],g)}}}return w}}}),qt=sa({config:pt}),ai=Da({}),si=Ea({}),Or=ya({}),lr=ja({Matrix:Or}),we=co({BigNumber:qt,Complex:ai,DenseMatrix:lr,Fraction:si}),nf=ps({typed:we}),zr=ms({typed:we}),uf=xs({typed:we}),hr=Ga({config:pt,typed:we}),of=Za({equalScalar:hr,typed:we}),fi=_s({typed:we}),ci=rs({typed:we}),li=Xa({Matrix:Or,equalScalar:hr,typed:we}),af=vs({typed:we}),sf=us({BigNumber:qt,typed:we}),mt=cs({DenseMatrix:lr,Matrix:Or,SparseMatrix:li,typed:we}),ff=Ls({BigNumber:qt,config:pt,matrix:mt,typed:we}),hi=ss({Fraction:si,typed:we}),Di=Os({BigNumber:qt,DenseMatrix:lr,SparseMatrix:li,config:pt,matrix:mt,typed:we}),cf=Zs({bignumber:sf,fraction:hi,number:ci}),Ht=Ys({BigNumber:qt,DenseMatrix:lr,config:pt,equalScalar:hr,matrix:mt,typed:we,zeros:ff}),lf=Us({matrix:mt,config:pt,typed:we}),pi=hs({typed:we}),di=Hs({numeric:cf,typed:we}),hf=Ks({addScalar:zr,conj:uf,multiplyScalar:fi,size:lf,typed:we}),Pr=Ss({addScalar:zr,dot:hf,equalScalar:hr,matrix:mt,multiplyScalar:fi,typed:we}),Df=ef({divideScalar:di,isZero:of,matrix:mt,multiply:Pr,subtractScalar:af,typed:we,unaryMinus:pi}),pf=rf({abs:nf,addScalar:zr,det:Df,divideScalar:di,identity:Di,matrix:mt,multiply:Pr,typed:we,unaryMinus:pi}),df=Gs({Complex:ai,config:pt,fraction:hi,identity:Di,inv:pf,matrix:mt,multiply:Pr,number:ci,typed:we});const mf={position:"bottom",strength:2,height:"6rem",divCount:5,exponential:!1,zIndex:1e3,animated:!1,duration:"0.3s",easing:"ease-out",opacity:1,curve:"linear",responsive:!1,target:"parent",className:"",style:{}},Br={top:{position:"top",height:"6rem"},bottom:{position:"bottom",height:"6rem"},left:{position:"left",height:"6rem"},right:{position:"right",height:"6rem"},subtle:{height:"4rem",strength:1,opacity:.8,divCount:3},intense:{height:"10rem",strength:4,divCount:8,exponential:!0},smooth:{height:"8rem",curve:"bezier",divCount:10},sharp:{height:"5rem",curve:"linear",divCount:4},header:{position:"top",height:"8rem",curve:"ease-out"},footer:{position:"bottom",height:"8rem",curve:"ease-out"},sidebar:{position:"left",height:"6rem",strength:2.5},"page-header":{position:"top",height:"10rem",target:"page",strength:3},"page-footer":{position:"bottom",height:"10rem",target:"page",strength:3}},Nr={linear:e=>e,bezier:e=>e*e*(3-2*e),"ease-in":e=>e*e,"ease-out":e=>1-Math.pow(1-e,2),"ease-in-out":e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},gf=(...e)=>e.reduce((t,r)=>({...t,...r}),{}),vf=e=>({top:"to top",bottom:"to bottom",left:"to left",right:"to right"})[e]||"to bottom",wf=(e,t)=>{let r;return(...i)=>{clearTimeout(r),r=setTimeout(()=>e(...i),t)}},Fn=(e,t,r)=>{const[i,n]=ve.useState(t[r]);return ve.useEffect(()=>{if(!e)return;const u=()=>{const a=window.innerWidth;let c=t[r];a<=480&&t[`mobile${r[0].toUpperCase()+r.slice(1)}`]?c=t[`mobile${r[0].toUpperCase()+r.slice(1)}`]:a<=768&&t[`tablet${r[0].toUpperCase()+r.slice(1)}`]?c=t[`tablet${r[0].toUpperCase()+r.slice(1)}`]:a<=1024&&t[`desktop${r[0].toUpperCase()+r.slice(1)}`]&&(c=t[`desktop${r[0].toUpperCase()+r.slice(1)}`]),n(c)},o=wf(u,100);return u(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[e,t,r]),e?i:t[r]},Ff=(e,t=!1)=>{const[r,i]=ve.useState(!t);return ve.useEffect(()=>{if(!t||!e.current)return;const n=new IntersectionObserver(([u])=>i(u.isIntersecting),{threshold:.1});return n.observe(e.current),()=>n.disconnect()},[e,t]),r};function Ef(e){const t=ve.useRef(null),[r,i]=ve.useState(!1),n=ve.useMemo(()=>{const d=e.preset&&Br[e.preset]?Br[e.preset]:{};return gf(mf,d,e)},[e]),u=Fn(n.responsive,n,"height"),o=Fn(n.responsive,n,"width"),a=Ff(t,n.animated==="scroll"),c=ve.useMemo(()=>{const d=[],f=100/n.divCount,g=r&&n.hoverIntensity?n.strength*n.hoverIntensity:n.strength,F=Nr[n.curve]||Nr.linear;for(let y=1;y<=n.divCount;y++){let E=y/n.divCount;E=F(E);let b;n.exponential?b=df(2,E*4)*.0625*g:b=.0625*(E*n.divCount+1)*g;const w=Ht((f*y-f)*10)/10,m=Ht(f*y*10)/10,A=Ht((f*y+f)*10)/10,B=Ht((f*y+f*2)*10)/10;let N=`transparent ${w}%, black ${m}%`;A<=100&&(N+=`, black ${A}%`),B<=100&&(N+=`, transparent ${B}%`);const S=vf(n.position),x={position:"absolute",inset:"0",maskImage:`linear-gradient(${S}, ${N})`,WebkitMaskImage:`linear-gradient(${S}, ${N})`,backdropFilter:`blur(${b.toFixed(3)}rem)`,WebkitBackdropFilter:`blur(${b.toFixed(3)}rem)`,opacity:n.opacity,transition:n.animated&&n.animated!=="scroll"?`backdrop-filter ${n.duration} ${n.easing}`:void 0};d.push(W.jsx("div",{style:x},y))}return d},[n,r]),l=ve.useMemo(()=>{const d=["top","bottom"].includes(n.position),f=["left","right"].includes(n.position),g=n.target==="page",F={position:g?"fixed":"absolute",pointerEvents:n.hoverIntensity?"auto":"none",opacity:a?1:0,transition:n.animated?`opacity ${n.duration} ${n.easing}`:void 0,zIndex:g?n.zIndex+100:n.zIndex,...n.style};return d?(F.height=u,F.width=o||"100%",F[n.position]=0,F.left=0,F.right=0):f&&(F.width=o||u,F.height="100%",F[n.position]=0,F.top=0,F.bottom=0),F},[n,u,o,a]),{hoverIntensity:s,animated:h,onAnimationComplete:D,duration:p}=n;return ve.useEffect(()=>{if(a&&h==="scroll"&&D){const d=parseFloat(p)*1e3,f=setTimeout(()=>D(),d);return()=>clearTimeout(f)}},[a,h,D,p]),W.jsx("div",{ref:t,className:`gradual-blur ${n.target==="page"?"gradual-blur-page":"gradual-blur-parent"} ${n.className}`,style:l,onMouseEnter:s?()=>i(!0):void 0,onMouseLeave:s?()=>i(!1):void 0,children:W.jsx("div",{className:"gradual-blur-inner",style:{position:"relative",width:"100%",height:"100%"},children:c})})}const $r=Qi.memo(Ef);$r.displayName="GradualBlur";$r.PRESETS=Br;$r.CURVE_FUNCTIONS=Nr;const Af=()=>{if(typeof document>"u")return;const e="gradual-blur-styles";if(document.getElementById(e))return;const t=document.createElement("style");t.id=e,t.textContent=`
  .gradual-blur { pointer-events: none; transition: opacity 0.3s ease-out; }
  .gradual-blur-parent { overflow: hidden; }
  .gradual-blur-inner { pointer-events: none; }`,document.head.appendChild(t)};typeof document<"u"&&Af();const mi=({children:e,scrollContainerRef:t,enableBlur:r=!0,baseOpacity:i=.1,blurStrength:n=4,containerClassName:u="",textClassName:o="",stagger:a=.05,childDuration:c=.05,once:l=!1,chromatic:s=!0,chromaOffset:h=2,chromaColors:D=["var(--c-BRND)","var(--c-LGHT)"]})=>{const p=ve.useRef(null),d=cu(),f=Du(p,{root:t&&t.current?t.current:void 0});ve.useEffect(()=>{if(f){if(d.start("visible"),l)return}else l||d.start("hidden")},[f,d,l]);const g={hidden:{},visible:{transition:{when:"beforeChildren",staggerChildren:a}}},y={hidden:{opacity:i,y:8,filter:r?((m=h,A=D)=>s?`blur(${n}px) drop-shadow(${m}px 0 0 ${A[0]}) drop-shadow(${-m}px 0 0 ${A[1]})`:`blur(${n}px)`)(h,D):"none"},visible:{opacity:1,y:0,filter:"blur(0px) drop-shadow(0px 0 0 rgba(0,0,0,0)) drop-shadow(0px 0 0 rgba(0,0,0,0))",transition:{duration:c}}},E=ve.useMemo(()=>typeof e!="string"?null:e.split(/(\s+)/).map((m,A)=>m.match(/^\s+$/)?m:W.jsx(et.span,{className:"word",variants:y,children:m},A)),[e,y]),b=(m,A="0")=>{if(m==null||typeof m=="boolean")return null;if(typeof m=="string"||typeof m=="number")return String(m).split(/(\s+)/).map((N,S)=>N.match(/^\s+$/)?N:W.jsx(et.span,{className:"word",variants:y,children:N},`${A}-w-${S}`));if(Array.isArray(m))return m.map((B,N)=>b(B,`${A}-${N}`));if(ve.isValidElement(m)){const B=`${A}-${String(m.key??"c")}`,N=ve.Children.map(m.props.children,(x,q)=>b(x,`${B}-${q}`));if(typeof m.type=="string"){const x=m.type,q=et[x]||et.div,{children:k,...H}=m.props||{};return ve.createElement(q,{...H,key:B,variants:y,className:`${H.className||""}`},N)}const S=ve.cloneElement(m,{...m.props,children:N});return W.jsx(et.div,{className:`reveal-child ${m.props?.className||""}`,variants:y,children:S},B)}return m},w=ve.useMemo(()=>typeof e=="string"?null:b(e,"root"),[e,y]);return W.jsx(et.h2,{ref:p,className:`scroll-reveal ${u}`,initial:"hidden",animate:d,variants:g,children:W.jsxs("p",{className:`scroll-reveal-text ${o}`,children:[E,w]})})},gi={id:1,title:"LSD JAM",synopsis:"Where games meet drugs",description:"LSD Jam is a game jam I organized in April 2024 together with a friend. The theme was LSD, and the goal was to create a game that explores the relationship between games and drugs. The jam was a huge success, with over 50 participants from all over the world. The winning game was 'Corridor', a first-person exploration game that takes place in a surreal, drug-induced world. I created the branding, website, and promotional materials for the jam, as well as participating as a game developer.",client:"TRIPADVISORS",year:2024,software:["Illustrator","Unity","Blender"],skills:["Adobe Illustrator","Figma","Unity","Blender"],banner:"/img/work/lsdjam/Corridor.png"};function vi(){return W.jsxs("div",{children:[W.jsx("div",{className:"work-full",children:W.jsx("img",{src:"/img/work/lsdjam/hibernation.png",className:"img-full-width",alt:"A retro-futurist room with a VR setup in the middle."})}),W.jsx("div",{className:"work-full-thin",children:W.jsx("img",{src:"/img/work/lsdjam/SpaceShip.png"})}),W.jsxs("div",{className:"work-header",children:[W.jsxs("div",{className:"work-header-chapter",children:[W.jsx("h3",{children:"THE COMMAND ROOM"}),W.jsx("img",{src:"/img/icon/PLS.svg"}),W.jsx("p",{className:"tech-small",children:"LVL::001 - HIBERNATION"})]}),W.jsx(mi,{children:"Lorem ipsum dolor sit amet consectetur adipiscing elit. Quisque faucibus ex sapien vitae pellentesque sem placerat. In id cursus mi pretium tellus duis convallis. Tempus leo eu aenean sed diam urna tempor. Pulvinar vivamus fringilla lacus nec metus bibendum egestas. Iaculis massa nisl malesuada lacinia integer nunc posuere. Ut hendrerit semper vel class aptent taciti sociosqu. Ad litora torquent per conubia nostra inceptos himenaeos"})]}),W.jsxs("div",{className:"work-double",children:[W.jsx("img",{src:"/img/work/lsdjam/CasetteWire.png",alt:"The wireframe of the CassetteRoom scene"}),W.jsx(An,{direction:"Vertical"}),W.jsx("img",{src:"/img/work/lsdjam/CassetteRoom.png",alt:"A retro-futurist room with a VR setup in the middle."})]})]})}const bf=Object.freeze(Object.defineProperty({__proto__:null,Data:gi,default:vi},Symbol.toStringTag,{value:"Module"})),wi={id:1,title:"LD58",synopsis:"They said I'd never amount to anything, but thanks to the power of day drinking, I've achieved god-tier cap collection and total emotional detachment.",description:"Crash on the couch, crack cold ones, and turn cap-popping into peak performance. Collect, sort, and frame every shiny trophy in this chill, juicy parody about achieving God-Tier Cap Collection & Total Emotional Detachment one satisfying pop at a time.",client:"LUDUM DRUNKS",year:2025,software:["Figma","Unity","Blender"],skills:["Figma","Unity","Blender"],banner:"/img/work/ld58/Wallpaper.png"};function Fi(){return W.jsxs("div",{children:[W.jsx("div",{className:"work-full",children:W.jsx("img",{src:"/img/work/ld58/Styleframe.png",className:"img-full-width",alt:"An 80s inspired interior of a bachelor with one goal in mind: collecting."})}),W.jsx("div",{className:"work-full-thin",children:W.jsx("img",{src:"/img/work/ld58/Styleframe2.png"})}),W.jsxs("div",{className:"work-header",children:[W.jsxs("div",{className:"work-header-chapter",children:[W.jsx("h3",{children:"TELEVISION"}),W.jsx("img",{src:"/img/icon/PLS.svg"}),W.jsx("p",{className:"tech-small",children:"SALVATION:::CONSUMPTION"})]}),W.jsx(mi,{children:"The TV was the centerpiece of the bachelor pad, a glowing rectangle that promised escape and entertainment. It was a relic from a bygone era, yet it still held a certain charm. The flickering images on the screen provided a backdrop to the endless cycle of day drinking and cap collecting, a reminder of the outside world that was both tantalizing and distant. Filled with content to distract the modern man from the crushing weight of his own existence, the television was both a blessing and a curse."})]}),W.jsxs("div",{className:"work-double",children:[W.jsx("img",{src:"/img/work/ld58/LOGO.png",alt:"The wireframe of the CassetteRoom scene"}),W.jsx(An,{direction:"Vertical"}),W.jsx("img",{src:"/img/work/ld58/Thumbnail.png",alt:"A retro-futurist room with a VR setup in the middle."})]})]})}const Bf=Object.freeze(Object.defineProperty({__proto__:null,Data:wi,default:Fi},Symbol.toStringTag,{value:"Module"})),Nf={lsdjam:{Component:vi,data:gi},ld58:{Component:Fi,data:wi}};export{$r as G,pu as H,mi as S,bf as _,Bf as a,Nf as p};

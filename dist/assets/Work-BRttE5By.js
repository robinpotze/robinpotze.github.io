import{r as y,j as a,u as D,a as V}from"./index-CT0CjOgM.js";import{_ as B,a as O,p as T}from"./index-CEAFoR6O.js";import{m as P}from"./ScrollDown-DZahL02r.js";class ${constructor(e,r,n,l,o,t,p){this.width=e.width,this.height=e.height,this.ctx=r,this.x=n,this.y=l,this.color=o,this.speed=this.getRandomValue(.1,.9)*t,this.size=0,this.sizeStep=Math.random()*.4,this.minSize=.5,this.maxSizeInteger=2,this.maxSize=this.getRandomValue(this.minSize,this.maxSizeInteger),this.delay=p,this.counter=0,this.counterStep=Math.random()*4+(this.width+this.height)*.01,this.isIdle=!1,this.isReverse=!1,this.isShimmer=!1}getRandomValue(e,r){return Math.random()*(r-e)+e}draw(){const e=this.maxSizeInteger*.5-this.size*.5;this.ctx.fillStyle=this.color,this.ctx.fillRect(this.x+e,this.y+e,this.size,this.size)}appear(){if(this.isIdle=!1,this.counter<=this.delay){this.counter+=this.counterStep;return}this.size>=this.maxSize&&(this.isShimmer=!0),this.isShimmer?this.shimmer():this.size+=this.sizeStep,this.draw()}disappear(){if(this.isShimmer=!1,this.counter=0,this.size<=0){this.isIdle=!0;return}else this.size-=.1;this.draw()}shimmer(){this.size>=this.maxSize?this.isReverse=!0:this.size<=this.minSize&&(this.isReverse=!1),this.isReverse?this.size-=this.speed:this.size+=this.speed}}function K(s,e){const o=parseInt(s,10);return o<=0||e?0:o>=100?100*.001:o*.001}function q({gap:s=6,speed:e=100,noFocus:r=!0,className:n="",children:l}){const o=y.useRef(null),t=y.useRef(null),p=y.useRef([]),m=y.useRef(null),d=y.useRef(performance.now()),u=y.useRef(window.matchMedia("(prefers-reduced-motion: reduce)").matches).current,c=r,x=()=>{if(!o.current||!t.current)return;const i=o.current.getBoundingClientRect(),w=Math.floor(i.width),v=Math.floor(i.height),k=t.current.getContext("2d");t.current.width=w,t.current.height=v,t.current.style.width=`${w}px`,t.current.style.height=`${v}px`;const z=["#eeeeee","#2ad0d5","#d52a2a"],j=[];for(let g=0;g<w;g+=parseInt(s,10))for(let b=0;b<v;b+=parseInt(s,10)){const F=z[Math.floor(Math.random()*z.length)],E=g-w/2,M=b-v/2,A=Math.sqrt(E*E+M*M),L=u?0:A;j.push(new $(t.current,k,g,b,F,K(e,u),L))}p.current=j},R=i=>{m.current=requestAnimationFrame(()=>R(i));const w=performance.now(),v=w-d.current,k=1e3/60;if(v<k)return;d.current=w-v%k;const z=t.current?.getContext("2d");if(!z||!t.current)return;z.clearRect(0,0,t.current.width,t.current.height);let j=!0;for(let g=0;g<p.current.length;g++){const b=p.current[g];b[i](),b.isIdle||(j=!1)}j&&cancelAnimationFrame(m.current)},h=i=>{cancelAnimationFrame(m.current),m.current=requestAnimationFrame(()=>R(i))},S=()=>h("appear"),f=()=>h("disappear"),I=i=>{i.currentTarget.contains(i.relatedTarget)||h("appear")},N=i=>{i.currentTarget.contains(i.relatedTarget)||h("disappear")};return y.useEffect(()=>{x();const i=new ResizeObserver(()=>{x()});return o.current&&i.observe(o.current),()=>{i.disconnect(),cancelAnimationFrame(m.current)}},[c]),a.jsxs("div",{ref:o,className:`pixel-card ${n}`,onMouseEnter:S,onMouseLeave:f,onFocus:c?void 0:I,onBlur:c?void 0:N,tabIndex:c?-1:0,children:[a.jsx("canvas",{className:"pixel-canvas",ref:t}),l]})}const W=Object.assign({"./Ld58/Ld58.jsx":O,"./LsdJam/LsdJam.jsx":B});function C(s){return String(s||"").toLowerCase().replace(/\s+/g,"").replace(/[^a-z0-9\-]/g,"")}const _=Object.entries(W).reduce((s,[e,r])=>{const l=e.split("/")[1];if(!l)return s;const o=r.default||null,t=r.Data||r.data||{},m=t.slug||(t.title?C(t.title):null)||C(l);return s[m]={Component:o,data:t},s},{});function H({to:s,children:e,className:r="",delay:n=50,duration:l=700,...o}){const t=D(),{start:p}=V(),m=async d=>{if(d.metaKey||d.ctrlKey||d.shiftKey||d.altKey||d.button!==0)return;d.preventDefault();const u=d.currentTarget,c=u.getBoundingClientRect(),x={rect:{x:c.x,y:c.y,width:c.width,height:c.height,centerX:c.x+c.width/2,centerY:c.y+c.height/2},viewport:{width:window.innerWidth,height:window.innerHeight}},R=u.querySelector&&u.querySelector("img.card-thumb");R&&R.src&&(x.thumbSrc=R.src),u.dataset&&u.dataset.disp&&(x.dispSrc=u.dataset.disp);try{const h=u.closest&&(u.closest(".work-overview")||document.getElementById("work-overview"));if(h){const S=window.getComputedStyle(h);let f=S.backgroundColor||S.background||"";const I=!f||f==="transparent"||f==="rgba(0, 0, 0, 0)",N=(S.backgroundImage||"").indexOf("gradient")!==-1;if(I||N){const i=window.getComputedStyle(document.documentElement);f=h.style.getPropertyValue("--work-bg")||h.style.getPropertyValue("--c-DRK")||h.style.getPropertyValue("--c-BRND")||i.getPropertyValue("--c-DRK")||i.getPropertyValue("--c-BRND")||f}x.baseColor=f||null}}catch{}await p({out:l,payload:x}),t(s)};return a.jsx("a",{href:s,onClick:m,className:r,...o,children:e})}function J(){return y.useEffect(()=>{const s=e=>{const r=e.clientX/window.innerWidth,n=e.clientY/window.innerHeight;document.documentElement.style.setProperty("--mouse-x",r),document.documentElement.style.setProperty("--mouse-y",n),document.documentElement.style.setProperty("--mouse-cx",(r-.5)*2),document.documentElement.style.setProperty("--mouse-cy",(n-.5)*2)};return window.addEventListener("mousemove",s),()=>window.removeEventListener("mousemove",s)},[]),null}function Q(){const s=Object.keys(_||{}).length?_:T,e=Object.entries(s||{});return a.jsxs("div",{className:"work-overview",id:"work-overview",children:[a.jsx(J,{}),a.jsx(P.h2,{className:"work-title",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{delay:.1},children:"Work"}),a.jsx("div",{className:"work-grid",children:e.map(([r,{data:n}],l)=>{const o=`/work/${r}`;return a.jsx(P.div,{className:"work-card-wrap",whileHover:{scale:1.02},initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.12+l*.05},children:a.jsx(H,{to:o,className:"work-card",style:{"--i":l},duration:400,...n?.dispMap?{"data-disp":n.dispMap}:{},children:a.jsxs("div",{className:"card-bg-wrap",style:n?.banner?{backgroundImage:`url(${n.banner})`}:{},children:[n?.banner&&a.jsx("img",{className:"card-thumb",src:n.banner,alt:"thumb",style:{display:"none"}}),a.jsx(q,{variant:"default",className:"pixel-card-inner",children:a.jsxs("div",{className:"work-card-content",children:[a.jsx("h3",{children:n?.title||r}),a.jsx("p",{className:"synopsis",children:n?.synopsis||""}),a.jsx("span",{className:"tech-small",children:n?.year||""})]})})]})})},r)})})]})}export{Q as default};
